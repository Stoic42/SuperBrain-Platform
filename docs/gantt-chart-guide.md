# 项目甘特图使用指南

## 📅 功能概述

甘特图功能已成功集成到综合管理平台中，可以直观展示星际寻呼机项目的时间线、任务依赖关系和进度情况。

## 🎯 主要功能

### 1. 可视化项目时间线
- 展示所有任务的时间范围
- 清晰显示任务之间的依赖关系
- 支持多种视图模式（日/周/月视图）

### 2. 任务进度跟踪
- 实时显示任务完成进度
- 通过颜色区分任务状态：
  - 🟢 绿色：已完成（100%）
  - 🔵 蓝色：进行中（0-99%）
  - ⚫ 灰色：计划中（0%）

### 3. 详细信息查看
- 鼠标悬停查看任务详情
- 显示负责人、进度、时间范围等信息

## 📍 访问方式

### 方式1：通过导航标签
点击顶部导航栏的 **"📅 项目甘特图"** 标签

### 方式2：键盘快捷键
按 **Ctrl+4**（或 Cmd+4）快速切换到甘特图视图

## 🔄 数据更新

### 自动加载
- 首次打开甘特图标签时自动加载数据
- 数据来源于 `platform/data/gantt-data.json`

### 手动刷新
点击 **"🔄 刷新数据"** 按钮重新加载最新数据

## 📊 数据格式说明

甘特图数据基于WBS（工作分解结构）生成，包含：

```json
{
  "projectStartDate": "项目开始日期",
  "tasks": [
    {
      "id": "任务ID",
      "name": "任务名称",
      "start": "开始日期 (YYYY-MM-DD)",
      "end": "结束日期 (YYYY-MM-DD)",
      "progress": 进度百分比 (0-100),
      "dependencies": "依赖的任务ID（可选）",
      "assignee": "负责人"
    }
  ],
  "milestones": [
    {
      "id": "里程碑ID",
      "name": "里程碑名称",
      "date": "日期 (YYYY-MM-DD)",
      "type": "milestone"
    }
  ]
}
```

## 📝 更新甘特图数据

### 方法1：直接编辑JSON文件
编辑 `platform/data/gantt-data.json` 文件，更新任务信息

### 方法2：基于WBS自动生成
- 更新 `projects/astropager/docs/星际寻呼机项目WBS.md`
- 运行脚本（如需要）将WBS转换为甘特图数据格式

## 🎨 界面操作

### 视图切换
- 在甘特图右上角可以切换不同的时间视图
- 支持：Quarter Day, Half Day, Day, Week, Month

### 任务交互
- **鼠标悬停**：查看任务详细信息
- **点击任务**：在控制台查看任务数据（开发模式）

## 🔧 技术实现

### 使用的库
- **Frappe Gantt**: 轻量级、功能完整的甘特图库
- CDN加载，无需本地安装

### 数据加载
- 使用 `fetch` API 从JSON文件加载数据
- 支持异步加载和错误处理

## ⚠️ 注意事项

1. **数据文件路径**：确保 `gantt-data.json` 文件在 `platform/data/` 目录下
2. **日期格式**：使用 `YYYY-MM-DD` 格式
3. **依赖关系**：任务ID必须唯一，依赖的任务ID必须存在
4. **进度值**：0-100之间的整数

## 🚀 后续改进计划

### 短期（已完成）
- ✅ 基础甘特图展示
- ✅ 任务进度可视化
- ✅ 基本信息展示

### 中期（计划中）
- ⏳ 任务拖拽编辑
- ⏳ 进度手动更新
- ⏳ 数据自动保存

### 长期（可选）
- 📋 导出PDF/图片功能
- 📋 多项目对比视图
- 📋 资源分配可视化

## 📚 相关文档

- [项目管理工具箱分析与方案](../../docs/guidelines/项目管理工具箱分析与方案.md)
- [星际寻呼机项目WBS](../../projects/astropager/docs/星际寻呼机项目WBS.md)
- [Frappe Gantt 官方文档](https://frappe.io/gantt)

## 💡 使用建议

1. **定期更新进度**：建议每周更新一次任务进度
2. **及时调整时间**：如果任务时间有变化，及时更新JSON文件
3. **查看依赖关系**：通过甘特图了解任务之间的依赖，合理安排资源
4. **里程碑管理**：关注里程碑节点，确保项目按计划推进

---

**最后更新**: 2024-10-28
**维护者**: 平台开发团队

