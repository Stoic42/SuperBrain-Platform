<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üß†</text></svg>">
    <title>Ë∂ÖËÑëAIÁ∫ø‰∏äÈªëÂÆ¢Êùæ1.5 - ÁªºÂêàÁÆ°ÁêÜÂπ≥Âè∞</title>
    <!-- Frappe Gantt Chart Library -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/frappe-gantt@0.6.1/dist/frappe-gantt.css">
    <script src="https://cdn.jsdelivr.net/npm/frappe-gantt@0.6.1/dist/frappe-gantt.min.js"></script>
    <!-- html2canvas for exporting images -->
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <!-- jsPDF for PDF export (optional) -->
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <!-- Marked.js for Markdown rendering -->
    <script src="https://cdn.jsdelivr.net/npm/marked@9.1.6/marked.min.js"></script>
    <!-- Highlight.js for code syntax highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github.min.css">
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/highlight.min.js"></script>
    <style>
        :root {
            /* ËãπÊûúÈ£éÊ†ºÈªëÁôΩÁÆÄÁ∫¶ÈÖçËâ≤ */
            --primary: #000000;
            --primary-light: #1d1d1f;
            --accent: #86868b;
            --accent-light: #d2d2d7;
            --success: #34c759;
            --warning: #ff9500;
            --danger: #ff3b30;
            --bg-primary: #ffffff;
            --bg-secondary: #f5f5f7;
            --card-bg: #ffffff;
            --surface: #f5f5f7;
            --surface-hover: #e8e8ed;
            --text: #1d1d1f;
            --text-secondary: #86868b;
            --text-tertiary: #d2d2d7;
            --border: #d2d2d7;
            --border-light: #f5f5f7;
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.12);
            --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.16);
        }

        html[data-theme="dark"] {
            --primary: #ffffff;
            --primary-light: #e8e8ed;
            --accent: #86868b;
            --accent-light: #424245;
            --bg-primary: #000000;
            --bg-secondary: #1d1d1f;
            --card-bg: #1d1d1f;
            --surface: #2d2d2f;
            --surface-hover: #3a3a3c;
            --text: #f5f5f7;
            --text-secondary: #a1a1a6;
            --text-tertiary: #636366;
            --border: #424245;
            --border-light: #2d2d2f;
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.4);
            --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Segoe UI', 'Microsoft YaHei', 'Noto Sans SC', system-ui, sans-serif;
            background: var(--bg-primary);
            min-height: 100vh;
            color: var(--text);
            line-height: 1.47059;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        p { 
            color: var(--text);
            font-size: 17px;
            letter-spacing: -0.022em;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .header {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 60px 40px;
            margin-bottom: 40px;
            box-shadow: none;
            border: 1px solid var(--border-light);
            text-align: center;
            position: relative;
        }

        .header h1 {
            color: var(--text);
            font-size: 56px;
            font-weight: 600;
            margin-bottom: 12px;
            letter-spacing: -0.003em;
            line-height: 1.07143;
        }

        .header .subtitle {
            color: var(--text-secondary);
            font-size: 28px;
            font-weight: 400;
            margin-bottom: 30px;
            letter-spacing: 0.004em;
            line-height: 1.21429;
        }

        .status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--surface);
            color: var(--text);
            padding: 20px 30px;
            border-radius: 12px;
            margin-top: 24px;
            border: 1px solid var(--border-light);
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-number {
            font-size: 1.5em;
            font-weight: bold;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;
            flex-wrap: wrap;
            gap: 8px;
            padding: 0 20px;
        }

        .nav-tab {
            background: var(--card-bg);
            color: var(--text);
            border: 1px solid var(--border);
            padding: 12px 24px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 17px;
            font-weight: 400;
            letter-spacing: -0.022em;
            outline: none;
        }

        .nav-tab:hover {
            background: var(--surface);
            border-color: var(--border);
        }

        .nav-tab.active {
            background: var(--text);
            color: var(--card-bg);
            border-color: var(--text);
            font-weight: 500;
        }

        /* ÁîòÁâπÂõæÊ†∑Âºè */
        #gantt-container {
            min-height: 600px;
            position: relative;
        }

        #gantt-container svg {
            font-family: 'Microsoft YaHei', 'Segoe UI', sans-serif;
        }

        /* ÁîòÁâπÂõæ‰ªªÂä°Áä∂ÊÄÅÊ†∑Âºè */
        .gantt .bar-wrapper .bar.completed {
            fill: var(--success);
        }

        .gantt .bar-wrapper .bar.in-progress {
            fill: var(--text);
        }

        .gantt .bar-wrapper .bar.planned {
            fill: var(--text-tertiary);
        }

        .content-section {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 40px;
            box-shadow: none;
            border: 1px solid var(--border-light);
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .card:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .card h2 {
            color: var(--text);
            margin-bottom: 32px;
            font-size: 32px;
            font-weight: 600;
            letter-spacing: -0.003em;
            line-height: 1.125;
            border-bottom: none;
            padding-bottom: 0;
        }

        .card h3 {
            color: var(--text);
            margin: 24px 0 16px 0;
            font-size: 24px;
            font-weight: 600;
            letter-spacing: -0.003em;
            line-height: 1.16667;
        }

        .project-overview {
            grid-column: 1 / -1;
        }

        .project-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .stat-item {
            background: var(--surface);
            color: var(--text);
            padding: 32px 24px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid var(--border-light);
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .stat-item:hover {
            background: var(--surface-hover);
            box-shadow: var(--shadow-sm);
        }

        .stat-number {
            font-size: 48px;
            font-weight: 600;
            margin-bottom: 8px;
            letter-spacing: -0.003em;
            line-height: 1.08349;
            color: var(--text);
        }

        .stat-label {
            font-size: 17px;
            color: var(--text-secondary);
            font-weight: 400;
            letter-spacing: -0.022em;
        }

        .team-member {
            display: flex;
            align-items: center;
            padding: 16px;
            margin: 12px 0;
            background: var(--surface);
            border-radius: 12px;
            border: 1px solid var(--border-light);
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .team-member:hover {
            background: var(--surface-hover);
            box-shadow: var(--shadow-sm);
            transform: translateX(4px);
        }

        .member-avatar {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: var(--text);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--card-bg);
            font-weight: 500;
            font-size: 20px;
            margin-right: 16px;
            flex-shrink: 0;
        }

        .member-info {
            flex: 1;
            position: relative;
            z-index: 1;
        }

        .member-info h3 {
            color: var(--text);
            margin-bottom: 4px;
            font-size: 17px;
            font-weight: 600;
            letter-spacing: -0.022em;
        }

        .member-role {
            color: var(--text-secondary);
            font-size: 15px;
            margin-bottom: 4px;
            font-weight: 400;
        }

        .member-skills {
            color: var(--text-secondary);
            font-size: 13px;
            font-weight: 400;
        }

        .member-status {
            margin-left: auto;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 500;
            letter-spacing: -0.01em;
        }

        .status-active {
            background: var(--success);
            color: white;
        }

        .status-pending {
            background: var(--warning);
            color: white;
        }

        .status-offline {
            background: var(--text-tertiary);
            color: var(--text);
        }

        .status-progress {
            background: var(--text);
            color: var(--card-bg);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--surface);
            border-radius: 4px;
            overflow: hidden;
            margin: 16px 0;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: var(--text);
            border-radius: 4px;
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .milestone {
            background: var(--surface);
            color: var(--text);
            padding: 24px;
            margin: 16px 0;
            border-radius: 12px;
            border: 1px solid var(--border-light);
            position: relative;
        }

        .milestone h3 {
            margin-bottom: 8px;
            font-size: 20px;
            font-weight: 600;
            letter-spacing: -0.003em;
            color: var(--text);
        }

        .milestone-date {
            font-size: 15px;
            color: var(--text-secondary);
            font-weight: 400;
            margin-top: 4px;
        }

        .challenge-level {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .challenge-card {
            padding: 32px 24px;
            border-radius: 12px;
            text-align: center;
            color: var(--text);
            background: var(--surface);
            border: 1px solid var(--border-light);
            position: relative;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .challenge-card:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-4px);
        }

        .bronze {
            border-color: #b8860b;
            background: var(--surface);
        }

        .silver {
            border-color: #a8a8a8;
            background: var(--surface);
        }

        .gold {
            border-color: #ffb347;
            background: var(--surface);
        }

        .challenge-amount {
            font-size: 40px;
            font-weight: 600;
            margin: 16px 0;
            letter-spacing: -0.003em;
            color: var(--text);
        }

        .task-list {
            list-style: none;
        }

        .task-item {
            display: flex;
            align-items: center;
            padding: 16px;
            margin: 8px 0;
            background: var(--surface);
            border-radius: 12px;
            border: 1px solid var(--border-light);
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .task-item:hover {
            background: var(--surface-hover);
            box-shadow: var(--shadow-sm);
        }

        .task-checkbox {
            margin-right: 15px;
            transform: scale(1.3);
            cursor: pointer;
        }

        .task-text {
            flex: 1;
            color: var(--text);
            font-size: 1.05em;
        }

        .task-priority {
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: bold;
            margin-left: 15px;
        }

        .priority-high {
            background: var(--danger);
            color: white;
        }

        .priority-medium {
            background: var(--warning);
            color: white;
        }

        .priority-low {
            background: var(--text-tertiary);
            color: var(--text);
        }

        .activity-timeline {
            max-height: 500px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .activity-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin: 12px 0;
            background: var(--surface);
            border-radius: 12px;
            border-left: 5px solid #3498db;
            transition: all 0.3s ease;
        }

        .activity-item:hover {
            background: var(--surface-hover);
            transform: translateX(5px);
        }

        .activity-time {
            color: var(--muted);
            font-size: 0.9em;
            margin-right: 20px;
            min-width: 100px;
            font-weight: 500;
        }

        .activity-content {
            flex: 1;
            color: var(--text);
            font-size: 1.05em;
        }

        .alert {
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            border-left: 5px solid;
            font-size: 1.05em;
        }

        .alert-warning {
            background: var(--surface);
            border: 1px solid var(--warning);
            border-left-width: 4px;
            color: var(--text);
            padding: 16px;
            border-radius: 12px;
        }

        .alert-success {
            background: var(--surface);
            border: 1px solid var(--success);
            border-left-width: 4px;
            color: var(--text);
            padding: 16px;
            border-radius: 12px;
        }

        .alert-info {
            background: var(--surface);
            border: 1px solid var(--border);
            border-left-width: 4px;
            color: var(--text);
            padding: 16px;
            border-radius: 12px;
        }

        /* ÂÄíËÆ°Êó∂Èù¢ÊùøÊ†∑Âºè */
        .countdown-panel {
            background: linear-gradient(135deg, var(--surface) 0%, var(--card-bg) 100%);
            border-radius: 18px;
            padding: 40px;
            margin-bottom: 30px;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }

        .countdown-title {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 24px;
            color: var(--text);
            text-align: center;
            letter-spacing: -0.003em;
        }

        .countdown-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            margin-top: 24px;
        }

        .countdown-item {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 24px 16px;
            text-align: center;
            border: 1px solid var(--border-light);
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .countdown-item:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .countdown-number {
            font-size: 48px;
            font-weight: 600;
            color: var(--text);
            line-height: 1.2;
            margin-bottom: 8px;
            font-variant-numeric: tabular-nums;
        }

        .countdown-label {
            font-size: 15px;
            color: var(--text-secondary);
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .countdown-message {
            text-align: center;
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid var(--border-light);
            font-size: 17px;
            color: var(--text-secondary);
        }

        .countdown-urgent {
            color: var(--danger);
        }

        .countdown-warning {
            color: var(--warning);
        }

        /* Â•ñÂä±Âç°ÁâáÊ†∑Âºè - ËãπÊûúÈ£éÊ†º */
        .rewards-container {
            background: var(--surface);
            border: 1px solid var(--border-light);
            padding: 20px;
            border-radius: 12px;
            margin: 8px 0;
        }

        .rewards-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 12px;
        }

        .reward-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            padding: 16px 12px;
            border-radius: 12px;
            text-align: center;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .reward-card:hover {
            box-shadow: var(--shadow-sm);
            transform: translateY(-1px);
        }

        .reward-card.bronze {
            border-left: 3px solid #b8860b;
        }

        .reward-card.silver {
            border-left: 3px solid var(--accent);
        }

        .reward-card.gold {
            border-left: 3px solid #ffb347;
        }

        .reward-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .reward-level {
            font-size: 15px;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 6px;
            letter-spacing: -0.01em;
        }

        .reward-amount {
            font-size: 18px;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 4px;
            letter-spacing: -0.01em;
        }

        .reward-desc {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 4px;
            line-height: 1.4;
        }

        .reward-team {
            font-size: 13px;
            color: var(--text-secondary);
            text-align: center;
            padding-top: 12px;
            border-top: 1px solid var(--border-light);
            margin-top: 12px;
        }

        /* ÊñáÊ°£Êü•ÁúãÂô®Ê†∑Âºè */
        .doc-viewer-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 10000;
            backdrop-filter: blur(8px);
        }

        .doc-viewer-overlay.active {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
        }

        .doc-viewer-container {
            background: var(--card-bg);
            border-radius: 18px;
            max-width: 900px;
            max-height: 90vh;
            width: 100%;
            display: flex;
            flex-direction: column;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-light);
        }

        .doc-viewer-header {
            padding: 24px 32px;
            border-bottom: 1px solid var(--border-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
        }

        .doc-viewer-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--text);
            letter-spacing: -0.003em;
        }

        .doc-viewer-close {
            background: var(--surface);
            border: 1px solid var(--border);
            color: var(--text);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .doc-viewer-close:hover {
            background: var(--surface-hover);
            transform: scale(1.1);
        }

        .doc-viewer-content {
            padding: 32px;
            overflow-y: auto;
            flex: 1;
            color: var(--text);
            line-height: 1.8;
        }

        .doc-viewer-content h1,
        .doc-viewer-content h2,
        .doc-viewer-content h3,
        .doc-viewer-content h4 {
            color: var(--text);
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            letter-spacing: -0.003em;
        }

        .doc-viewer-content h1 {
            font-size: 32px;
            border-bottom: 1px solid var(--border-light);
            padding-bottom: 12px;
        }

        .doc-viewer-content h2 {
            font-size: 24px;
        }

        .doc-viewer-content h3 {
            font-size: 20px;
        }

        .doc-viewer-content p {
            margin-bottom: 16px;
            color: var(--text);
        }

        .doc-viewer-content code {
            background: var(--surface);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
            font-size: 0.9em;
            border: 1px solid var(--border-light);
        }

        .doc-viewer-content pre {
            background: var(--surface);
            padding: 16px;
            border-radius: 12px;
            overflow-x: auto;
            border: 1px solid var(--border-light);
            margin: 16px 0;
        }

        .doc-viewer-content pre code {
            background: transparent;
            padding: 0;
            border: none;
        }

        .doc-viewer-content ul,
        .doc-viewer-content ol {
            margin: 16px 0;
            padding-left: 24px;
        }

        .doc-viewer-content li {
            margin: 8px 0;
            color: var(--text);
        }

        .doc-viewer-content blockquote {
            border-left: 4px solid var(--border);
            padding-left: 16px;
            margin: 16px 0;
            color: var(--text-secondary);
        }

        .doc-viewer-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
        }

        .doc-viewer-content table th,
        .doc-viewer-content table td {
            padding: 12px;
            border: 1px solid var(--border-light);
            text-align: left;
        }

        .doc-viewer-content table th {
            background: var(--surface);
            font-weight: 600;
        }

        .doc-viewer-loading {
            text-align: center;
            padding: 60px;
            color: var(--text-secondary);
        }

        .doc-viewer-error {
            text-align: center;
            padding: 60px;
            color: var(--danger);
        }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 20px 0;
        }

        .tech-tag {
            background: var(--surface);
            color: var(--text);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 500;
            border: 1px solid var(--border);
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .tech-tag:hover {
            background: var(--surface-hover);
            border-color: var(--text);
        }

        .workflow-step {
            background: var(--surface);
            border: 1px solid var(--border-light);
            padding: 24px;
            margin: 16px 0;
            border-radius: 12px;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .workflow-step:hover {
            box-shadow: var(--shadow-sm);
            transform: translateX(4px);
        }

        .workflow-step h4 {
            color: var(--text);
            margin-bottom: 12px;
            font-size: 20px;
            font-weight: 600;
            letter-spacing: -0.003em;
        }

        .link-button {
            display: inline-block;
            background: var(--text);
            color: var(--card-bg);
            padding: 12px 24px;
            text-decoration: none;
            border-radius: 12px;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            margin: 8px;
            font-weight: 500;
            font-size: 17px;
            outline: none;
            border: none;
            cursor: pointer;
        }

        .link-button:hover {
            background: var(--text-secondary);
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }

        .nav-tab:focus-visible, .link-button:focus-visible, .floating-action:focus-visible, .theme-toggle:focus-visible {
            outline: 2px solid var(--text);
            outline-offset: 2px;
        }

        /* ÂØπÊØîÊ¶ÇËßàÁªÑ‰ª∂ */
        .compare-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 20px 0;
        }
        @media (max-width: 992px) {
            .compare-grid { grid-template-columns: 1fr; }
        }
        .compare-card {
            position: relative;
            padding: 32px;
            border-radius: 18px;
            color: var(--text);
            background: var(--card-bg);
            border: 1px solid var(--border-light);
            box-shadow: none;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .compare-card:hover {
            box-shadow: var(--shadow-md);
        }
        .compare-card.purple { border-left: 4px solid var(--text); }
        .compare-card.orange { border-left: 4px solid var(--text-secondary); }
        .compare-header { display: flex; align-items: center; margin-bottom: 24px; }
        .compare-emoji { font-size: 2.5em; margin-right: 15px; }
        .compare-title { margin: 0 0 5px 0; color: var(--text); font-size: 24px; font-weight: 600; }
        .compare-subtitle { margin: 0; color: var(--text-secondary); font-size: 17px; }

        .compare-metrics { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 24px; }
        .compare-metric {
            background: var(--surface);
            padding: 20px; 
            border-radius: 12px; 
            text-align: center;
            border: 1px solid var(--border-light);
        }
        .compare-metric .num { font-size: 32px; font-weight: 600; margin-bottom: 6px; color: var(--text); }
        .compare-metric .label { font-size: 15px; color: var(--text-secondary); }

        .compare-goal {
            background: var(--surface);
            padding: 20px; 
            border-radius: 12px;
            border: 1px solid var(--border-light);
        }
        .compare-goal .title { font-weight: 600; margin-bottom: 8px; color: var(--text); }
        .compare-goal .text { font-size: 15px; line-height: 1.6; color: var(--text-secondary); }

        /* Back-to-back ÂØπÊØîÂ∏ÉÂ±Ä */
        .compare-b2b { display: flex; flex-direction: column; gap: 18px; margin-top: 20px; }
        .compare-head { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; }
        .head-card { 
            padding: 24px; 
            border-radius: 18px; 
            color: var(--text); 
            background: var(--card-bg);
            border: 1px solid var(--border-light);
            box-shadow: none; 
            display: flex; 
            align-items: center; 
            gap: 12px; 
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .head-card:hover {
            box-shadow: var(--shadow-sm);
        }
        .head-card .emoji { font-size: 1.8em; }
        .head-card .title { margin: 0; font-weight: 600; color: var(--text); font-size: 20px; }
        .head-card .subtitle { margin: 2px 0 0 0; font-size: 15px; color: var(--text-secondary); }
        .head-card.a { border-left: 4px solid var(--text); }
        .head-card.b { border-left: 4px solid var(--text-secondary); }

        .compare-rows { display: flex; flex-direction: column; gap: 12px; }
        .compare-row { display: grid; grid-template-columns: 160px 1fr 1fr; gap: 12px; align-items: stretch; }
        .compare-row .label { background: var(--surface); color: var(--text); border-radius: 12px; padding: 14px; font-weight: 600; display: flex; align-items: center; justify-content: center; text-align: center; }
        .compare-row .cell { background: var(--surface); border-radius: 12px; padding: 16px; box-shadow: inset 0 0 0 1px rgba(0,0,0,0.04); }
        .compare-row .cell .value { font-size: 1.35em; font-weight: 800; letter-spacing: 0.2px; }
        .compare-row .cell-a { border-left: 5px solid var(--primary); }
        .compare-row .cell-b { border-left: 5px solid #ff6b6b; }
        .compare-row .desc { line-height: 1.65; color: var(--text); }

        @media (max-width: 860px) {
            .compare-row { grid-template-columns: 1fr; }
            .compare-row .label { justify-content: flex-start; text-align: left; }
        }

        /* ËØ¶ÁªÜ‰ø°ÊÅØÂØπÁÖßÂ∏ÉÂ±Ä */
        .details-b2b { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; }
        @media (max-width: 992px) { .details-b2b { grid-template-columns: 1fr; } }
        .detail-card .detail-section { margin: 16px 0; }
        .list-clean { margin: 12px 0; line-height: 1.7; }
        .feature-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; margin: 12px 0; }
        @media (max-width: 768px) { .feature-grid { grid-template-columns: 1fr; } }
        .feature-grid h4 { margin: 0 0 6px 0; }
        .feature-grid ul { margin: 6px 0; line-height: 1.6; font-size: 0.95em; }

        .panel-primary { 
            background: var(--surface); 
            color: var(--text); 
            padding: 20px; 
            border-radius: 12px; 
            margin: 16px 0;
            border: 1px solid var(--border-light);
        }
        .panel-primary h4 { margin: 0 0 12px 0; color: var(--text); font-weight: 600; }
        .panel-primary ul { margin: 8px 0; line-height: 1.6; font-size: 15px; }

        .reward-banner { 
            background: var(--surface); 
            color: var(--text); 
            padding: 24px; 
            border-radius: 12px; 
            margin: 16px 0;
            border: 1px solid var(--border-light);
        }
        .reward-banner .title { margin: 0 0 12px 0; color: var(--text); font-weight: 600; }
        .tier-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; margin-bottom: 16px; }
        @media (max-width: 900px) { .tier-grid { grid-template-columns: 1fr; } }
        .tier-card { 
            background: var(--card-bg); 
            padding: 20px; 
            border-radius: 12px; 
            border: 1px solid var(--border-light);
        }
        .tier-card h5 { margin: 0 0 8px 0; color: var(--text); font-weight: 600; }
        .gold-text { color: var(--text); font-weight: 600; }
        .silver-text { color: var(--text-secondary); }
        .tier-meta { font-size: 17px; font-weight: 600; margin-bottom: 8px; color: var(--text); }
        .tier-card ul { margin: 6px 0; font-size: 15px; line-height: 1.6; color: var(--text-secondary); }
         .note { background: var(--surface); padding: 16px; border-radius: 12px; font-size: 15px; border: 1px solid var(--border-light); color: var(--text-secondary); }

         /* ÂèØÂ±ïÂºÄÁöÑË°®Ê†ºÂ§¥ÈÉ® */
         .expandable-header {
             cursor: pointer;
             transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
             position: relative;
             user-select: none;
             padding: 12px;
             border-radius: 8px;
             color: inherit; /* ÁªßÊâøË°®Ê†ºÂ§¥ÁöÑÊñáÂ≠óÈ¢úËâ≤ */
         }
         /* ÊµÖËâ≤Ê®°Âºè‰∏ãÁ°Æ‰øùÊñáÂ≠óÈ¢úËâ≤ */
         html:not([data-theme="dark"]) .expandable-header {
             color: #fff !important;
         }
         
         /* ÊµÖËâ≤Ê®°Âºè‰∏ãÊÇ¨ÂÅúÊïàÊûú - ‰ΩøÁî®Êõ¥Ê∑±ÁöÑËÉåÊôØËâ≤‰øùÊåÅÂØπÊØîÂ∫¶ */
         html:not([data-theme="dark"]) .expandable-header:hover {
             background: linear-gradient(135deg, rgba(29, 29, 31, 0.9), rgba(45, 45, 47, 0.9)) !important;
             color: #fff !important;
             box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.3);
         }
         
         /* Ê∑±Ëâ≤Ê®°Âºè‰∏ã */
         html[data-theme="dark"] .expandable-header {
             color: #1d1d1f !important;
         }
         
         /* Ê∑±Ëâ≤Ê®°Âºè‰∏ãÊÇ¨ÂÅúÊïàÊûú */
         html[data-theme="dark"] .expandable-header:hover {
             background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(232, 232, 237, 0.95)) !important;
             color: #1d1d1f !important;
             box-shadow: inset 0 0 0 2px rgba(0, 0, 0, 0.2);
         }
         .expandable-header::after {
             content: '‚ñº';
             position: absolute;
             right: 15px;
             top: 50%;
             transform: translateY(-50%);
             transition: transform 0.3s ease;
             font-size: 0.8em;
             color: inherit; /* ÁªßÊâøÊñáÂ≠óÈ¢úËâ≤ */
         }
         
         /* ÊµÖËâ≤Ê®°Âºè‰∏ãÁÆ≠Â§¥È¢úËâ≤ */
         html:not([data-theme="dark"]) .expandable-header::after {
             color: #fff !important;
         }
         
         /* ÊµÖËâ≤Ê®°Âºè‰∏ãÊÇ¨ÂÅúÊó∂ÁÆ≠Â§¥‰øùÊåÅÁôΩËâ≤ */
         html:not([data-theme="dark"]) .expandable-header:hover::after {
             color: #fff !important;
         }
         
         /* Ê∑±Ëâ≤Ê®°Âºè‰∏ãÁÆ≠Â§¥È¢úËâ≤ */
         html[data-theme="dark"] .expandable-header::after {
             color: #1d1d1f !important;
         }
         
         /* Ê∑±Ëâ≤Ê®°Âºè‰∏ãÊÇ¨ÂÅúÊó∂ÁÆ≠Â§¥‰øùÊåÅÊ∑±Ëâ≤ */
         html[data-theme="dark"] .expandable-header:hover::after {
             color: #1d1d1f !important;
         }
         .expandable-header.expanded::after {
             transform: translateY(-50%) rotate(180deg);
         }

         /* ËØ¶ÁªÜÂ±ïÂºÄÂÜÖÂÆπ */
         .detail-expansion {
             max-height: 0;
             overflow: hidden;
             transition: max-height 0.5s ease, padding 0.3s ease;
             background: var(--surface);
             border-radius: 0 0 12px 12px;
         }
         .detail-expansion.expanded {
             max-height: 2000px;
             padding: 20px;
         }
         .detail-expansion.aligned { box-sizing: border-box; }
         .detail-expansion.aligned .detail-grid { grid-template-columns: 1fr; }

         /* Ë°®Ê†ºÂàóÈöêËóè/ÊòæÁ§∫Âä®Áîª */
        .table-col-hidden {
            width: 0 !important;
            min-width: 0 !important;
            max-width: 0 !important;
            padding: 0 !important;
            margin: 0 !important;
            overflow: hidden;
            opacity: 0;
            visibility: hidden;
            transform: translateX(-100%);
            transition: all 0.5s ease;
            border: none !important;
            display: none !important; /* ÁúüÊ≠£‰ªéË°®Ê†ºÂ∏ÉÂ±ÄÁßªÈô§ */
        }

         .table-col-expanded {
             width: 100% !important;
             opacity: 1;
             visibility: visible;
             transform: translateX(0);
             transition: all 0.5s ease;
             position: relative !important;
             left: auto !important;
         }

         .table-col-normal {
             width: 40% !important;
             opacity: 1;
             visibility: visible;
             transform: translateX(0);
             transition: all 0.5s ease;
             position: relative !important;
             left: auto !important;
         }

         /* Ë°®Ê†ºË°åÂÜÖÂÆπÈöêËóè */
        .table-row-hidden {
            opacity: 0;
            visibility: hidden;
            transform: translateX(-50px);
            transition: all 0.3s ease;
            display: none !important; /* ‰ªéÂ∏ÉÂ±Ä‰∏≠ÁßªÈô§ÈöêËóèÂàóÁöÑÂçïÂÖÉÊ†º */
        }

         .table-row-visible {
             opacity: 1;
             visibility: visible;
             transform: translateX(0);
             transition: all 0.3s ease;
             display: table-cell;
         }

        .dim-col-hidden { display: none !important; }

         /* ËØ¶ÁªÜÂÜÖÂÆπÁΩëÊ†º */
         .detail-grid {
             display: grid;
             grid-template-columns: 1fr 1fr;
             gap: 20px;
             margin-top: 15px;
         }
         @media (max-width: 768px) {
             .detail-grid { grid-template-columns: 1fr; }
         }
         .detail-card {
             background: var(--card-bg);
             padding: 20px;
             border-radius: 12px;
             box-shadow: var(--shadow-1);
             border: 1px solid rgba(255,255,255,0.1);
         }
         .detail-card h4 {
             color: var(--primary);
             margin-bottom: 15px;
             font-size: 1.1em;
             border-bottom: 2px solid var(--accent);
             padding-bottom: 8px;
         }
         .detail-card ul {
             margin: 10px 0;
             line-height: 1.6;
         }
         .detail-card li {
             margin: 6px 0;
             padding-left: 8px;
         }

        /* Ë°®ÂÜÖËΩªÈáèÈìæÊé• */
        .inline-link {
            color: var(--accent);
            text-decoration: underline;
            font-size: 0.9em;
            margin-left: 8px;
            cursor: pointer;
        }
        .inline-link:hover { color: var(--accent-2); }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .stat-card {
            background: var(--surface);
            border: 1px solid var(--border-light);
            color: var(--text);
            padding: 24px;
            border-radius: 12px;
            text-align: center;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
            background: var(--surface-hover);
        }

        .stat-card .stat-number {
            font-size: 48px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text);
            letter-spacing: -0.003em;
            line-height: 1.08349;
        }

        .stat-card > div:not(.stat-number) {
            font-size: 15px;
            color: var(--text-secondary);
            font-weight: 400;
            letter-spacing: -0.01em;
        }

        .timeline {
            position: relative;
            padding-left: 40px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 20px;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(180deg, var(--primary), var(--primary-2));
            border-radius: 2px;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            background: var(--card-bg);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .timeline-item:hover {
            transform: translateX(10px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -28px;
            top: 25px;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--primary-2));
            border: 3px solid white;
            box-shadow: 0 0 0 3px var(--primary);
        }

        .timeline-item small { color: var(--muted); }

        /* Êï∞ÊçÆÂàÜÊûêÔºöË°®Ê†º‰∏éÂæΩÁ´† */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            background: var(--card-bg);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow-1);
            table-layout: fixed; /* ‰æø‰∫éÂàóÂÆΩÈáçÂàÜÈÖç */
        }
        .data-table th, .data-table td {
            padding: 12px 14px;
            border: 1px solid rgba(0,0,0,0.08);
            color: var(--text);
        }
        .data-table th {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: #fff;
            text-align: left;
            border-color: rgba(255,255,255,0.18);
        }
        
        /* ÊµÖËâ≤Ê®°Âºè‰∏ãË°®Ê†ºÂ§¥ËÉåÊôØÁ°Æ‰øùÊúâÂØπÊØîÂ∫¶ */
        html:not([data-theme="dark"]) .data-table th {
            background: linear-gradient(135deg, #1d1d1f, #2d2d2f);
            color: #fff;
        }
        
        /* Ê∑±Ëâ≤Ê®°Âºè‰∏ãË°®Ê†ºÂ§¥ */
        html[data-theme="dark"] .data-table th {
            background: linear-gradient(135deg, #ffffff, #e8e8ed);
            color: #1d1d1f;
        }
        .data-table tr:nth-child(even) td { background: var(--surface); }
        .data-table tr:hover td { background: var(--surface-hover); }

        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 13px;
            font-weight: 500;
            vertical-align: middle;
        }
        .status-badge.status-completed { background: var(--success); color: white; }
        .status-badge.status-progress  { background: var(--text); color: white; }
        .status-badge.status-pending   { background: var(--warning); color: white; }
        .status-badge.status-blocked   { background: var(--danger); color: white; }

        .footer {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            background: var(--card-bg);
            border-radius: 20px;
            color: var(--muted);
            backdrop-filter: saturate(1.2) blur(6px);
            -webkit-backdrop-filter: saturate(1.2) blur(6px);
        }

        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .challenge-level {
                grid-template-columns: 1fr;
            }
            
            .nav-tabs {
                flex-direction: column;
                align-items: center;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .status-bar {
                flex-direction: column;
                gap: 15px;
            }
        }

        .floating-action {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--text);
            color: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 50%;
            width: 56px;
            height: 56px;
            font-size: 1.5em;
            cursor: pointer;
            box-shadow: var(--shadow-md);
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .floating-action:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-lg);
            background: var(--text-secondary);
        }
        
        html[data-theme="dark"] .floating-action {
            background: var(--text);
            color: var(--card-bg);
            border-color: var(--border);
        }
        
        html[data-theme="dark"] .floating-action:hover {
            background: var(--primary-light);
        }

        /* ‰∏ªÈ¢òÂàáÊç¢ÊåâÈíÆ */
        .theme-toggle {
            position: absolute;
            top: 16px;
            right: 16px;
            border: 1px solid var(--border);
            background: var(--card-bg);
            color: var(--text);
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
            box-shadow: none;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 400;
        }
        .theme-toggle:hover { 
            background: var(--surface);
            box-shadow: var(--shadow-sm);
            transform: translateY(-1px);
        }
        html[data-theme="dark"] .theme-toggle { 
            background: var(--card-bg);
            color: var(--text);
            border-color: var(--border);
        }
        html[data-theme="dark"] .theme-toggle:hover {
            background: var(--surface);
        }

        /* ÁôªÂΩïÊ®°ÊÄÅÊ°ÜÊ†∑Âºè */
        .login-modal {
            display: flex;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            z-index: 10000;
            justify-content: center;
            align-items: center;
        }

        .login-container {
            background: var(--card-bg);
            padding: 50px;
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            max-width: 450px;
            width: 90%;
            border: 1px solid var(--border);
        }

        .login-container h2 {
            color: var(--text);
            text-align: center;
            margin-bottom: 10px;
            font-size: 32px;
        }

        .login-subtitle {
            color: var(--text-secondary);
            text-align: center;
            margin-bottom: 30px;
            font-size: 16px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: var(--text);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px 16px;
            background: var(--surface);
            color: var(--text);
            border: 1px solid var(--border);
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.2s;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--text);
            background: var(--card-bg);
        }

        .btn {
            width: 100%;
            padding: 14px 24px;
            border: none;
            border-radius: 10px;
            font-size: 17px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--text);
            color: var(--card-bg);
        }

        .btn-primary:hover {
            background: var(--primary-light);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .login-hint {
            margin-top: 20px;
            padding: 15px;
            background: var(--surface);
            border-radius: 10px;
            text-align: center;
        }

        .login-hint p {
            color: var(--text-secondary);
            font-size: 14px;
            margin: 0;
        }

        /* Áî®Êà∑‰ø°ÊÅØÊ†èÊ†∑Âºè */
        .user-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--surface);
            padding: 15px 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            border: 1px solid var(--border-light);
        }

        .user-details {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--text);
            color: var(--card-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
        }

        .user-text h3 {
            margin: 0;
            color: var(--text);
            font-size: 18px;
        }

        .user-text p {
            margin: 5px 0 0 0;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .logout-btn {
            background: var(--danger);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }

        .logout-btn:hover {
            background: #d52c27;
        }

        /* Êñá‰ª∂‰∏ä‰º†Âå∫ÂüüÊ†∑Âºè */
        .upload-area {
            border: 2px dashed var(--border);
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            background: var(--surface);
            cursor: pointer;
            transition: all 0.2s;
        }

        .upload-area:hover {
            background: var(--surface-hover);
            border-color: var(--text);
        }

        .upload-area.dragover {
            background: var(--surface-hover);
            border-color: var(--text);
        }

        .upload-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }

        .upload-text {
            color: var(--text);
            font-size: 16px;
            margin-bottom: 10px;
        }

        .upload-hint {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .file-list {
            margin-top: 30px;
        }

        .file-item {
            background: var(--surface);
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid var(--border-light);
        }

        .file-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .file-icon {
            font-size: 24px;
        }

        .file-details h4 {
            margin: 0;
            color: var(--text);
            font-size: 16px;
        }

        .file-details p {
            margin: 5px 0 0 0;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .file-status {
            padding: 5px 12px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
        }

        .file-status.uploaded {
            background: var(--success);
            color: white;
        }

        /* ËßíËâ≤Ê†áÁ≠æÊ†∑Âºè */
        .role-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            margin-left: 10px;
        }

        .role-badge.leader {
            background: #f39c12;
            color: white;
        }

        .role-badge.mentor {
            background: #3498db;
            color: white;
        }

        .role-badge.navigator {
            background: #9b59b6;
            color: white;
        }

        .role-badge.member {
            background: var(--text-secondary);
            color: white;
        }

        .role-badge.coordinator {
            background: #1abc9c;
            color: white;
        }

        .role-badge.owner {
            background: #e74c3c;
            color: white;
        }

        .role-badge.recorder {
            background: #34495e;
            color: white;
        }
    </style>
</head>
<body>
    <!-- ÁôªÂΩïÊ®°ÊÄÅÊ°Ü -->
    <div id="loginModal" class="login-modal">
        <div class="login-container">
            <h2>üöÄ Ë∂ÖËÑëAIÈªëÂÆ¢Êùæ - ÁôªÂΩï</h2>
            <p class="login-subtitle">ËØ∑ÈÄâÊã©ÊÇ®ÁöÑË∫´‰ªΩÂπ∂ÁôªÂΩï</p>
            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label for="username">Áî®Êà∑Âêç</label>
                    <select id="username" name="username" required>
                        <option value="">ËØ∑ÈÄâÊã©...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="password">ÂØÜÁ†ÅÔºà‰ªªÊÑèÂ≠óÁ¨¶Ôºâ</label>
                    <input type="password" id="password" name="password" placeholder="ËæìÂÖ•‰ªªÊÑèÂØÜÁ†Å" required>
                </div>
                <button type="submit" class="btn btn-primary">ÁôªÂΩï</button>
            </form>
            <div class="login-hint">
                <p>üí° ÊèêÁ§∫ÔºöÈÄâÊã©‰∏Ä‰∏™Áî®Êà∑ÂêçÂç≥ÂèØÁôªÂΩïÔºàÊºîÁ§∫ÁâàÊú¨Ôºâ</p>
            </div>
        </div>
    </div>

    <div class="container" id="mainContent" style="display: none;">
        <!-- Â§¥ÈÉ®‰ø°ÊÅØ -->
        <div class="header">
            <button id="themeToggle" class="theme-toggle" title="ÂàáÊç¢‰∏ªÈ¢ò">üåô Ê∑±Ëâ≤</button>
            <h1>üöÄ Ë∂ÖËÑëAIÁ∫ø‰∏äÈªëÂÆ¢Êùæ1.5</h1>
            <p class="subtitle">AIÂéüÁîüÂàõÊñ∞Â∑•‰ΩúÊµÅ ¬∑ ÁªºÂêàÁÆ°ÁêÜÂπ≥Âè∞</p>
            
            <div class="status-bar">
                <div class="status-item">
                    <span>üìÖ</span>
                    <span id="status-date">Âä†ËΩΩ‰∏≠...</span>
                </div>
                <div class="status-item">
                    <span class="status-number">8</span>
                    <span>Â≠¶ÂëòÊÄªÊï∞</span>
                </div>
                <div class="status-item">
                    <span class="status-number">2</span>
                    <span>È°πÁõÆÁªÑ</span>
                </div>
                <div class="status-item">
                    <span class="status-number">8</span>
                    <span>ÂØºÂ∏àÂõ¢Èòü</span>
                </div>
                <div class="status-item">
                    <span class="status-number">25%</span>
                    <span>Êï¥‰ΩìËøõÂ∫¶</span>
                </div>
            </div>
        </div>

        <!-- ÂØºËà™Ê†áÁ≠æ -->
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showSection('overview')">üìä È°πÁõÆÊÄªËßà</button>
            <button class="nav-tab" onclick="showSection('teams')">üë• Âõ¢ÈòüÁÆ°ÁêÜ</button>
            <button class="nav-tab" onclick="showSection('progress')">üìà ËøõÂ±ïË∑üË∏™</button>
            <button class="nav-tab" onclick="showSection('gantt')">üìÖ È°πÁõÆÁîòÁâπÂõæ</button>
            <button class="nav-tab" onclick="showSection('critical-path')">üîç ÂÖ≥ÈîÆË∑ØÂæÑÂàÜÊûê</button>
            <button class="nav-tab" onclick="showSection('risk-matrix')">‚ö†Ô∏è È£éÈô©ÂàÜÊûêÁü©Èòµ</button>
            <button class="nav-tab" onclick="showSection('kanban')">üìã ‰ªªÂä°ÁúãÊùø</button>
            <button class="nav-tab" onclick="showSection('mytasks')">‚úÖ ÊàëÁöÑ‰ªªÂä°</button>
            <button class="nav-tab" onclick="showSection('challenges')">üèÜ È°πÁõÆÊåëÊàò</button>
            <button class="nav-tab" onclick="showSection('workflow')">ü§ñ AIÂ∑•‰ΩúÊµÅ</button>
            <button class="nav-tab" onclick="showSection('resources')">üìö ËµÑÊ∫ê‰∏≠ÂøÉ</button>
            <button class="nav-tab" onclick="showSection('analytics')">üìä Êï∞ÊçÆÂàÜÊûê</button>
            <button class="nav-tab" onclick="showSection('submissions')" id="submissionTab" style="display: none;">üìé Êñá‰ª∂Êèê‰∫§</button>
        </div>

        <!-- È°πÁõÆÊÄªËßà -->
        <div id="overview" class="content-section active">
            <div class="card project-overview">
                <h2>üåü È°πÁõÆÊÄªËßà</h2>
                <p style="margin-bottom: 25px; font-size: 1.1em;">
                    Ë∂ÖËÑëÈªëÂÆ¢Êùæ1.5ÂåÖÂê´‰∏§‰∏™Âπ≥Ë°åÈ°πÁõÆÔºö<strong>ÊòüÈôÖÂØªÂëºÊú∫ÔºàAstroPagerÔºâ</strong>‚Äî‚ÄîÂü∫‰∫éAlien Agent‰∏ñÁïåËßÇÁîüÊÄÅÁöÑÁ°¨‰ª∂Êâ©Â±ïÈ°πÁõÆÔºåÊâìÈÄ†‰∏éÁΩëÈ°µÁâàËÅîÈÄöÁöÑÈöèË∫´ÊòüÈôÖÂØªÂëºÊú∫ËÆæÂ§áÔºõ<strong>Ê∏∏ÊàèÂåñÂÖ±Â≠¶Âπ≥Âè∞</strong>‚Äî‚ÄîAIÊäÄËÉΩÊ†ëÂ≠¶‰π†Âπ≥Âè∞Âª∫ËÆæ‰∏éÊ∏∏ÊàèÂåñËØæÁ®ãÁ≥ªÁªüÂºÄÂèë„ÄÇ
                </p>
                
                <div class="project-stats">
                    <div class="stat-item">
                        <div class="stat-number">8</div>
                        <div class="stat-label">Â≠¶ÂëòÊÄªÊï∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">2</div>
                        <div class="stat-label">È°πÁõÆÁªÑ</div>
                    </div>
                <div class="stat-item">
                    <div class="stat-number">8</div>
                    <div class="stat-label">ÂØºÂ∏àÂõ¢Èòü</div>
                </div>
                    <div class="stat-item">
                        <div class="stat-number">83%</div>
                        <div class="stat-label">‰Ωú‰∏öÂÆåÊàêÁéá</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">83%</div>
                        <div class="stat-label">ÁéØÂ¢ÉÈÖçÁΩÆÁéá</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">8</div>
                        <div class="stat-label">Âë®ÂºÄÂèëÂë®Êúü</div>
                    </div>
                </div>

                <div class="alert alert-warning">
                    ‚ö†Ô∏è <strong>Êú¨Âë®ÂÖ≥ÈîÆ‰ªªÂä°:</strong> Week 3Á°¨‰ª∂Âü∫Á°ÄÈ™åËØÅÊúüÔºà11.2-11.8Ôºâüî¥ È´ò‰ºòÂÖàÁ∫ßÔºöÂºÄÂèëÊùøÂà∞Ë¥ßÈ™åËØÅ„ÄÅÈÄö‰ø°ÂçèËÆÆÁ°ÆËÆ§„ÄÅËΩØ‰ª∂È°πÁõÆÂàùÂßãÂåñ„ÄÅFusion 360Â≠¶‰π†„ÄÇÁ°¨‰ª∂ÁªÑ‰∏ªËßÇËÉΩÂä®ÊÄßÈúÄÊèêÂçáÔºåÂº†ÁªçÂçøË¥üË¥£Áù£‰øÉ„ÄÇ
                </div>
                
                <div class="alert alert-success">
                    ‚úÖ <strong>ÊúÄÊñ∞ËøõÂ±ï:</strong> ÂºÄÂèëÊùøÂ∑≤ÈááË¥≠ÔºàÂæÆÈõ™ESP32-S3 3.5ÂØ∏Ôºå147ÂÖÉÔºâÔºåÂêÑÁªÑRoadmapÂ∑≤ÂØπÈΩê„ÄÇÂº†ÁªçÂçøÂ∑≤Á°ÆËÆ§ÊãÖ‰ªªÈ°πÁõÆÁªÑÈïøÔºåË¥üË¥£ÂçèË∞ÉÈ°πÁõÆËøõÂ∫¶ÂíåÂõ¢ÈòüÂçè‰Ωú„ÄÇ
                </div>

                <div class="alert alert-info">
                    üí° <strong>Ê†∏ÂøÉÁêÜÂøµ:</strong> ËøáÁ®ãÂç≥ÊàêÊûú„ÄÇÊàë‰ª¨ÂÖ≥Ê≥®Â≠¶ÂëòËÉΩÂäõÊèêÂçá„ÄÅÂõ¢ÈòüÂçè‰Ωú„ÄÅAIÂçè‰ΩúÂíåÂàõÊñ∞ÊÄùÁª¥ÁöÑÂüπÂÖªÔºåËÄåÈùû‰ªÖ‰ªÖÊòØÈ°πÁõÆ‰∫§‰ªò„ÄÇ
                </div>

                <!-- ÂÄíËÆ°Êó∂Èù¢Êùø -->
                <div class="countdown-panel">
                    <h2 class="countdown-title">‚è∞ È°πÁõÆÂÄíËÆ°Êó∂</h2>
                    <div class="countdown-grid" id="countdown-grid">
                        <div class="countdown-item">
                            <div class="countdown-number" id="countdown-days">--</div>
                            <div class="countdown-label">Â§©</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-number" id="countdown-hours">--</div>
                            <div class="countdown-label">Â∞èÊó∂</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-number" id="countdown-minutes">--</div>
                            <div class="countdown-label">ÂàÜÈíü</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-number" id="countdown-seconds">--</div>
                            <div class="countdown-label">Áßí</div>
                        </div>
                    </div>
                    <div class="countdown-message" id="countdown-message">
                        Ë∑ùÁ¶ªÈ°πÁõÆÊèê‰∫§Êà™Ê≠¢ËøòÊúâ...
                    </div>
                </div>

                <!-- ÂΩìÂâçÈ°πÁõÆÈò∂ÊÆµÊåáÁ§∫ -->
                <div class="card" style="margin-top: 30px;">
                    <h2>üìç ÂΩìÂâçÈ°πÁõÆÈò∂ÊÆµ</h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div id="current-phase-indicator" style="background: var(--surface); padding: 20px; border-radius: 12px; border: 1px solid var(--border-light);">
                            <div style="font-size: 15px; color: var(--text-secondary); margin-bottom: 8px;">ÂΩìÂâçÈò∂ÊÆµ</div>
                            <div style="font-size: 24px; font-weight: 600; color: var(--text);" id="current-phase-name">Week 3: Á°¨‰ª∂Âü∫Á°ÄÈ™åËØÅ üî¥</div>
                            <div style="font-size: 15px; color: var(--text-secondary); margin-top: 8px;" id="current-phase-date">2024-11-02 Ëá≥ 2024-11-08</div>
                        </div>
                        <div style="background: var(--surface); padding: 20px; border-radius: 12px; border: 1px solid var(--border-light);">
                            <div style="font-size: 15px; color: var(--text-secondary); margin-bottom: 8px;">È°πÁõÆÂë®Êúü</div>
                            <div style="font-size: 24px; font-weight: 600; color: var(--text);">8Âë®</div>
                            <div style="font-size: 15px; color: var(--text-secondary); margin-top: 8px;">ÁõÆÊ†á: ‰øùÈì∂ÂÜ≤Èáë ‚≠ê</div>
                        </div>
                        <div style="background: var(--surface); padding: 20px; border-radius: 12px; border: 1px solid var(--border-light);">
                            <div style="font-size: 15px; color: var(--text-secondary); margin-bottom: 8px;">È°πÁõÆËøõÂ∫¶</div>
                            <div style="font-size: 24px; font-weight: 600; color: var(--text);" id="overall-progress">25%</div>
                            <div style="font-size: 15px; color: var(--text-secondary); margin-top: 8px;">Week 1-2ÂÆåÊàêÔºåËøõÂÖ•ÂÖ≥ÈîÆÈ™åËØÅÊúü</div>
                        </div>
                    </div>
                    <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--border-light);">
                        <div style="font-size: 15px; line-height: 1.8; color: var(--text);">
                            <strong>üìã Êú¨Âë®ÂÖ≥ÈîÆ‰ªªÂä°:</strong><br>
                            <span id="current-phase-tasks">Á°¨‰ª∂ÈÄâÂûãÁ°ÆËÆ§ ‚úÖ | ÂºÄÂèëÊùøÂà∞Ë¥ßÈ™åËØÅ üî¥ | ËΩØ‰ª∂È°πÁõÆÂàùÂßãÂåñ üîÑ | Fusion 360Â≠¶‰π† üîÑ</span><br>
                            <span style="font-size: 13px; color: var(--text-secondary); margin-top: 8px; display: block;">‚ö†Ô∏è Êú¨Âë®ÊòØüî¥ÂÖ≥ÈîÆÊúüÔºöÁ°¨‰ª∂È™åËØÅÂ¶ÇÊú™ÂÆåÊàêÔºåÊï¥‰∏™È°πÁõÆÂª∂Êúü</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Âõ¢ÈòüÁÆ°ÁêÜ -->
        <div id="teams" class="content-section">
            <div class="dashboard-grid">
                <div class="card">
                    <h2>üõ∏ AIÊô∫ËÉΩÈöèË∫´Á°¨‰ª∂ÁªÑ</h2>
                    
                    <div class="team-member">
                        <div class="member-avatar">Ëµµ</div>
                        <div class="member-info">
                            <h3>ËµµÂ§©Êúó (13Â≤Å)</h3>
                            <div class="member-role">IDËÆæËÆ°ÁªÑ - Â∑•‰∏öËÆæËÆ°Âª∫Ê®°</div>
                            <div class="member-skills">3DÂª∫Ê®°„ÄÅÁØÜÂàª„ÄÅÊªëÈõ™„ÄÅÈ¢ÜÂØºÂäõÂº∫</div>
                        </div>
                        <div class="member-status status-progress">üîÑ ËøõË°å‰∏≠</div>
                    </div>

                    <div class="team-member">
                        <div class="member-avatar">Ëíã</div>
                        <div class="member-info">
                            <h3>ËíãÁöìËΩ© (14Â≤Å)</h3>
                            <div class="member-role">Á°¨‰ª∂ÁªÑ - ÂµåÂÖ•ÂºèÂºÄÂèë</div>
                            <div class="member-skills">Arduino/Raspberry Pi„ÄÅSTM32„ÄÅÂ§öÊ¨°ÈªëÂÆ¢ÊùæÁªèÈ™å</div>
                        </div>
                        <div class="member-status status-progress">üîÑ ËøõË°å‰∏≠</div>
                    </div>

                    <div class="team-member">
                        <div class="member-avatar">Âº†</div>
                        <div class="member-info">
                            <h3>Âº†ÁªçÂçø (13Â≤Å) - Team Leader</h3>
                            <div class="member-role">ËΩØ‰ª∂ÁªÑ - ËΩØ‰ª∂ÂºÄÂèë | È°πÁõÆÁªÑÈïø</div>
                            <div class="member-skills">ÈõÖÊÄù7.5„ÄÅÊï∞Â≠¶‰ø±‰πêÈÉ®„ÄÅÊ∏∏ÊàèÂºÄÂèë„ÄÅÈ¢ÜÂØºÂäõ</div>
                        </div>
                        <div class="member-status status-progress">üîÑ ËøõË°å‰∏≠</div>
                    </div>

                    <div class="team-member">
                        <div class="member-avatar">ÈÇì</div>
                        <div class="member-info">
                            <h3>ÈÇìÂ≠êÁøî/Mike (‰∏ÉÂçáÂÖ´)</h3>
                            <div class="member-role">ËΩØ‰ª∂ÁªÑ - ÂâçÁ´ØÂºÄÂèë</div>
                            <div class="member-skills">ÂâçÁ´ØÊäÄÊúØÊ†à„ÄÅPython/C++„ÄÅAIÂ∑•ÂÖ∑‰∏ìÂÆ∂</div>
                        </div>
                        <div class="member-status status-progress">üîÑ ËøõË°å‰∏≠</div>
                    </div>

                    <div class="team-member">
                        <div class="member-avatar">Êûó</div>
                        <div class="member-info">
                            <h3>ÊûóÂºòÊØÖ</h3>
                            <div class="member-role">IDËÆæËÆ°ÁªÑ - ÂçèÂä©ËµµÂ§©Êúó</div>
                            <div class="member-skills">Ê≠£Âú®ÁÜüÊÇâÈ°πÁõÆÔºåÂçèÂä©Â§ñËßÇËÆæËÆ°</div>
                        </div>
                        <div class="member-status status-progress">üîÑ ËøõË°å‰∏≠</div>
                    </div>

                    <div class="team-member">
                        <div class="member-avatar">Â§è</div>
                        <div class="member-info">
                            <h3>Â§èÊ¢ìÁöì (13Â≤Å)</h3>
                            <div class="member-role">Á°¨‰ª∂ÁªÑ - ÂçèÂä©ËíãÁöìËΩ©</div>
                            <div class="member-skills">Python/C++Âü∫Á°Ä„ÄÅAI‰ΩøÁî®ÁÜüÁªÉ„ÄÅÂàõÊÑè‰∏∞ÂØå</div>
                        </div>
                        <div class="member-status status-progress">üîÑ ËøõË°å‰∏≠</div>
                    </div>
                </div>

                <div class="card">
                    <h2>üéÆ Ê∏∏ÊàèÂåñÁ∫ø‰∏äÂÖ±Â≠¶ÁªÑ</h2>
                    
                    <div class="team-member">
                        <div class="member-avatar">È´ò</div>
                        <div class="member-info">
                            <h3>È´ò‰∫ë‰ª™ (11Â≤Å)</h3>
                            <div class="member-role">Á∫ø‰∏äÂÖ±Â≠¶ - ÈòüÈïø</div>
                            <div class="member-skills">ÂõæÂΩ¢ÂåñÁºñÁ®ã‰∏âÁ∫ß„ÄÅPython‰∫îÁ∫ß„ÄÅC++ gesp1Á∫ß</div>
                        </div>
                        <div class="member-status status-active">‚úÖ Â∑≤ÂÆåÊàê</div>
                    </div>

                    <div class="team-member">
                        <div class="member-avatar">Èô∂</div>
                        <div class="member-info">
                            <h3>Èô∂Â•ïÂòâ (13Â≤Å)</h3>
                            <div class="member-role">Á∫ø‰∏äÂÖ±Â≠¶ - Á°¨‰ª∂ÂàõÊñ∞</div>
                            <div class="member-skills">ÂçäÂØº‰ΩìÂà∂‰Ωú„ÄÅÁ°¨‰ª∂ÂàõÊñ∞„ÄÅÂçé‰∏∫ÂºÄÂèëËÄÖÂ§ßËµõËé∑Â•ñ</div>
                        </div>
                        <div class="member-status status-progress">üîÑ ËøõË°å‰∏≠</div>
                    </div>
                </div>

                <div class="card">
                    <h2>üõ∏ AIÊô∫ËÉΩÈöèË∫´Á°¨‰ª∂ÁªÑ - ÂØºÂ∏àÂõ¢Èòü</h2>
                    
                    <div class="team-member">
                        <div class="member-avatar">ÈÉù</div>
                        <div class="member-info">
                            <h3>ÈÉùÂæ∑ÂÆè</h3>
                            <div class="member-role">È°πÁõÆÂØºÂ∏à</div>
                            <div class="member-skills">Á°¨‰ª∂ÂºÄÂèë„ÄÅÈ°πÁõÆÊû∂ÊûÑ„ÄÅÊäÄÊúØÊåáÂØº</div>
                        </div>
                        <div class="member-status status-active">‚úÖ Âú®Á∫ø</div>
                    </div>

                    <div class="team-member">
                        <div class="member-avatar">Âßú</div>
                        <div class="member-info">
                            <h3>ÂßúÂæêÂÆÅ (L1_)</h3>
                            <div class="member-role">È°πÁõÆÈ¢ÜËà™Âëò</div>
                            <div class="member-skills">AIÂ∑•ÂÖ∑‰ΩøÁî®„ÄÅÂõ¢ÈòüÂçèË∞É„ÄÅÊäÄÊúØÊîØÊåÅ</div>
                        </div>
                        <div class="member-status status-active">‚úÖ Âú®Á∫ø</div>
                    </div>

                    <div class="team-member">
                        <div class="member-avatar">‰πê</div>
                        <div class="member-info">
                            <h3>‰πê‰πê (ÂÇª‰πêÂêåÂ≠¶)</h3>
                            <div class="member-role">È°πÁõÆÊ°à‰∏ª</div>
                            <div class="member-skills">È°πÁõÆÈáë‰∏ª„ÄÅ5000ÂÖÉÂ•ñÈáëÊèê‰æõÊñπ„ÄÅ‰ªªÂä°ÂèëÂ∏É</div>
                        </div>
                        <div class="member-status status-active">‚úÖ Âú®Á∫ø</div>
                    </div>
                </div>

                <div class="card">
                    <h2>üéÆ Ê∏∏ÊàèÂåñÁ∫ø‰∏äÂÖ±Â≠¶ÁªÑ - ÂØºÂ∏àÂõ¢Èòü</h2>
                    
                    <div class="team-member">
                        <div class="member-avatar">M</div>
                        <div class="member-info">
                            <h3>Michael (Áéã‰Ω≥Ê¢Å)</h3>
                            <div class="member-role">È°πÁõÆÊ°à‰∏ª</div>
                            <div class="member-skills">È°πÁõÆÈáë‰∏ª„ÄÅÊàòÁï•ËßÑÂàí„ÄÅ‰∫ßÂìÅËÆæËÆ°</div>
                        </div>
                        <div class="member-status status-active">‚úÖ Âú®Á∫ø</div>
                    </div>

                    <div class="team-member">
                        <div class="member-avatar">ÊΩò</div>
                        <div class="member-info">
                            <h3>ÊΩòÁéâÈπè (È¢ÑËßÅ)</h3>
                            <div class="member-role">È°πÁõÆÂØºÂ∏à</div>
                            <div class="member-skills">ËΩØ‰ª∂ÂºÄÂèë„ÄÅÊû∂ÊûÑËÆæËÆ°„ÄÅÊïôÂ≠¶ÊåáÂØº</div>
                        </div>
                        <div class="member-status status-active">‚úÖ Âú®Á∫ø</div>
                    </div>

                    <div class="team-member">
                        <div class="member-avatar">A</div>
                        <div class="member-info">
                            <h3>Aiken (Ëµ∂Á®øÁâà)</h3>
                            <div class="member-role">È°πÁõÆÈ¢ÜËà™Âëò</div>
                            <div class="member-skills">ÊäÄÊúØÊåáÂØº„ÄÅÂ∑•ÂÖ∑ÈÖçÁΩÆ„ÄÅÂ≠¶ÂëòÊîØÊåÅ</div>
                        </div>
                        <div class="member-status status-active">‚úÖ Âú®Á∫ø</div>
                    </div>
                </div>

                <div class="card">
                    <h2>üë• Ê†∏ÂøÉÁÆ°ÁêÜÂõ¢Èòü</h2>
                    
                    <div class="team-member">
                        <div class="member-avatar">M</div>
                        <div class="member-info">
                            <h3>Michael (Áéã‰Ω≥Ê¢Å)</h3>
                            <div class="member-role">Ë∂ÖËÑëÊÄªË¥üË¥£‰∫∫</div>
                            <div class="member-skills">ÊàòÁï•ËßÑÂàí„ÄÅÂõ¢ÈòüÁÆ°ÁêÜ„ÄÅ‰∫ßÂìÅËÆæËÆ°</div>
                        </div>
                        <div class="member-status status-active">‚úÖ Âú®Á∫ø</div>
                    </div>

                    <div class="team-member">
                        <div class="member-avatar">Êò•</div>
                        <div class="member-info">
                            <h3>Êò•Êù® (Ë∂ÖËÑë-Êò•Êù®)</h3>
                            <div class="member-role">È°πÁõÆÂçèË∞ÉÂëò</div>
                            <div class="member-skills">Â≠¶ÂëòÊ≤üÈÄö„ÄÅÈ°πÁõÆÂçèË∞É„ÄÅÁ≠îÁñëÂä©Êïô</div>
                        </div>
                        <div class="member-status status-active">‚úÖ Âú®Á∫ø</div>
                    </div>

                    <div class="team-member">
                        <div class="member-avatar">Êûó</div>
                        <div class="member-info">
                            <h3>ÊûóÊΩû (Linlu)</h3>
                            <div class="member-role">BackupÊîØÊåÅ</div>
                            <div class="member-skills">Âõ¢ÈòüÁÆ°ÁêÜ„ÄÅÂ≠¶ÂëòÊåáÂØº„ÄÅÊµÅÁ®ã‰ºòÂåñ</div>
                        </div>
                        <div class="member-status status-active">‚úÖ Âú®Á∫ø</div>
                    </div>
                </div>

                <div class="card">
                    <h2>üìù ÂÖ®Á®ãËÆ∞ÂΩïÂõ¢Èòü</h2>
                    
                    <div class="team-member">
                        <div class="member-avatar">C</div>
                        <div class="member-info">
                            <h3>Christina</h3>
                            <div class="member-role">Build in PublicËÆ∞ÂΩïÂÆò</div>
                            <div class="member-skills">ÂÖ®Á®ãËÆ∞ÂΩï„ÄÅÂÜÖÂÆπËøêËê•„ÄÅÂ∞èÁ∫¢‰π¶ÁÆ°ÁêÜ</div>
                        </div>
                        <div class="member-status status-active">‚úÖ Âú®Á∫ø</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ËøõÂ±ïË∑üË∏™ -->
        <div id="progress" class="content-section">
            <div class="dashboard-grid">
                <div class="card">
                    <h2>üìà Êï¥‰ΩìËøõÂ∫¶</h2>
                    
                    <h3>È°πÁõÆÂÆåÊàêÂ∫¶</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 28%"></div>
                    </div>
                    <p style="text-align: center; margin-top: 15px; color: #7f8c8d; font-size: 1.1em;">28% ÂÆåÊàê</p>

                    <h3>ÂÖ≥ÈîÆÈáåÁ®ãÁ¢ë</h3>
                    <div class="milestone">
                        <h3>‚úÖ È°πÁõÆÂêØÂä®‰ºöËÆÆ</h3>
                        <p>Âõ¢ÈòüÂàÜÂ∑•Á°ÆËÆ§ÔºåÊäÄÊúØÊ†àÁ°ÆÂÆöÔºåÈ°πÁõÆËÉåÊôØ‰ªãÁªç</p>
                        <div class="milestone-date">2024Âπ¥10Êúà26Êó•</div>
                    </div>

                    <div class="milestone">
                        <h3>‚úÖ Week 1-2: È°πÁõÆÂêØÂä®Èò∂ÊÆµ</h3>
                        <p>Âõ¢ÈòüÁªÑÂª∫„ÄÅÈúÄÊ±ÇÂàÜÊûê„ÄÅÊäÄÊúØÂáÜÂ§á„ÄÅÁ°¨‰ª∂ÈÄâÂûãÁ°ÆËÆ§</p>
                        <div class="milestone-date">Â∑≤ÂÆåÊàê - Ëá≥ 11Êúà1Êó•</div>
                    </div>

                    <div class="milestone">
                        <h3>üî¥ Week 3: Á°¨‰ª∂Âü∫Á°ÄÈ™åËØÅ - ÂÖ≥ÈîÆÊúü</h3>
                        <p>ÂºÄÂèëÊùøÂà∞Ë¥ß„ÄÅÂäüËÉΩÈ™åËØÅ„ÄÅËΩØ‰ª∂È°πÁõÆÂàùÂßãÂåñ„ÄÅFusion 360Â≠¶‰π†</p>
                        <div class="milestone-date">ËøõË°å‰∏≠ - 11Êúà2Êó• Ëá≥ 11Êúà8Êó• ‚ö†Ô∏è È´òÈ£éÈô©</div>
                    </div>

                    <div class="milestone">
                        <h3>ü•à Week 4: Á´ØÂà∞Á´ØÈõÜÊàê - ‰øùÈì∂ÂÖ≥ÈîÆ</h3>
                        <p>Á°¨‰ª∂+ËΩØ‰ª∂ËÅîË∞É„ÄÅ3DÊ®°ÂûãÂàùÁ®ø„ÄÅËææÂà∞ÈìúÁâåÊ†áÂáÜ</p>
                        <div class="milestone-date">ËÆ°Âàí‰∏≠ - 11Êúà9Êó• Ëá≥ 11Êúà15Êó•</div>
                    </div>

                    <div class="milestone">
                        <h3>ü•à Week 5: ÂäüËÉΩÂÆåÂñÑ - ËææÂà∞Èì∂Áâå</h3>
                        <p>Èì∂ÁâåÂäüËÉΩÂÆûÁé∞„ÄÅÈ¶ñÁâàÂ§ñÂ£≥ÊâìÂç∞„ÄÅÁ®≥ÂÆöÂêéÁ´ØÊúçÂä°</p>
                        <div class="milestone-date">ËÆ°Âàí‰∏≠ - 11Êúà16Êó• Ëá≥ 11Êúà22Êó•</div>
                    </div>

                    <div class="milestone">
                        <h3>ü•á Week 6: ÂàõÊñ∞‰∏é‰ºòÂåñ - ÂÜ≤ÈáëÂÖ≥ÈîÆ</h3>
                        <p>ÂàõÊñ∞ÂäüËÉΩÂÆûÁé∞„ÄÅÂ§ñËßÇÁ≤æÁªÜÂåñ„ÄÅËææÂà∞ÈáëÁâåÊ†áÂáÜ</p>
                        <div class="milestone-date">ËÆ°Âàí‰∏≠ - 11Êúà23Êó• Ëá≥ 11Êúà29Êó•</div>
                    </div>

                    <div class="milestone">
                        <h3>üß™ Week 7: Á®≥ÂÆöÊÄß‰∏éÊµãËØï</h3>
                        <p>ÂäüËÄó‰ºòÂåñ„ÄÅÊÄßËÉΩÊµãËØï„ÄÅÊúÄÁªà‰∫ßÂìÅÂéüÂûã</p>
                        <div class="milestone-date">ËÆ°Âàí‰∏≠ - 11Êúà30Êó• Ëá≥ 12Êúà6Êó•</div>
                    </div>

                    <div class="milestone">
                        <h3>üöÄ Week 8: ÊºîÁ§∫‰∏éÊèê‰∫§</h3>
                        <p>ÊºîÁ§∫ÂáÜÂ§á„ÄÅÈ°πÁõÆÊèê‰∫§„ÄÅÊäÄÊúØÊñáÊ°£„ÄÅË∑ØÊºîPPT</p>
                        <div class="milestone-date">ËÆ°Âàí‰∏≠ - 12Êúà7Êó• Ëá≥ 12Êúà13Êó•</div>
                    </div>
                </div>

                <div class="card">
                    <h2>üìã ÂæÖÂäû‰ªªÂä°</h2>
                    <ul class="task-list">
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox" checked>
                            <span class="task-text">È°πÁõÆÂêØÂä®‰ºöËÆÆÂÆåÊàê</span>
                            <span class="task-priority priority-high">È´ò</span>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox">
                            <span class="task-text">ËíãÁöìËΩ©GitÁéØÂ¢ÉÈÖçÁΩÆÊîØÊåÅ</span>
                            <span class="task-priority priority-high">È´ò</span>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox">
                            <span class="task-text">Áù£‰øÉÊú™ÂÆåÊàêËá™Êàë‰ªãÁªç‰Ωú‰∏ö</span>
                            <span class="task-priority priority-high">È´ò</span>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox">
                            <span class="task-text">ÁªÑÁªáCursorÂíåGit‰ΩøÁî®ÂüπËÆ≠</span>
                            <span class="task-priority priority-medium">‰∏≠</span>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox">
                            <span class="task-text">Âª∫Á´ãÊäÄÊúØÈóÆÈ¢òÂø´ÈÄüÂìçÂ∫îÁæ§</span>
                            <span class="task-priority priority-medium">‰∏≠</span>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox">
                            <span class="task-text">ËÆæËÆ°Ê†áÂáÜÂåñÁöÑÂàÜÁªÑËÆ®ËÆ∫ÊµÅÁ®ã</span>
                            <span class="task-priority priority-low">‰Ωé</span>
                        </li>
                        <li class="task-item">
                            <input type="checkbox" class="task-checkbox">
                            <span class="task-text">Ê∑±ÂÖ•È°πÁõÆË∞ÉÁ†îÂíåÂäüËÉΩËÆæËÆ°</span>
                            <span class="task-priority priority-medium">‰∏≠</span>
                        </li>
                    </ul>
                </div>

                <div class="card">
                    <h2>üìù ÊúÄËøëÊ¥ªÂä®</h2>
                    <div class="activity-timeline">
                        <div class="activity-item">
                            <div class="activity-time">11.02</div>
                            <div class="activity-content">‚úÖ ÂÆåÊàê11.2ÂÖ±Â≠¶‰ºöËÆÆÔºåÂêÑÁªÑRoadmapÂØπÈΩêÔºåÂºÄÂèëÊùøÂ∑≤‰∏ãÂçï</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-time">11.02</div>
                            <div class="activity-content">üî¥ Á°¨‰ª∂ÁªÑÈ´ò‰ºòÂÖàÁ∫ß‰ªªÂä°ÔºöÁ°ÆËÆ§ÈÄö‰ø°ÂçèËÆÆ„ÄÅÊäÄÊúØÈÄâÂûã„ÄÅË¥¶Âè∑ÁªëÂÆöÊñπÊ°à</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-time">11.02</div>
                            <div class="activity-content">üì¶ Á°¨‰ª∂ÁªÑÈááË¥≠ÂºÄÂèëÊùøÔºàÂæÆÈõ™ESP32-S3 3.5ÂØ∏Ôºå147ÂÖÉÔºâ</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-time">11.02</div>
                            <div class="activity-content">‚ö†Ô∏è Â§ñËßÇËÆæËÆ°ÁªÑÔºö3-5Â§©ÂÜÖÂÆåÊàêÈ¶ñÊ¨°ÊâìÂç∞ÔºàÈ´ò‰ºòÂÖàÁ∫ßÔºâ</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-time">10.27</div>
                            <div class="activity-content">‚úÖ ÂÆåÊàê10.27Â∞èÂßúÊâìÂ≠óÂ§çÁõò‰ºöËÆÆ</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-time">10.26</div>
                            <div class="activity-content">üë• Âõ¢ÈòüÂàÜÂ∑•Á°ÆËÆ§ÔºöËΩØ‰ª∂ÁªÑ„ÄÅIDËÆæËÆ°ÁªÑ„ÄÅÁ°¨‰ª∂ÁªÑ</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-time">10.26</div>
                            <div class="activity-content">üõ†Ô∏è GitHubÂçè‰ΩúÂ∑•ÂÖ∑ÂüπËÆ≠ÂÆåÊàê</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-time">10.26</div>
                            <div class="activity-content">üìã È°πÁõÆËÉåÊôØ‰∏éÊåëÊàòÂ£∞ÊòéËÆ≤Ëß£</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-time">10.26</div>
                            <div class="activity-content">‚ö†Ô∏è ÂèëÁé∞ÊäÄÊúØÁéØÂ¢ÉÈÖçÁΩÆÈóÆÈ¢ò</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-time">10.26</div>
                            <div class="activity-content">üìä ‰Ωú‰∏öÂÆåÊàêÊÉÖÂÜµÁªüËÆ°Ôºö1/6ÂÆåÊàê</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-time">10.26</div>
                            <div class="activity-content">üí° Âæ∑ÂÆèÂØºÂ∏àÊèêÂá∫Êó∂Èó¥Ë∞ÉÊï¥Âª∫ËÆÆ</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-time">10.26</div>
                            <div class="activity-content">üéØ Á°ÆÂÆö"‰øùÈì∂ÂÜ≤Èáë"ÁõÆÊ†á</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- È°πÁõÆÁîòÁâπÂõæ -->
        <div id="gantt" class="content-section">
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <h2 style="margin: 0;">üìÖ ÊòüÈôÖÂØªÂëºÊú∫È°πÁõÆÁîòÁâπÂõæ</h2>
                    <div id="gantt-version-info" style="display: flex; align-items: center; gap: 10px; padding: 8px 16px; background: var(--surface); border-radius: 8px; font-size: 13px;">
                        <span id="gantt-version-badge" style="padding: 4px 10px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 12px; font-weight: 600; font-size: 12px;">ÊúÄÊñ∞ÁâàÊú¨</span>
                        <span id="gantt-version-text" style="color: var(--text-secondary);">Âä†ËΩΩ‰∏≠...</span>
                        <button class="link-button" onclick="showVersionSelector('gantt')" style="font-size: 12px; padding: 4px 8px;" id="gantt-version-selector-btn">üìã Êü•ÁúãÂéÜÂè≤ÁâàÊú¨</button>
                        <button class="link-button" onclick="returnToLatestVersion('gantt')" style="font-size: 12px; padding: 4px 8px; display: none;" id="gantt-return-latest-btn">‚Ü©Ô∏è ËøîÂõûÊúÄÊñ∞ÁâàÊú¨</button>
                    </div>
                </div>
                <p style="color: var(--muted); margin-bottom: 20px;">
                    Âü∫‰∫éWBSËá™Âä®ÁîüÊàêÁöÑÈ°πÁõÆÊó∂Èó¥Á∫øÔºåÂ±ïÁ§∫‰ªªÂä°‰æùËµñÂÖ≥Á≥ªÂíåËøõÂ∫¶ÊÉÖÂÜµ
                </p>
                <div style="margin-bottom: 20px;">
                    <button class="link-button" onclick="refreshGantt()" style="margin-right: 10px;">üîÑ Âà∑Êñ∞Êï∞ÊçÆ</button>
                    <button class="link-button" onclick="exportGanttImage(event)" id="export-btn">üíæ ÂØºÂá∫ÂõæÁâá (PNG)</button>
                    <button class="link-button" onclick="exportGanttPDF(event)" style="margin-left: 10px;">üìÑ ÂØºÂá∫PDF</button>
                </div>
                <div id="gantt-container" style="overflow-x: auto; margin-top: 20px; background: var(--card-bg); border-radius: 12px; padding: 20px; box-shadow: var(--shadow-1); border: 1px solid var(--border-light);"></div>
                <div class="card" style="margin-top: 30px;">
                    <h3>üìã Âõæ‰æãËØ¥Êòé</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 15px;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 40px; height: 20px; background: #667eea; border-radius: 4px;"></div>
                            <span>ËøõË°å‰∏≠‰ªªÂä°</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 40px; height: 20px; background: #27ae60; border-radius: 4px;"></div>
                            <span>Â∑≤ÂÆåÊàê‰ªªÂä°</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 40px; height: 20px; background: #95a5a6; border-radius: 4px;"></div>
                            <span>ËÆ°Âàí‰∏≠‰ªªÂä°</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="width: 3px; height: 20px; background: #e74c3c;"></div>
                            <span>ÈáåÁ®ãÁ¢ëÊ†áËÆ∞</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÂÖ≥ÈîÆË∑ØÂæÑÂàÜÊûê -->
        <div id="critical-path" class="content-section">
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <h2 style="margin: 0;">üîç ÂÖ≥ÈîÆË∑ØÂæÑÂàÜÊûê</h2>
                    <div id="critical-path-version-info" style="display: flex; align-items: center; gap: 10px; padding: 8px 16px; background: var(--surface); border-radius: 8px; font-size: 13px;">
                        <span id="critical-path-version-badge" style="padding: 4px 10px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 12px; font-weight: 600; font-size: 12px;">ÊúÄÊñ∞ÁâàÊú¨</span>
                        <span id="critical-path-version-text" style="color: var(--text-secondary);">Âä†ËΩΩ‰∏≠...</span>
                        <button class="link-button" onclick="showVersionSelector('critical-path')" style="font-size: 12px; padding: 4px 8px;" id="critical-path-version-selector-btn">üìã Êü•ÁúãÂéÜÂè≤ÁâàÊú¨</button>
                        <button class="link-button" onclick="returnToLatestVersion('critical-path')" style="font-size: 12px; padding: 4px 8px; display: none;" id="critical-path-return-latest-btn">‚Ü©Ô∏è ËøîÂõûÊúÄÊñ∞ÁâàÊú¨</button>
                    </div>
                </div>
                <p style="color: var(--muted); margin-bottom: 20px;">
                    Âü∫‰∫éCPMÔºàÂÖ≥ÈîÆË∑ØÂæÑÊ≥ïÔºâËÆ°ÁÆóÈ°πÁõÆÁöÑÂÖ≥ÈîÆË∑ØÂæÑÂíåSlack TimeÔºåËØÜÂà´ÂΩ±ÂìçÈ°πÁõÆÂ∑•ÊúüÁöÑÂÖ≥ÈîÆ‰ªªÂä°
                </p>
                
                <div style="margin-bottom: 20px;">
                    <button class="link-button" onclick="calculateCriticalPath()">üîÑ ÈáçÊñ∞ËÆ°ÁÆó</button>
                    <button class="link-button" onclick="exportCriticalPathTable(event)" style="margin-left: 10px;">üíæ ÂØºÂá∫Ë°®Ê†º</button>
                </div>

                <!-- ÂÖ≥ÈîÆË∑ØÂæÑÊëòË¶Å -->
                <div id="critical-path-summary" class="card" style="margin-bottom: 30px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h3 style="margin: 0;">üìä ÂÖ≥ÈîÆË∑ØÂæÑÊëòË¶Å</h3>
                        <div style="font-size: 12px; color: var(--text-secondary); padding: 6px 12px; background: var(--surface); border-radius: 12px; border: 1px solid var(--border-light);">
                            <span id="summary-status">Á≠âÂæÖËÆ°ÁÆó...</span>
                        </div>
                    </div>
                    <div id="summary-content" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px;">
                        <div style="background: var(--surface); padding: 20px; border-radius: 12px; border: 1px solid var(--border-light);">
                            <div style="font-size: 32px; font-weight: 600; margin-bottom: 8px; color: var(--text);" id="total-duration">-</div>
                            <div style="font-size: 14px; color: var(--text-secondary); margin-bottom: 4px;">È°πÁõÆÊÄªÂ∑•ÊúüÔºàÂ§©Ôºâ</div>
                            <div style="font-size: 12px; color: var(--text-secondary); opacity: 0.7;">‰ªéÂºÄÂßãÂà∞ÂÆåÊàê</div>
                        </div>
                        <div style="background: var(--surface); padding: 20px; border-radius: 12px; border: 1px solid var(--border-light);">
                            <div style="font-size: 32px; font-weight: 600; margin-bottom: 8px; color: var(--text);" id="critical-tasks-count">-</div>
                            <div style="font-size: 14px; color: var(--text-secondary); margin-bottom: 4px;">ÂÖ≥ÈîÆ‰ªªÂä°Êï∞Èáè</div>
                            <div style="font-size: 12px; color: var(--text-secondary); opacity: 0.7;">Slack = 0 ÁöÑ‰ªªÂä°</div>
                        </div>
                        <div style="background: var(--surface); padding: 20px; border-radius: 12px; border: 1px solid var(--border-light);">
                            <div style="font-size: 32px; font-weight: 600; margin-bottom: 8px; color: var(--text);" id="critical-path-length">-</div>
                            <div style="font-size: 14px; color: var(--text-secondary); margin-bottom: 4px;">ÂÖ≥ÈîÆË∑ØÂæÑÈïøÂ∫¶</div>
                            <div style="font-size: 12px; color: var(--text-secondary); opacity: 0.7;">ÊúÄÈïø‰ªªÂä°Èìæ</div>
                        </div>
                    </div>
                </div>

                <!-- ÂÖ≥ÈîÆË∑ØÂæÑÂèØËßÜÂåñÁΩëÁªúÂõæ -->
                <div class="card" style="margin-bottom: 30px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h3 style="margin: 0;">üéØ ÂÖ≥ÈîÆË∑ØÂæÑÂèØËßÜÂåñ</h3>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <button class="link-button" onclick="togglePathView()" style="font-size: 12px; padding: 4px 8px;" id="path-view-toggle">üîÑ ÂàáÊç¢ËßÜÂõæ</button>
                        </div>
                    </div>
                    
                    <!-- ÁΩëÁªúÂõæËßÜÂõæ -->
                    <div id="path-network-view" style="display: block;">
                        <div style="position: relative;">
                            <!-- Áº©ÊîæÊéßÂà∂ -->
                            <div style="position: absolute; top: 10px; right: 10px; z-index: 100; display: flex; gap: 8px; background: var(--card-bg); padding: 8px; border-radius: 8px; box-shadow: var(--shadow-sm);">
                                <button id="zoom-out-btn" style="padding: 6px 12px; border: 1px solid var(--border); border-radius: 6px; background: var(--card-bg); cursor: pointer; font-size: 16px; color: var(--text);">‚àí</button>
                                <button id="zoom-reset-btn" style="padding: 6px 12px; border: 1px solid var(--border); border-radius: 6px; background: var(--card-bg); cursor: pointer; font-size: 12px; color: var(--text);">ÈáçÁΩÆ</button>
                                <button id="zoom-in-btn" style="padding: 6px 12px; border: 1px solid var(--border); border-radius: 6px; background: var(--card-bg); cursor: pointer; font-size: 16px; color: var(--text);">+</button>
                            </div>
                            <div id="network-container" style="padding: 20px; background: var(--surface); border-radius: 12px; margin-top: 15px; min-height: 400px; position: relative; overflow: auto; cursor: grab;" onmousedown="startNetworkDrag(event)" onmousemove="dragNetwork(event)" onmouseup="endNetworkDrag()" onmouseleave="endNetworkDrag()">
                                <svg id="critical-path-network" style="width: 100%; height: 100%; min-height: 400px; display: block; transition: none;">
                                    <defs>
                                        <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                            <polygon points="0 0, 10 3, 0 6" fill="#667eea" />
                                        </marker>
                                        <marker id="arrowhead-critical" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                            <polygon points="0 0, 10 3, 0 6" fill="#e74c3c" />
                                        </marker>
                                    </defs>
                                    <text x="50%" y="30" text-anchor="middle" style="font-size: 14px; fill: var(--text-secondary);">ÁÇπÂáª"ÈáçÊñ∞ËÆ°ÁÆó"ÊåâÈíÆÁîüÊàêÂÖ≥ÈîÆË∑ØÂæÑÁΩëÁªúÂõæ</text>
                                </svg>
                            </div>
                            <div style="margin-top: 10px; padding: 8px; background: var(--surface); border-radius: 8px; font-size: 11px; color: var(--text-secondary); text-align: center;">
                                üí° ÊèêÁ§∫ÔºöÂèØ‰ª•ÊãñÊãΩÊü•ÁúãÊï¥‰∏™ÁΩëÁªúÂõæÔºå‰ΩøÁî®Âè≥‰∏äËßíÊåâÈíÆÁº©Êîæ
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ë∑ØÂæÑÈìæÊñáÊú¨ËßÜÂõæ -->
                    <div id="path-chain-view" style="display: none;">
                        <div id="critical-path-chain" style="padding: 20px; background: var(--surface); border-radius: 12px; margin-top: 15px; font-family: 'Courier New', monospace; font-size: 14px; line-height: 2; overflow-x: auto;">
                            <div style="text-align: center; color: var(--text-secondary);">ÁÇπÂáª"ÈáçÊñ∞ËÆ°ÁÆó"ÊåâÈíÆÁîüÊàêÂÖ≥ÈîÆË∑ØÂæÑ</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 15px; padding: 12px; background: var(--surface); border-radius: 8px; font-size: 12px; color: var(--text-secondary);">
                        <strong>üìä Âõæ‰æãÔºö</strong>
                        <span style="display: inline-block; width: 20px; height: 12px; background: #e74c3c; border-radius: 4px; margin: 0 5px 0 10px; vertical-align: middle;"></span>ÂÖ≥ÈîÆ‰ªªÂä°
                        <span style="display: inline-block; width: 20px; height: 12px; background: #667eea; border-radius: 4px; margin: 0 5px 0 15px; vertical-align: middle;"></span>ÈùûÂÖ≥ÈîÆ‰ªªÂä°
                        <span style="color: #e74c3c; margin-left: 15px;">‚Üí</span>ÂÖ≥ÈîÆË∑ØÂæÑËøûÊé•
                        <span style="color: #667eea; margin-left: 15px;">‚Üí</span>ÊôÆÈÄö‰æùËµñÂÖ≥Á≥ª
                    </div>
                </div>

                <!-- ËØ¶ÁªÜÊï∞ÊçÆË°®Ê†º -->
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h3 style="margin: 0;">üìã ‰ªªÂä°ËØ¶ÁªÜ‰ø°ÊÅØË°®</h3>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <select id="table-filter" onchange="filterCriticalPathTable()" style="padding: 6px 12px; border-radius: 6px; border: 1px solid var(--border); font-size: 12px; background: var(--card-bg); color: var(--text);">
                                <option value="all">ÂÖ®ÈÉ®‰ªªÂä°</option>
                                <option value="critical">‰ªÖÂÖ≥ÈîÆ‰ªªÂä°</option>
                                <option value="non-critical">‰ªÖÈùûÂÖ≥ÈîÆ‰ªªÂä°</option>
                                <option value="high-risk">È´òÈ£éÈô©‰ªªÂä° (Slack &lt; 3)</option>
                            </select>
                        </div>
                    </div>
                    <div style="overflow-x: auto; margin-top: 15px; border-radius: 12px; border: 1px solid var(--border-light);">
                        <table id="critical-path-table" style="width: 100%; border-collapse: collapse; font-size: 14px; background: var(--card-bg);">
                            <thead>
                                <tr style="background: linear-gradient(135deg, var(--surface) 0%, var(--surface) 100%); border-bottom: 2px solid var(--border); position: sticky; top: 0; z-index: 10;">
                                    <th style="padding: 14px 12px; text-align: left; font-weight: 600; color: var(--text); font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px;">‰ªªÂä°ID</th>
                                    <th style="padding: 14px 12px; text-align: left; font-weight: 600; color: var(--text); font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px;">‰ªªÂä°ÂêçÁß∞</th>
                                    <th style="padding: 14px 12px; text-align: center; font-weight: 600; color: var(--text); font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px;">Â∑•Êúü(Â§©)</th>
                                    <th style="padding: 14px 12px; text-align: center; font-weight: 600; color: var(--text); font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px;">ES</th>
                                    <th style="padding: 14px 12px; text-align: center; font-weight: 600; color: var(--text); font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px;">EF</th>
                                    <th style="padding: 14px 12px; text-align: center; font-weight: 600; color: var(--text); font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px;">LS</th>
                                    <th style="padding: 14px 12px; text-align: center; font-weight: 600; color: var(--text); font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px;">LF</th>
                                    <th style="padding: 14px 12px; text-align: center; font-weight: 600; color: var(--text); font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px;">Slack</th>
                                    <th style="padding: 14px 12px; text-align: center; font-weight: 600; color: var(--text); font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px;">ÂÖ≥ÈîÆ</th>
                                </tr>
                            </thead>
                            <tbody id="critical-path-tbody">
                                <tr>
                                    <td colspan="9" style="padding: 60px; text-align: center; color: var(--text-secondary);">
                                        <div style="font-size: 48px; margin-bottom: 16px;">üìä</div>
                                        <div style="font-size: 16px; margin-bottom: 8px;">ÁÇπÂáª"ÈáçÊñ∞ËÆ°ÁÆó"ÊåâÈíÆÂºÄÂßãÂàÜÊûê</div>
                                        <div style="font-size: 13px; opacity: 0.7;">Á≥ªÁªüÂ∞ÜËá™Âä®ËÆ°ÁÆóÂÖ≥ÈîÆË∑ØÂæÑÂíåSlack Time</div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div style="margin-top: 20px; padding: 15px; background: var(--surface); border-radius: 8px; font-size: 13px; color: var(--text-secondary);">
                        <strong>üìù ÊúØËØ≠ËØ¥ÊòéÔºö</strong><br>
                        <strong>ES (Earliest Start)</strong>ÔºöÊúÄÊó©ÂºÄÂßãÊó∂Èó¥ | 
                        <strong>EF (Earliest Finish)</strong>ÔºöÊúÄÊó©ÁªìÊùüÊó∂Èó¥<br>
                        <strong>LS (Latest Start)</strong>ÔºöÊúÄÊôöÂºÄÂßãÊó∂Èó¥ | 
                        <strong>LF (Latest Finish)</strong>ÔºöÊúÄÊôöÁªìÊùüÊó∂Èó¥<br>
                        <strong>Slack Time</strong>ÔºöÁºìÂÜ≤Êó∂Èó¥ÔºåSlack = LS - ES = LF - EF„ÄÇSlack = 0ÁöÑ‰ªªÂä°ÊòØÂÖ≥ÈîÆ‰ªªÂä°
                    </div>
                </div>
            </div>
        </div>

        <!-- È£éÈô©ÂàÜÊûêÁü©Èòµ -->
        <div id="risk-matrix" class="content-section">
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <h2 style="margin: 0;">‚ö†Ô∏è È£éÈô©ÂàÜÊûêÁü©Èòµ</h2>
                    <div id="risk-matrix-version-info" style="display: flex; align-items: center; gap: 10px; padding: 8px 16px; background: var(--surface); border-radius: 8px; font-size: 13px;">
                        <span id="risk-matrix-version-badge" style="padding: 4px 10px; background: linear-gradient(135deg, #ff9500 0%, #ff5722 100%); color: white; border-radius: 12px; font-weight: 600; font-size: 12px;">ÊúÄÊñ∞ÁâàÊú¨</span>
                        <span id="risk-matrix-version-text" style="color: var(--text-secondary);">Âä†ËΩΩ‰∏≠...</span>
                        <button class="link-button" onclick="showRiskVersionSelector()" style="font-size: 12px; padding: 4px 8px;" id="risk-matrix-version-selector-btn">üìã Êü•ÁúãÂéÜÂè≤ÁâàÊú¨</button>
                        <button class="link-button" onclick="returnToLatestRiskVersion()" style="font-size: 12px; padding: 4px 8px; display: none;" id="risk-matrix-return-latest-btn">‚Ü©Ô∏è ËøîÂõûÊúÄÊñ∞ÁâàÊú¨</button>
                    </div>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <p style="color: var(--muted); margin: 0;">
                        Âü∫‰∫éÊ¶ÇÁéá-ÂΩ±ÂìçÁü©ÈòµËØÜÂà´ÂíåÁÆ°ÁêÜÈ°πÁõÆÈ£éÈô©„ÄÇÁü©ÈòµÂ∏ÆÂä©ÊÇ®‰ºòÂÖàÂ§ÑÁêÜÈ´òÈ£éÈô©È°πÔºåÂπ∂Âà∂ÂÆöÁõ∏Â∫îÁöÑÁºìËß£Á≠ñÁï•„ÄÇ
                    </p>
                    <div style="display: flex; gap: 10px;">
                        <button class="link-button" onclick="refreshRiskMatrix()">üîÑ Âà∑Êñ∞Êï∞ÊçÆ</button>
                        <button class="link-button" onclick="addRisk()">‚ûï Ê∑ªÂä†È£éÈô©</button>
                        <button class="link-button" onclick="exportRiskMatrix()">üíæ ÂØºÂá∫Êï∞ÊçÆ</button>
                    </div>
                </div>

                <!-- È£éÈô©ÁªüËÆ°ÊëòË¶Å -->
                <div id="risk-summary" class="card" style="margin-bottom: 30px; background: var(--surface);">
                    <h3 style="margin-bottom: 20px;">üìä È£éÈô©Ê¶ÇËßà</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div style="padding: 15px; background: var(--card-bg); border-radius: 12px; border: 1px solid var(--border-light);">
                            <div style="font-size: 28px; font-weight: 600; color: var(--text);" id="total-risks">0</div>
                            <div style="font-size: 14px; color: var(--text-secondary); margin-top: 4px;">ÊÄªÈ£éÈô©Êï∞</div>
                        </div>
                        <div style="padding: 15px; background: var(--card-bg); border-radius: 12px; border: 1px solid var(--border-light);">
                            <div style="font-size: 28px; font-weight: 600; color: var(--danger);" id="high-risk-count">0</div>
                            <div style="font-size: 14px; color: var(--text-secondary); margin-top: 4px;">È´òÈ£éÈô©</div>
                        </div>
                        <div style="padding: 15px; background: var(--card-bg); border-radius: 12px; border: 1px solid var(--border-light);">
                            <div style="font-size: 28px; font-weight: 600; color: var(--warning);" id="medium-risk-count">0</div>
                            <div style="font-size: 14px; color: var(--text-secondary); margin-top: 4px;">‰∏≠È£éÈô©</div>
                        </div>
                        <div style="padding: 15px; background: var(--card-bg); border-radius: 12px; border: 1px solid var(--border-light);">
                            <div style="font-size: 28px; font-weight: 600; color: var(--success);" id="resolved-risk-count">0</div>
                            <div style="font-size: 14px; color: var(--text-secondary); margin-top: 4px;">Â∑≤Ëß£ÂÜ≥</div>
                        </div>
                    </div>
                </div>

                <!-- È£éÈô©Áü©ÈòµÂèØËßÜÂåñ -->
                <div class="card" style="margin-bottom: 30px;">
                    <h3 style="margin-bottom: 20px;">üéØ È£éÈô©Áü©ÈòµÂõæ</h3>
                    <div id="risk-matrix-chart" style="background: var(--surface); padding: 30px; border-radius: 12px; min-height: 500px; position: relative;">
                        <div style="text-align: center; padding: 50px;">
                            <div style="color: var(--text-secondary);">Âä†ËΩΩ‰∏≠...</div>
                        </div>
                    </div>
                    <div style="margin-top: 20px; padding: 15px; background: var(--surface); border-radius: 8px; font-size: 13px; color: var(--text-secondary);">
                        <strong>Âõæ‰æãÔºö</strong>
                        <div style="display: flex; gap: 20px; margin-top: 10px; flex-wrap: wrap;">
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <div style="width: 20px; height: 20px; background: #e74c3c; border-radius: 4px;"></div>
                                <span>ÊûÅÈ´òÈ£éÈô©ÔºàÈúÄÁ´ãÂç≥Â§ÑÁêÜÔºâ</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <div style="width: 20px; height: 20px; background: #ff9500; border-radius: 4px;"></div>
                                <span>È´òÈ£éÈô©Ôºà‰ºòÂÖàÂ§ÑÁêÜÔºâ</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <div style="width: 20px; height: 20px; background: #ffcc00; border-radius: 4px;"></div>
                                <span>‰∏≠È£éÈô©ÔºàÊåÅÁª≠ÁõëÊéßÔºâ</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <div style="width: 20px; height: 20px; background: #34c759; border-radius: 4px;"></div>
                                <span>‰ΩéÈ£éÈô©ÔºàÂ∏∏ËßÑÁõëÊéßÔºâ</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- È£éÈô©ÂàóË°® -->
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h3 style="margin: 0;">üìã È£éÈô©ÂàóË°®</h3>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <select id="risk-filter-category" onchange="filterRisks()" style="padding: 8px 12px; border-radius: 8px; border: 1px solid var(--border); background: var(--card-bg); color: var(--text); font-size: 14px;">
                                <option value="">ÊâÄÊúâÁ±ªÂà´</option>
                            </select>
                            <select id="risk-filter-status" onchange="filterRisks()" style="padding: 8px 12px; border-radius: 8px; border: 1px solid var(--border); background: var(--card-bg); color: var(--text); font-size: 14px;">
                                <option value="">ÊâÄÊúâÁä∂ÊÄÅ</option>
                            </select>
                            <select id="risk-filter-project" onchange="filterRisks()" style="padding: 8px 12px; border-radius: 8px; border: 1px solid var(--border); background: var(--card-bg); color: var(--text); font-size: 14px;">
                                <option value="">ÊâÄÊúâÈ°πÁõÆ</option>
                            </select>
                        </div>
                    </div>
                    <div id="risk-list-container">
                        <!-- È£éÈô©ÂàóË°®Â∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>
            </div>
        </div>

        <!-- ‰ªªÂä°ÁúãÊùø -->
        <div id="kanban" class="content-section">
            <div class="card">
                <h2>üìã ‰ªªÂä°ÁúãÊùø</h2>
                <p style="color: var(--muted); margin-bottom: 20px;">
                    Âü∫‰∫éROADMAPÁöÑÁúãÊùøËßÜÂõæÔºåÊåâÁªÑÂ±ïÁ§∫‰ªªÂä°ËøõÂ∫¶ÔºàÁ°¨‰ª∂ÁªÑ | ËΩØ‰ª∂ÁªÑ | Â§ñËßÇËÆæËÆ°ÁªÑÔºâ
                </p>
                
                <!-- Á≠õÈÄâÂô® -->
                <div style="margin-bottom: 20px; display: flex; gap: 15px; flex-wrap: wrap; align-items: center;">
                    <select id="kanban-week-filter" onchange="filterKanbanByWeek()" style="padding: 10px; border-radius: 8px; border: 1px solid var(--border); font-size: 16px; background: var(--card-bg); color: var(--text);">
                        <option value="all">ÂÖ®ÈÉ®Âë®Ê¨°</option>
                        <option value="2">Week 2 (ËßÑÂàí‰∏éÂêØÂä®)</option>
                        <option value="3" selected>Week 3 (Ê†∏ÂøÉÈ™åËØÅ üî¥)</option>
                        <option value="4">Week 4 (Á´ØÂà∞Á´ØÈõÜÊàê ü•à)</option>
                        <option value="5">Week 5 (ÂäüËÉΩÂÆåÂñÑ ü•à)</option>
                        <option value="6">Week 6 (ÂàõÊñ∞‰ºòÂåñ ü•á)</option>
                        <option value="7">Week 7 (Á®≥ÂÆöÊÄßÊµãËØï)</option>
                        <option value="8">Week 8 (ÊºîÁ§∫Êèê‰∫§)</option>
                    </select>
                    <select id="kanban-group-filter" onchange="filterKanbanByGroup()" style="padding: 10px; border-radius: 8px; border: 1px solid var(--border); font-size: 16px; background: var(--card-bg); color: var(--text);">
                        <option value="all">ÂÖ®ÈÉ®ÁªÑ</option>
                        <option value="hardware">Á°¨‰ª∂ÁªÑ</option>
                        <option value="software">ËΩØ‰ª∂ÁªÑ</option>
                        <option value="design">Â§ñËßÇËÆæËÆ°ÁªÑ</option>
                    </select>
                    <button class="link-button" onclick="initKanban()" style="margin-left: auto;">üîÑ Âà∑Êñ∞ÁúãÊùø</button>
                </div>

                <!-- ÊåâÁªÑÂàÜÁ±ªÁöÑÁúãÊùø -->
                <div id="grouped-kanban" style="display: none;">
                    <!-- Á°¨‰ª∂ÁªÑÁúãÊùø -->
                    <div class="card" style="margin-bottom: 30px;">
                        <h3 style="color: #e74c3c; margin-bottom: 15px;">üîß Á°¨‰ª∂ÁªÑ‰ªªÂä°ÁúãÊùø</h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
                            <div class="kanban-column">
                                <div class="kanban-column-header" style="background: #95a5a6; color: white; padding: 12px; border-radius: 8px 8px 0 0; font-weight: bold; text-align: center; font-size: 0.9em;">
                                    ‚è≥ ÂæÖÂäû (<span id="hw-todo-count">0</span>)
                                </div>
                                <div class="kanban-column-body" id="hw-todo-column" style="background: var(--surface); min-height: 300px; padding: 12px; border-radius: 0 0 8px 8px;">
                                </div>
                            </div>
                            <div class="kanban-column">
                                <div class="kanban-column-header" style="background: #3498db; color: white; padding: 12px; border-radius: 8px 8px 0 0; font-weight: bold; text-align: center; font-size: 0.9em;">
                                    üîÑ ËøõË°å‰∏≠ (<span id="hw-inprogress-count">0</span>)
                                </div>
                                <div class="kanban-column-body" id="hw-inprogress-column" style="background: var(--surface); min-height: 300px; padding: 12px; border-radius: 0 0 8px 8px;">
                                </div>
                            </div>
                            <div class="kanban-column">
                                <div class="kanban-column-header" style="background: #27ae60; color: white; padding: 12px; border-radius: 8px 8px 0 0; font-weight: bold; text-align: center; font-size: 0.9em;">
                                    ‚úÖ Â∑≤ÂÆåÊàê (<span id="hw-done-count">0</span>)
                                </div>
                                <div class="kanban-column-body" id="hw-done-column" style="background: var(--surface); min-height: 300px; padding: 12px; border-radius: 0 0 8px 8px;">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ËΩØ‰ª∂ÁªÑÁúãÊùø -->
                    <div class="card" style="margin-bottom: 30px;">
                        <h3 style="color: #3498db; margin-bottom: 15px;">üíª ËΩØ‰ª∂ÁªÑ‰ªªÂä°ÁúãÊùø</h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
                            <div class="kanban-column">
                                <div class="kanban-column-header" style="background: #95a5a6; color: white; padding: 12px; border-radius: 8px 8px 0 0; font-weight: bold; text-align: center; font-size: 0.9em;">
                                    ‚è≥ ÂæÖÂäû (<span id="sw-todo-count">0</span>)
                                </div>
                                <div class="kanban-column-body" id="sw-todo-column" style="background: var(--surface); min-height: 300px; padding: 12px; border-radius: 0 0 8px 8px;">
                                </div>
                            </div>
                            <div class="kanban-column">
                                <div class="kanban-column-header" style="background: #3498db; color: white; padding: 12px; border-radius: 8px 8px 0 0; font-weight: bold; text-align: center; font-size: 0.9em;">
                                    üîÑ ËøõË°å‰∏≠ (<span id="sw-inprogress-count">0</span>)
                                </div>
                                <div class="kanban-column-body" id="sw-inprogress-column" style="background: var(--surface); min-height: 300px; padding: 12px; border-radius: 0 0 8px 8px;">
                                </div>
                            </div>
                            <div class="kanban-column">
                                <div class="kanban-column-header" style="background: #27ae60; color: white; padding: 12px; border-radius: 8px 8px 0 0; font-weight: bold; text-align: center; font-size: 0.9em;">
                                    ‚úÖ Â∑≤ÂÆåÊàê (<span id="sw-done-count">0</span>)
                                </div>
                                <div class="kanban-column-body" id="sw-done-column" style="background: var(--surface); min-height: 300px; padding: 12px; border-radius: 0 0 8px 8px;">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Â§ñËßÇËÆæËÆ°ÁªÑÁúãÊùø -->
                    <div class="card">
                        <h3 style="color: #9b59b6; margin-bottom: 15px;">üé® Â§ñËßÇËÆæËÆ°ÁªÑ‰ªªÂä°ÁúãÊùø</h3>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
                            <div class="kanban-column">
                                <div class="kanban-column-header" style="background: #95a5a6; color: white; padding: 12px; border-radius: 8px 8px 0 0; font-weight: bold; text-align: center; font-size: 0.9em;">
                                    ‚è≥ ÂæÖÂäû (<span id="ds-todo-count">0</span>)
                                </div>
                                <div class="kanban-column-body" id="ds-todo-column" style="background: var(--surface); min-height: 300px; padding: 12px; border-radius: 0 0 8px 8px;">
                                </div>
                            </div>
                            <div class="kanban-column">
                                <div class="kanban-column-header" style="background: #3498db; color: white; padding: 12px; border-radius: 8px 8px 0 0; font-weight: bold; text-align: center; font-size: 0.9em;">
                                    üîÑ ËøõË°å‰∏≠ (<span id="ds-inprogress-count">0</span>)
                                </div>
                                <div class="kanban-column-body" id="ds-inprogress-column" style="background: var(--surface); min-height: 300px; padding: 12px; border-radius: 0 0 8px 8px;">
                                </div>
                            </div>
                            <div class="kanban-column">
                                <div class="kanban-column-header" style="background: #27ae60; color: white; padding: 12px; border-radius: 8px 8px 0 0; font-weight: bold; text-align: center; font-size: 0.9em;">
                                    ‚úÖ Â∑≤ÂÆåÊàê (<span id="ds-done-count">0</span>)
                                </div>
                                <div class="kanban-column-body" id="ds-done-column" style="background: var(--surface); min-height: 300px; padding: 12px; border-radius: 0 0 8px 8px;">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Áªü‰∏ÄÁúãÊùøÔºàÈªòËÆ§Ôºâ -->
                <div id="unified-kanban">
                    <div id="kanban-board" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 20px;">
                        <!-- ÂæÖÂäû -->
                        <div class="kanban-column">
                            <div class="kanban-column-header" style="background: #95a5a6; color: white; padding: 15px; border-radius: 10px 10px 0 0; font-weight: bold; text-align: center;">
                                ‚è≥ ÂæÖÂäû (<span id="todo-count">0</span>)
                            </div>
                            <div class="kanban-column-body" id="todo-column" style="background: var(--surface); min-height: 400px; padding: 15px; border-radius: 0 0 10px 10px;">
                                <!-- ‰ªªÂä°Âç°ÁâáÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                            </div>
                        </div>
                        <!-- ËøõË°å‰∏≠ -->
                        <div class="kanban-column">
                            <div class="kanban-column-header" style="background: #3498db; color: white; padding: 15px; border-radius: 10px 10px 0 0; font-weight: bold; text-align: center;">
                                üîÑ ËøõË°å‰∏≠ (<span id="inprogress-count">0</span>)
                            </div>
                            <div class="kanban-column-body" id="inprogress-column" style="background: var(--surface); min-height: 400px; padding: 15px; border-radius: 0 0 10px 10px;">
                                <!-- ‰ªªÂä°Âç°ÁâáÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                            </div>
                        </div>
                        <!-- Â∑≤ÂÆåÊàê -->
                        <div class="kanban-column">
                            <div class="kanban-column-header" style="background: #27ae60; color: white; padding: 15px; border-radius: 10px 10px 0 0; font-weight: bold; text-align: center;">
                                ‚úÖ Â∑≤ÂÆåÊàê (<span id="done-count">0</span>)
                            </div>
                            <div class="kanban-column-body" id="done-column" style="background: var(--surface); min-height: 400px; padding: 15px; border-radius: 0 0 10px 10px;">
                                <!-- ‰ªªÂä°Âç°ÁâáÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÊàëÁöÑ‰ªªÂä° -->
        <div id="mytasks" class="content-section">
            <div class="card">
                <h2>‚úÖ ÊàëÁöÑ‰ªªÂä°</h2>
                <p style="color: var(--muted); margin-bottom: 20px;">
                    Êü•ÁúãÂàÜÈÖçÁªôÊÇ®ÁöÑ‰ªªÂä°ÔºåÂø´ÈÄü‰∫ÜËß£ÈúÄË¶ÅÂÆåÊàêÁöÑÂ∑•‰Ωú
                </p>
                <div style="margin-bottom: 20px;">
                    <select id="member-selector" onchange="filterMyTasks()" style="padding: 10px; border-radius: 8px; border: 1px solid var(--border); font-size: 16px; background: var(--card-bg); color: var(--text);">
                        <option value="">-- ÈÄâÊã©ÊàêÂëòÊü•Áúã‰ªªÂä° --</option>
                        <option value="ËµµÂ§©Êúó">ËµµÂ§©Êúó</option>
                        <option value="ËíãÁöìËΩ©">ËíãÁöìËΩ©</option>
                        <option value="Âº†ÁªçÂçø">Âº†ÁªçÂçø</option>
                        <option value="ÈÇìÂ≠êÁøî">ÈÇìÂ≠êÁøî</option>
                        <option value="ÊûóÂºòÊØÖ">ÊûóÂºòÊØÖ</option>
                        <option value="Â§èÊ¢ìÁöì">Â§èÊ¢ìÁöì</option>
                        <option value="Â∞èÂßú">Â∞èÂßú</option>
                        <option value="ÂÖ®‰ΩìÂ≠¶Âëò">ÂÖ®‰ΩìÂ≠¶Âëò</option>
                        <option value="Á°¨‰ª∂ÁªÑ">Á°¨‰ª∂ÁªÑ</option>
                        <option value="ËΩØ‰ª∂ÁªÑ">ËΩØ‰ª∂ÁªÑ</option>
                    </select>
                </div>
                <div id="my-tasks-container">
                    <!-- ‰ªªÂä°ÂàóË°®Â∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                </div>
            </div>
        </div>

        <!-- È°πÁõÆÊåëÊàò -->
        <div id="challenges" class="content-section">
            <!-- È°πÁõÆÂØπÊØîÊ¶ÇËßà -->
            <div class="card" style="margin-bottom: 30px;">
                <h2>üìä È°πÁõÆÂØπÊØîÊ¶ÇËßà</h2>
                <div class="compare-b2b">
                    <div class="compare-head">
                        <div class="head-card a">
                            <div class="emoji">üõ∏</div>
                            <div>
                                <h3 class="title">ÊòüÈôÖÂØªÂëºÊú∫</h3>
                                <p class="subtitle">Alien AgentÁ°¨‰ª∂Êâ©Â±ï</p>
                            </div>
                        </div>
                        <div class="head-card b">
                            <div class="emoji">üéÆ</div>
                            <div>
                                <h3 class="title">AIÊäÄËÉΩÊ†ëÂ≠¶‰π†Âπ≥Âè∞</h3>
                                <p class="subtitle">Ê∏∏ÊàèÂåñÂ≠¶‰π†Á≥ªÁªü</p>
                            </div>
                        </div>
                    </div>

                    <div class="compare-rows">
                        <div class="compare-row">
                            <div class="label">È°πÁõÆËøõÂ∫¶</div>
                            <div class="cell cell-a"><span class="value">60%</span></div>
                            <div class="cell cell-b"><span class="value">40%</span></div>
                        </div>
                        <div class="compare-row">
                            <div class="label">ÂºÄÂèëÂõ¢Èòü</div>
                            <div class="cell cell-a"><span class="value">6‰∫∫</span></div>
                            <div class="cell cell-b"><span class="value">2‰∫∫</span></div>
                        </div>
                        <div class="compare-row">
                            <div class="label">ÊúÄÈ´òÂ•ñÂä±</div>
                            <div class="cell cell-a"><span class="value">¬•5K</span></div>
                            <div class="cell cell-b"><span class="value">¬•5K</span></div>
                        </div>
                        <div class="compare-row">
                            <div class="label">È°πÁõÆÁ±ªÂûã</div>
                            <div class="cell cell-a"><span class="value">Á°¨‰ª∂</span></div>
                            <div class="cell cell-b"><span class="value">ËΩØ‰ª∂</span></div>
                        </div>
                        <div class="compare-row">
                            <div class="label">Ê†∏ÂøÉÁõÆÊ†á</div>
                            <div class="cell cell-a"><div class="desc">ÊèêÂçáÁî®Êà∑‰ª£ÂÖ•ÊÑü„ÄÅÂ®±‰πê‰ΩìÈ™åÂíåÈöèË∫´Â≠¶‰π†‰ª∑ÂÄº</div></div>
                            <div class="cell cell-b"><div class="desc">ËÆ©30-40ÂêçÂ≠¶ÂëòÈÄöËøáÊ∏∏ÊàèÂåñÊñπÂºèÊéåÊè°AIÊäÄËÉΩ</div></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ËØ¶ÁªÜ‰ø°ÊÅØÂå∫ÂüüÔºàË°®Ê†ºÂºèÂØπÊØîÔºâ -->
            <div class="card">
                <h2>üìã È°πÁõÆËØ¶ÁªÜÂØπÊØîË°®</h2>
                <div class="comparison-table">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th id="dimension-col" style="width: 20%;">ÂØπÊØîÁª¥Â∫¶</th>
                                <th id="astropager-col" class="expandable-header table-col-normal" onclick="toggleDetail('astropager')">üõ∏ ÊòüÈôÖÂØªÂëºÊú∫ (AstroPager)</th>
                                <th id="aiskilltree-col" class="expandable-header table-col-normal" onclick="toggleDetail('aiskilltree')">üéÆ AIÊäÄËÉΩÊ†ëÂ≠¶‰π†Âπ≥Âè∞</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>È°πÁõÆÂÆö‰Ωç</strong></td>
                                <td id="astropager-positioning" class="table-row-visible">Alien Agent‰∏ñÁïåËßÇÁîüÊÄÅÁöÑÈáçË¶ÅÁ°¨‰ª∂Êâ©Â±ïÔºåÊèêÂçáÁî®Êà∑ÁöÑ‰ª£ÂÖ•ÊÑü„ÄÅÂ®±‰πê‰ΩìÈ™åÂíåÈöèË∫´Â≠¶‰π†‰ª∑ÂÄº</td>
                                <td id="aiskilltree-positioning" class="table-row-visible">ÊâìÈÄ†‰∏Ä‰∏™Ê∏∏ÊàèÂåñÁöÑÂú®Á∫øÂ≠¶‰π†Á≥ªÁªüÔºåËÆ©30-40ÂêçÈªëÂÆ¢ÊùæÂ≠¶ÂëòÂú®2Âë®ÂÜÖÈÄöËøáËá™‰∏ªÂ≠¶‰π†„ÄÅÈ°πÁõÆÂÆûË∑µ„ÄÅËé∑ÂæóÂããÁ´†ÁöÑÊñπÂºèÔºåÊéåÊè°ÂøÖÂ§áÊäÄËÉΩ</td>
                            </tr>
                            <tr>
                                <td><strong>Ê†∏ÂøÉÂäüËÉΩ</strong></td>
                                <td id="astropager-features" class="table-row-visible">
                                    <ul style="margin: 8px 0; line-height: 1.6;">
                                        <li>üîó Ë¥¶Âè∑ËÅîÈÄöÔºö‰∏éÁΩëÈ°µÁâàÂÆûÁé∞Ë¥¶Âè∑ÂêåÊ≠•</li>
                                        <li>üì® Âõû‰ø°ÈÄöÁü•ÔºöÊé•Êî∂Ê∂àÊÅØÊé®ÈÄÅÔºåÂ§öÁßçÈÄöÁü•ÊñπÂºè</li>
                                        <li>üö® Á¥ßÊÄ•ÊïëÊè¥ÔºöÊé•Êî∂Á¥ßÊÄ•ÈóÆÈ¢òÔºåËØ≠Èü≥ËæìÂÖ•Ëß£Á≠î</li>
                                        <li>üéÆ Á°¨‰ª∂‰∫§‰∫íÔºöÂ±èÂπïÊòæÁ§∫„ÄÅÁâ©ÁêÜÊåâÈîÆ„ÄÅËØ≠Èü≥ËæìÂÖ•</li>
                                    </ul>
                                    <a href="#ap-account" class="inline-link" onclick="openDetail('astropager','ap-account'); return false;">Êü•ÁúãËØ¶ÊÉÖ</a>
                                </td>
                                <td id="aiskilltree-features" class="table-row-visible">
                                    <ul style="margin: 8px 0; line-height: 1.6;">
                                        <li>üìö ËØæÁ®ãÁÆ°ÁêÜÔºöÁÆ°ÁêÜÂëòÊ∑ªÂä†ËØæÁ®ãÔºåÂ≠¶ÂëòÊµèËßàÂ≠¶‰π†</li>
                                        <li>üéØ ÊµãËØïËÆ§ËØÅÔºöÂ≠¶ÂëòÊèê‰∫§‰ΩúÂìÅÔºåÂØºÂ∏àÂÆ°Ê†∏ÂèëÊîæÂããÁ´†</li>
                                        <li>üèÜ ÂããÁ´†Á≥ªÁªüÔºöÊØèÈó®ËØæÁ®ãÂØπÂ∫îÂããÁ´†ÔºåÂèØËá™ÂÆö‰πâ</li>
                                        <li>üå≥ ÊäÄËÉΩÊ†ëÂèØËßÜÂåñÔºöÊ†ëÁä∂ÁªìÊûÑÂ±ïÁ§∫ÔºåÈùûÁ∫øÊÄßÂ≠¶‰π†Ë∑ØÂæÑ</li>
                                    </ul>
                                    <a href="#ai-course" class="inline-link" onclick="openDetail('aiskilltree','ai-course'); return false;">Êü•ÁúãËØ¶ÊÉÖ</a>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>Â≠¶‰π†‰ΩìÈ™å</strong></td>
                                <td id="astropager-experience" class="table-row-visible">
                                    <ul style="margin: 8px 0; line-height: 1.6;">
                                        <li>„ÄêÈöèË∫´Â≠¶‰π†„ÄëÈöèÊó∂ÈöèÂú∞Êé•Êî∂Â≠¶‰π†‰ªªÂä°</li>
                                        <li>„ÄêÁ¶ªÁ∫øÊ®°Âºè„ÄëÁºìÂ≠òÈáçË¶ÅÂ≠¶‰π†ÂÜÖÂÆπ</li>
                                        <li>„ÄêÊ≤âÊµ∏‰ΩìÈ™å„ÄëÁ°¨‰ª∂‰∫§‰∫íÂ¢ûÂº∫‰ª£ÂÖ•ÊÑü</li>
                                        <li>„ÄêÂºÇÊ≠•ÈÄöËÆØ„ÄëËß£ÂÜ≥ÊòüÈôÖÈÄöËÆØÂª∂ËøüÈóÆÈ¢ò</li>
                                    </ul>
                                </td>
                                <td id="aiskilltree-experience" class="table-row-visible">
                                    <ul style="margin: 8px 0; line-height: 1.6;">
                                        <li>„ÄêÂü∫Á°ÄÂ±Ç„ÄëPromptÂ∑•Á®ãÂÖ•Èó®</li>
                                        <li>„ÄêÂ∫îÁî®Â±Ç„ÄëAIÂØπËØùÂä©Êâã„ÄÅAIÊêúÁ¥¢ÂºïÊìé</li>
                                        <li>„ÄêÂàõ‰ΩúÂ±Ç„ÄëAIÊñáÊ°àÂàõ‰Ωú„ÄÅAIÁªòÁîªÂ∑•ÂÖ∑</li>
                                        <li>„Äê‰∏ì‰∏öÂ±Ç„ÄëAIÁºñÁ®ãÂä©Êâã„ÄÅAIËßÜÈ¢ëÂàõ‰Ωú</li>
                                        <li>„ÄêÈ´òÁ∫ßÂ±Ç„ÄëÈ´òÁ∫ßÁºñÁ®ãÂ∑•ÂÖ∑„ÄÅAI AgentÂºÄÂèë</li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>ÊäÄÊúØÊ†à</strong></td>
                                <td id="astropager-tech" class="table-row-visible">
                                    <div class="tech-stack" style="margin: 8px 0;">
                                        <span class="tech-tag">ESP32</span>
                                        <span class="tech-tag">Arduino IDE</span>
                                        <span class="tech-tag">WiFi</span>
                                        <span class="tech-tag">ËìùÁâô</span>
                                        <span class="tech-tag">ËØ≠Èü≥ËØÜÂà´</span>
                                        <span class="tech-tag">3DÂª∫Ê®°</span>
                                        <span class="tech-tag">Fusion 360</span>
                                        <span class="tech-tag">Alien Agent API</span>
                                    </div>
                                    <a href="#ap-hw" class="inline-link" onclick="openDetail('astropager','ap-hw'); return false;">Êü•ÁúãËØ¶ÊÉÖ</a>
                                </td>
                                <td id="aiskilltree-tech" class="table-row-visible">
                                    <div class="tech-stack" style="margin: 8px 0;">
                                        <span class="tech-tag">Next.js 14</span>
                                        <span class="tech-tag">React</span>
                                        <span class="tech-tag">TypeScript</span>
                                        <span class="tech-tag">Tailwind CSS</span>
                                        <span class="tech-tag">DaisyUI</span>
                                        <span class="tech-tag">Prisma</span>
                                        <span class="tech-tag">NextAuth.js</span>
                                        <span class="tech-tag">Vercel</span>
                                    </div>
                                    <a href="#ai-arch" class="inline-link" onclick="openDetail('aiskilltree','ai-arch'); return false;">Êü•ÁúãËØ¶ÊÉÖ</a>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>ÊäÄÊúØËßÑÊ†º</strong></td>
                                <td id="astropager-specs" class="table-row-visible">
                                    <div style="background: var(--surface); padding: 12px; border-radius: 8px; margin: 8px 0;">
                                        <strong>Á°¨‰ª∂ÈÖçÁΩÆÔºö</strong><br>
                                        ÂøÖÈ°ªÔºöWiFi/ËìùÁâô„ÄÅÂ±èÂπï„ÄÅÁâ©ÁêÜÊåâÈîÆ„ÄÅÂñáÂè≠„ÄÅÊåáÁ§∫ÁÅØ„ÄÅËØ≠Èü≥ËæìÂÖ•<br>
                                        ÂèØÈÄâÔºöÊëÑÂÉèÂ§¥„ÄÅÈúáÂä®È©¨Ëææ„ÄÅ‰º†ÊÑüÂô®„ÄÅÊâ©Â±ïÊé•Âè£
                                    </div>
                                </td>
                                <td id="aiskilltree-specs" class="table-row-visible">
                                    <div style="background: var(--surface); padding: 12px; border-radius: 8px; margin: 8px 0;">
                                        <strong>Á≥ªÁªüÊû∂ÊûÑÔºö</strong><br>
                                        ÂâçÁ´ØÔºöNext.js 14 + TypeScript + Tailwind CSS<br>
                                        ÂêéÁ´ØÔºöNext.js API Routes + Prisma + MySQL<br>
                                        ÈÉ®ÁΩ≤ÔºöVercel + PlanetScale
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>ÂàõÊÑèÂèëÊå•Á©∫Èó¥</strong></td>
                                <td id="astropager-creativity" class="table-row-visible">
                                    <ul style="margin: 8px 0; line-height: 1.6;">
                                        <li>Á™ÅÁ†¥‰º†ÁªüÔºöËûçÂÖ•Ê∏∏Êàè„ÄÅÂ®±‰πê„ÄÅÊïôËÇ≤ÂÖÉÁ¥†</li>
                                        <li>Â¢ûÂº∫Âê∏ÂºïÂäõÔºöÁã¨Áâπ‰∫§‰∫íÊñπÂºè„ÄÅËßÜËßâËÆæËÆ°</li>
                                        <li>‰∏ñÁïåËßÇËûçÂêàÔºöÊ∑±Â∫¶ÁªìÂêàAlien AgentÁßëÂπªËÆæÂÆö</li>
                                        <li>ÂàõÊñ∞ÂäüËÉΩÔºöARÊòæÁ§∫„ÄÅÂ§öÊÑüÂÆòÂèçÈ¶à</li>
                                        <li>ÂïÜ‰∏öÊΩúÂäõÔºöÊàê‰∏∫Alien AgentÈ°πÁõÆÁªÑÊàêÈÉ®ÂàÜ</li>
                                    </ul>
                                    <a href="#ap-creative" class="inline-link" onclick="openDetail('astropager','ap-creative'); return false;">Êü•ÁúãËØ¶ÊÉÖ</a>
                                </td>
                                <td id="aiskilltree-creativity" class="table-row-visible">
                                    <ul style="margin: 8px 0; line-height: 1.6;">
                                        <li>ÊøÄÂä±Êú∫Âà∂ÔºöÊéíË°åÊ¶ú„ÄÅÁßØÂàÜ„ÄÅÁ≠âÁ∫ß„ÄÅÊàêÂ∞±Á≥ªÁªü</li>
                                        <li>ÊäÄËÉΩÊ†ëËÆæËÆ°ÔºöÂèØËßÜÂåñÂàõÊÑèÔºàÊòüÁ©∫Âõæ„ÄÅÂú∞ÂõæÁ≠âÔºâ</li>
                                        <li>Á§æ‰∫§‰∫íÂä®ÔºöËÆ®ËÆ∫Âå∫„ÄÅËØÑËÆ∫„ÄÅÂ≠¶‰π†Â∞èÁªÑ</li>
                                        <li>ÁïåÈù¢È£éÊ†ºÔºöÁßëÊäÄÊÑü„ÄÅÊ∏∏ÊàèÈ£é„ÄÅÁÆÄÁ∫¶È£é</li>
                                        <li>Êô∫ËÉΩÂäüËÉΩÔºöAIÂä©Êâã„ÄÅ‰∏™ÊÄßÂåñÊé®Ëçê</li>
                                    </ul>
                                    <a href="#ai-creative" class="inline-link" onclick="openDetail('aiskilltree','ai-creative'); return false;">Êü•ÁúãËØ¶ÊÉÖ</a>
                                </td>
                            </tr>
                            <tr>
                                <td><strong>ÂºÄÂèëÂ•ñÂä±</strong></td>
                                <td id="astropager-rewards" class="table-row-visible">
                                    <div class="rewards-container">
                                        <div class="rewards-grid">
                                            <div class="reward-card bronze">
                                                <div class="reward-icon">ü•â</div>
                                                <div class="reward-level">ÈìúÁâå</div>
                                                <div class="reward-amount">¬•1,000/Èòü</div>
                                                <div class="reward-desc">Âü∫Á°ÄÂäüËÉΩÂÆûÁé∞</div>
                                            </div>
                                            <div class="reward-card silver">
                                                <div class="reward-icon">ü•à</div>
                                                <div class="reward-level">Èì∂Áâå</div>
                                                <div class="reward-amount">¬•3,000/Èòü</div>
                                                <div class="reward-desc">ÂÆåÊï¥ÂäüËÉΩ+‰ΩìÈ™å</div>
                                            </div>
                                            <div class="reward-card gold">
                                                <div class="reward-icon">ü•á</div>
                                                <div class="reward-level">ÈáëÁâå</div>
                                                <div class="reward-amount">¬•5,000/Èòü</div>
                                                <div class="reward-desc">ÂàõÊñ∞‰∫ÆÁÇπ</div>
                                            </div>
                                        </div>
                                        <div class="reward-team">ÂºÄÂèëÂõ¢ÈòüÔºö6‰∫∫</div>
                                    </div>
                                </td>
                                <td id="aiskilltree-rewards" class="table-row-visible">
                                    <div class="rewards-container">
                                        <div class="rewards-grid">
                                            <div class="reward-card bronze">
                                                <div class="reward-icon">ü•â</div>
                                                <div class="reward-level">ÈìúÁâå</div>
                                                <div class="reward-amount">¬•1,000/Èòü</div>
                                                <div class="reward-desc">Âü∫Á°ÄÂäüËÉΩÂÆûÁé∞</div>
                                            </div>
                                            <div class="reward-card silver">
                                                <div class="reward-icon">ü•à</div>
                                                <div class="reward-level">Èì∂Áâå</div>
                                                <div class="reward-amount">¬•3,000/Èòü</div>
                                                <div class="reward-desc">ÂÆåÊï¥ÂäüËÉΩ+‰ΩìÈ™å</div>
                                            </div>
                                            <div class="reward-card gold">
                                                <div class="reward-icon">ü•á</div>
                                                <div class="reward-level">ÈáëÁâå</div>
                                                <div class="reward-amount">¬•5,000/Èòü</div>
                                                <div class="reward-desc">ÂàõÊñ∞‰∫ÆÁÇπ</div>
                                            </div>
                                        </div>
                                        <div class="reward-team">ÂºÄÂèëÂõ¢ÈòüÔºö2‰∫∫</div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <!-- ÊòüÈôÖÂØªÂëºÊú∫ËØ¶ÁªÜÂ±ïÂºÄÂÜÖÂÆπ -->
                    <div id="astropager-detail" class="detail-expansion">
                        <h3 id="ap-detail-top" style="color: var(--primary); margin-bottom: 20px; text-align: center;">üõ∏ ÊòüÈôÖÂØªÂëºÊú∫ËØ¶ÁªÜÂäüËÉΩËØ¥Êòé</h3>
                        <div class="detail-grid">
                            <div class="detail-card" id="ap-account">
                                <h4>üîó Ë¥¶Âè∑ËÅîÈÄöÂäüËÉΩ</h4>
                                <ul>
                                    <li>‰∏éAlien AgentÁΩëÈ°µÁâàÂÆûÁé∞Ë¥¶Âè∑ÂêåÊ≠•</li>
                                    <li>ÂêåÊ≠•Áî®Êà∑ÁöÑËÅîÁªúÂëòË∫´‰ªΩÂíåËøõÂ∫¶Êï∞ÊçÆ</li>
                                    <li>ÊîØÊåÅË∑®Âπ≥Âè∞ÁöÑÂ≠¶‰π†ËÆ∞ÂΩïÂíåÊàêÂ∞±Á≥ªÁªü</li>
                                    <li>‰øùÊåÅÁΩëÈ°µÁ´ØÂíåÁ°¨‰ª∂Á´ØÁöÑÊï∞ÊçÆ‰∏ÄËá¥ÊÄß</li>
                                    <li>ÊîØÊåÅÂ§öËÆæÂ§áÁôªÂΩïÁä∂ÊÄÅÂêåÊ≠•</li>
                                </ul>
                            </div>
                            <div class="detail-card" id="ap-notify">
                                <h4>üì® Âõû‰ø°ÈÄöÁü•Á≥ªÁªü</h4>
                                <ul>
                                    <li>Êé•Êî∂Êù•Ëá™ÁΩëÈ°µÁâàÁöÑÊ∂àÊÅØÊé®ÈÄÅ</li>
                                    <li>ËÆæÂ§áÊî∂Âà∞Â§ñÊòü‰∫∫ÂõûÂ§çÊó∂ÂèäÊó∂ÈÄöÁü•</li>
                                    <li>ÊîØÊåÅÂ§öÁßçÈÄöÁü•ÊñπÂºèÔºöÂ±èÂπï„ÄÅÂ£∞Èü≥„ÄÅÊåáÁ§∫ÁÅØ</li>
                                    <li>ÊòæÁ§∫Ê∂àÊÅØÊëòË¶ÅÂíåËøúÂæÅÈòüÊàêÂëò‰ø°ÊÅØ</li>
                                    <li>ÊîØÊåÅÊ∂àÊÅØ‰ºòÂÖàÁ∫ßÂàÜÁ±ª</li>
                                </ul>
                            </div>
                            <div class="detail-card" id="ap-emergency">
                                <h4>üö® Á¥ßÊÄ•ÊïëÊè¥ÂäüËÉΩ</h4>
                                <ul>
                                    <li>Êé•Êî∂Â§ñÊòü‰∫∫Â§™Á©∫Ëà±ÂÆûÈ™åÁöÑÁ¥ßÊÄ•ÈóÆÈ¢ò</li>
                                    <li>ÈóÆÈ¢òÊ∂âÂèäËã±ËØ≠Áü•ËØÜ„ÄÅÁßëÊôÆÂíåÊñáÂåñÂÜÖÂÆπ</li>
                                    <li>ÊîØÊåÅËØ≠Èü≥ËæìÂÖ•ÂíåÈÄâÊã©È¢òÊñπÂºèËß£Á≠î</li>
                                    <li>ÂÆûÊó∂ËØÑ‰º∞Á≠îÊ°àÊ≠£Á°ÆÊÄßÂπ∂ÂêåÊ≠•Âà∞ÁΩëÈ°µÁ´Ø</li>
                                    <li>Á¥ßÊÄ•ÊÉÖÂÜµËá™Âä®ÊèêÈÜíÂäüËÉΩ</li>
                                </ul>
                            </div>
                            <div class="detail-card" id="ap-ui">
                                <h4>üéÆ Á°¨‰ª∂‰∫§‰∫íÁïåÈù¢</h4>
                                <ul>
                                    <li>ÂΩ©Ëâ≤ÊàñÈªëÁôΩÂ±èÂπïÊòæÁ§∫‰ø°ÊÅØÂÜÖÂÆπ</li>
                                    <li>Áâ©ÁêÜÊåâÈîÆËøõË°åÂü∫Á°ÄÊìç‰Ωú</li>
                                    <li>ËØ≠Èü≥ËæìÂÖ•ÂäüËÉΩÊîØÊåÅÂø´ÈÄüÂõûÂ§ç</li>
                                    <li>ÁÆÄÊòìÂñáÂè≠Êí≠ÊîæÊèêÁ§∫Èü≥ÂíåÂ§ñÊòü‰∫∫ËØ≠Èü≥</li>
                                    <li>Ëß¶ËßâÂèçÈ¶àÂíåÈúáÂä®ÊèêÈÜí</li>
                                </ul>
                            </div>
                            <div class="detail-card" id="ap-hw">
                                <h4>üîß Á°¨‰ª∂ÈÖçÁΩÆË¶ÅÊ±Ç</h4>
                                <ul>
                                    <li><strong>ÂøÖÈ°ªÈÖçÁΩÆÔºö</strong>WiFi/ËìùÁâô„ÄÅÂ±èÂπï„ÄÅÁâ©ÁêÜÊåâÈîÆ„ÄÅÂñáÂè≠„ÄÅÊåáÁ§∫ÁÅØ„ÄÅËØ≠Èü≥ËæìÂÖ•</li>
                                    <li><strong>ÂèØÈÄâÈÖçÁΩÆÔºö</strong>ÊëÑÂÉèÂ§¥„ÄÅÈúáÂä®È©¨Ëææ„ÄÅ‰º†ÊÑüÂô®„ÄÅÊâ©Â±ïÊé•Âè£</li>
                                    <li><strong>ÂèÇËÄÉÁÅµÊÑüÔºö</strong>Êï∞Á†ÅÂÆùË¥ùËøõÂåñÂô® + Pokemon GO Plus + LifelineÊ∏∏Êàè</li>
                                </ul>
                            </div>
                            <div class="detail-card" id="ap-creative">
                                <h4>üí° ÂàõÊÑèÂèëÊå•Á©∫Èó¥</h4>
                                <ul>
                                    <li>Á™ÅÁ†¥‰º†ÁªüÔºöËûçÂÖ•Ê∏∏Êàè„ÄÅÂ®±‰πê„ÄÅÊïôËÇ≤ÂÖÉÁ¥†</li>
                                    <li>Â¢ûÂº∫Âê∏ÂºïÂäõÔºöÁã¨Áâπ‰∫§‰∫íÊñπÂºè„ÄÅËßÜËßâËÆæËÆ°</li>
                                    <li>‰∏ñÁïåËßÇËûçÂêàÔºöÊ∑±Â∫¶ÁªìÂêàAlien AgentÁßëÂπªËÆæÂÆö</li>
                                    <li>ÂàõÊñ∞ÂäüËÉΩÔºöARÊòæÁ§∫„ÄÅÂ§öÊÑüÂÆòÂèçÈ¶à</li>
                                    <li>ÂïÜ‰∏öÊΩúÂäõÔºöÊàê‰∏∫Alien AgentÈ°πÁõÆÁªÑÊàêÈÉ®ÂàÜ</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- AIÊäÄËÉΩÊ†ëÂ≠¶‰π†Âπ≥Âè∞ËØ¶ÁªÜÂ±ïÂºÄÂÜÖÂÆπ -->
                    <div id="aiskilltree-detail" class="detail-expansion">
                        <h3 id="ai-detail-top" style="color: var(--primary); margin-bottom: 20px; text-align: center;">üéÆ AIÊäÄËÉΩÊ†ëÂ≠¶‰π†Âπ≥Âè∞ËØ¶ÁªÜÂäüËÉΩËØ¥Êòé</h3>
                        <div class="detail-grid">
                            <div class="detail-card" id="ai-course">
                                <h4>üìö ËØæÁ®ãÁÆ°ÁêÜÁ≥ªÁªü</h4>
                                <ul>
                                    <li>ÁÆ°ÁêÜÂëòÂèØÊ∑ªÂä†ËØæÁ®ãÔºàÂêçÁß∞„ÄÅÊèèËø∞„ÄÅÂ§ñÈÉ®ËßÜÈ¢ëÈìæÊé•Ôºâ</li>
                                    <li>Â≠¶ÂëòÊµèËßàËØæÁ®ãÔºåË∑≥ËΩ¨Âà∞BÁ´ô/YouTube/È£û‰π¶ÊñáÊ°£Â≠¶‰π†</li>
                                    <li>ÊîØÊåÅËá™ÂÆö‰πâËØæÁ®ãÁ±ªÂà´ÔºåÊó†ÂâçÁΩÆ‰æùËµñ</li>
                                    <li>ËØæÁ®ãËøõÂ∫¶Ë∑üË∏™ÂíåÂÆåÊàêÁä∂ÊÄÅÁÆ°ÁêÜ</li>
                                    <li>ÊîØÊåÅÂ§öÁßçÂ≠¶‰π†ËµÑÊ∫êÊ†ºÂºè</li>
                                </ul>
                            </div>
                            <div class="detail-card" id="ai-test">
                                <h4>üéØ ÊµãËØï‰∏éËÆ§ËØÅÁ≥ªÁªü</h4>
                                <ul>
                                    <li>Â≠¶ÂëòÂÆåÊàêÂ≠¶‰π†ÂêéÊèê‰∫§‰ΩúÂìÅÔºàÈ°πÁõÆÈìæÊé•/Êñá‰ª∂/Êà™ÂõæÔºâ</li>
                                    <li>ÁÆ°ÁêÜÂëò/ÂØºÂ∏àÂÆ°Ê†∏Êèê‰∫§ÔºåÈÄöËøáÂêéËá™Âä®ÂèëÊîæÂããÁ´†</li>
                                    <li>È™åËØÅ‰ΩúÂìÅÊòØÂ≠¶ÂëòÊú¨‰∫∫Áî®ËßÑÂÆöÂ∑•ÂÖ∑ÂÆåÊàê</li>
                                    <li>ÊîØÊåÅÂ§öÁßç‰ΩúÂìÅÁ±ªÂûãÂíåÊ†ºÂºè</li>
                                    <li>Ëá™Âä®ÂåñÁöÑÂÆ°Ê†∏ÊµÅÁ®ãÂíåÂèçÈ¶àÊú∫Âà∂</li>
                                </ul>
                            </div>
                            <div class="detail-card" id="ai-badge">
                                <h4>üèÜ ÂããÁ´†Á≥ªÁªü</h4>
                                <ul>
                                    <li>ÊØèÈó®ËØæÁ®ãÂØπÂ∫î‰∏Ä‰∏™ÂããÁ´†</li>
                                    <li>ÈÄöËøáÊµãËØïÂç≥Ëé∑ÂæóÂããÁ´†</li>
                                    <li>ÂããÁ´†ÂèØËá™ÂÆö‰πâÔºàÂêçÁß∞„ÄÅÂõæÊ†á„ÄÅÊèèËø∞Ôºâ</li>
                                    <li>ÂããÁ´†Êî∂ÈõÜÂíåÂ±ïÁ§∫ÂäüËÉΩ</li>
                                    <li>ÁâπÊÆäÊàêÂ∞±ÂíåÁ®ÄÊúâÂããÁ´†</li>
                                </ul>
                            </div>
                            <div class="detail-card" id="ai-tree">
                                <h4>üå≥ ÊäÄËÉΩÊ†ëÂèØËßÜÂåñ</h4>
                                <ul>
                                    <li>‰ª•Ê†ëÁä∂ÁªìÊûÑÂ±ïÁ§∫ÊâÄÊúâËØæÁ®ãÂíåÂããÁ´†</li>
                                    <li>ÊîØÊåÅÂàÜÊîØËÆæËÆ°ÔºåÈùûÁ∫øÊÄßÂ≠¶‰π†Ë∑ØÂæÑ</li>
                                    <li>ËäÇÁÇπÁä∂ÊÄÅÔºöÊú™ÂºÄÂßã‚ÜíÂ≠¶‰π†‰∏≠‚ÜíÂ∑≤ÂÆåÊàê/ÁÇπ‰∫Æ</li>
                                    <li>‰∫§‰∫íÂºèÊäÄËÉΩÊ†ëÂØºËà™</li>
                                    <li>Â≠¶‰π†Ë∑ØÂæÑÊé®ËçêÂíå‰∏™ÊÄßÂåñÂª∫ËÆÆ</li>
                                </ul>
                            </div>
                            <div class="detail-card" id="ai-incentive">
                                <h4>üéÆ Áî®Êà∑ÊøÄÂä±Êú∫Âà∂</h4>
                                <ul>
                                    <li><strong>ÁßØÂàÜÁ≥ªÁªüÔºö</strong>Lv.1(+10ÂàÜ) ‚Üí Lv.2(+20ÂàÜ) ‚Üí Lv.3(+30ÂàÜ)</li>
                                    <li><strong>ËôöÊãüË¥ßÂ∏ÅÔºö</strong>Â≠¶‰π†Â∏ÅÊåëÊàòÁ≥ªÁªü„ÄÅPKÂØπÊàòÂ•ñÂä±</li>
                                    <li><strong>ÊéíË°åÊ¶úÔºö</strong>ÁßØÂàÜÊéíÂêç„ÄÅÂ≠¶‰π†ËøõÂ∫¶ÊéíÂêç</li>
                                    <li><strong>ÊàêÂ∞±Á≥ªÁªüÔºö</strong>ËøûÁª≠Â≠¶‰π†Â§©Êï∞„ÄÅÁâπÊÆäÊàêÂ∞±</li>
                                </ul>
                            </div>
                            <div class="detail-card" id="ai-arch">
                                <h4>üîß ÊäÄÊúØÊû∂ÊûÑ</h4>
                                <ul>
                                    <li><strong>ÂâçÁ´ØÔºö</strong>Next.js 14 + TypeScript + Tailwind CSS</li>
                                    <li><strong>ÂêéÁ´ØÔºö</strong>Next.js API Routes + Prisma + MySQL</li>
                                    <li><strong>ËÆ§ËØÅÔºö</strong>NextAuth.js + bcrypt</li>
                                    <li><strong>ÈÉ®ÁΩ≤Ôºö</strong>Vercel + PlanetScale</li>
                                    <li><strong>Êñá‰ª∂‰∏ä‰º†Ôºö</strong>Uploadthing CDN</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- AIÂ∑•‰ΩúÊµÅ -->
        <div id="workflow" class="content-section">
            <div class="card">
                <h2>ü§ñ AIÂéüÁîüÂ∑•‰ΩúÊµÅ</h2>
                
                <div class="workflow-step">
                    <h4>1. ‰∏çÊèíÁîµÂàõÊÑèÊ¢≥ÁêÜÔºà25ÂàÜÈíüÔºâ</h4>
                    <p>ÈÄöËøáÈõÜ‰Ωì‰ºöËÆÆËÆ®ËÆ∫ÔºåËÆ©Âõ¢ÈòüÂéüÁîüÊÉ≥Ê≥ïÂÖÖÂàÜÁ¢∞ÊíûÔºåÂΩ¢ÊàêÈ´òË¥®ÈáèÁöÑÂàùÂßã‰∏ä‰∏ãÊñá„ÄÇ‰∏çË¶ÅÊÄ•‰∫éÊü•ËµÑÊñôÊàñÈóÆAIÔºåÂÖàÊääÂõ¢ÈòüÁöÑÂéüÂßãÊÉ≥Ê≥ïÂÖÖÂàÜËÆ®ËÆ∫Âá∫Êù•„ÄÇ</p>
                </div>

                <div class="workflow-step">
                    <h4>2. AIÂèçÂêëÊèêÈóÆ‰∏é‰∏ä‰∏ãÊñáÊ∑±ÂåñÔºà30ÂàÜÈíüÔºâ</h4>
                    <p>ËÆ©AIÊàê‰∏∫‰∫ßÂìÅÁªèÁêÜÔºåÈÄöËøáÊèêÈóÆÊæÑÊ∏ÖÈúÄÊ±Ç„ÄÇAIÊØèÊèê‰∏Ä‰∏™ÈóÆÈ¢òÔºå‰∏â‰∫∫Âø´ÈÄüËÆ®ËÆ∫Ôºà2-3ÂàÜÈíüÔºâÔºåËÆ©ÈúÄÊ±ÇË∂äÊù•Ë∂äÊ∏ÖÊô∞„ÄÇ</p>
                </div>

                <div class="workflow-step">
                    <h4>3. AIÁîüÊàêÂàùÊ≠•Êû∂ÊûÑÊñπÊ°àÔºà25ÂàÜÈíüÔºâ</h4>
                    <p>ËÆ©AIÂü∫‰∫é‰∏∞ÂØåÁöÑ‰∏ä‰∏ãÊñáÔºåÁîüÊàêÂ§öÁª¥Â∫¶ÁöÑÊû∂ÊûÑÂª∫ËÆÆ„ÄÇÊØè‰∫∫Áã¨Á´ãÈòÖËØªAIÁöÑËæìÂá∫ÔºåÊ†áÊ≥®ËÆ§Âêå„ÄÅÁñëÈóÆÂíå‰∏çËÆ§ÂêåÁöÑÈÉ®ÂàÜ„ÄÇ</p>
                </div>

                <div class="workflow-step">
                    <h4>4. ÈõÜ‰ΩìËÆ®ËÆ∫‰∏é‰∫∫Á±ª‰ºòÂåñÔºà35ÂàÜÈíüÔºâ</h4>
                    <p>ÈÄöËøáÂõ¢ÈòüËÆ®ËÆ∫ÔºåËûçÂêà‰∫∫Á±ªÊô∫ÊÖßÔºå‰ºòÂåñAIÊñπÊ°à„ÄÇËøôÊòØ‰ΩìÁé∞"‰∫∫ÁöÑÂìÅÂë≥"ÁöÑÂÖ≥ÈîÆÁéØËäÇ„ÄÇ</p>
                </div>

                <div class="workflow-step">
                    <h4>5. Â§çÁõò‰∏éÊÄªÁªìÔºà5ÂàÜÈíüÔºâ</h4>
                    <p>ÊèêÁÇºÁªèÈ™åÔºåÁêÜËß£Â∑•‰ΩúÊµÅÁöÑÊ†∏ÂøÉ„ÄÇ‰∫∫Êèê‰æõÊñπÂêëÂíåÂìÅÂë≥ÔºåAIÊèê‰æõÁü•ËØÜÂíåÁªìÊûÑ„ÄÇ</p>
                </div>

                <h3>üõ†Ô∏è Â∑•ÂÖ∑ÁîüÊÄÅ</h3>
                <ul style="margin: 15px 0; line-height: 1.8;">
                    <li><strong>Cursor IDE</strong>: ‰∏ªË¶ÅÂºÄÂèëÁéØÂ¢ÉÔºåAIÁºñÁ®ãÂä©Êâã</li>
                    <li><strong>GitHub</strong>: ‰ª£Á†ÅÊâòÁÆ°ÂíåÂçè‰Ωú</li>
                    <li><strong>Gather Town</strong>: ËôöÊãüÂçè‰ΩúÁ©∫Èó¥</li>
                    <li><strong>È£û‰π¶ÊñáÊ°£</strong>: ÂÆûÊó∂Âçè‰ΩúÂíåÊñáÊ°£ÁÆ°ÁêÜ</li>
                </ul>
            </div>
        </div>

        <!-- ËµÑÊ∫ê‰∏≠ÂøÉ -->
        <div id="resources" class="content-section">
            <div class="dashboard-grid">
                <div class="card">
                    <h3>üìã Ê†∏ÂøÉÊåáÂØºÊñáÊ°£</h3>
                    <button class="link-button" onclick="openDocument('content/guidelines/È¢ÜËà™ÂëòSOPÂ∑•‰ΩúÊµÅÔºàv1Ôºâ.md', 'È¢ÜËà™ÂëòSOPÂ∑•‰ΩúÊµÅ')">È¢ÜËà™ÂëòSOPÂ∑•‰ΩúÊµÅ</button>
                    <button class="link-button" onclick="openDocument('content/guidelines/AIÊèêÁ§∫ËØçÂ∫ì-È¢ÜËà™Âëò‰∏ìÁî®.md', 'AIÊèêÁ§∫ËØçÂ∫ì')">AIÊèêÁ§∫ËØçÂ∫ì-È¢ÜËà™Âëò‰∏ìÁî®</button>
                    <button class="link-button" onclick="openDocument('content/guidelines/Ë∂ÖËÑëÁ∫ø‰∏äÈªëÂÆ¢ÊùæÊâãÂÜåV1.0.md', 'ÈªëÂÆ¢ÊùæÊÄªÊâãÂÜå')">ÈªëÂÆ¢ÊùæÊÄªÊâãÂÜå</button>
                    <button class="link-button" onclick="openDocument('content/workflow/Êìç‰ΩúÊåáÂçó.md', 'Êìç‰ΩúÊåáÂçó')">Êìç‰ΩúÊåáÂçó</button>
                    <button class="link-button" onclick="openDocument('content/workflow/Âø´ÈÄüÂèÇËÄÉ.md', 'Âø´ÈÄüÂèÇËÄÉ')">Âø´ÈÄüÂèÇËÄÉ</button>
                    <button class="link-button" onclick="openDocument('content/workflow/È¢ÜËà™ÂëòAIÂçè‰ΩúÂø´ÈÄüÂèÇËÄÉ.md', 'È¢ÜËà™ÂëòAIÂçè‰ΩúÂø´ÈÄüÂèÇËÄÉ')">È¢ÜËà™ÂëòAIÂçè‰ΩúÂø´ÈÄüÂèÇËÄÉ</button>
                </div>
                
                <div class="card">
                    <h3>üöÄ È°πÁõÆÊåëÊàò</h3>
                    <button class="link-button" onclick="openDocument('content/guidelines/ÊåëÊàòÂ£∞Êòé-ÊòüÈôÖÂØªÂëºÊú∫-ÈöèË∫´Á°¨‰ª∂È°πÁõÆ.md', 'ÊòüÈôÖÂØªÂëºÊú∫ÊåëÊàò')">ÊòüÈôÖÂØªÂëºÊú∫ÊåëÊàò</button>
                    <button class="link-button" onclick="openDocument('content/guidelines/ÊåëÊàòÂ£∞Êòé-Ë∂ÖËÑëÁ∫ø‰∏äÊ∏∏ÊàèÂåñËØæÁ®ãÁ≥ªÁªü.md', 'Ê∏∏ÊàèÂåñËØæÁ®ãÁ≥ªÁªü')">Ê∏∏ÊàèÂåñËØæÁ®ãÁ≥ªÁªü</button>
                    <button class="link-button" onclick="openDocument('content/students/Â≠¶ÂëòÊ°£Ê°à.md', 'Â≠¶ÂëòÊ°£Ê°à')">Â≠¶ÂëòÊ°£Ê°à</button>
                </div>
                
                <div class="card">
                    <h3>üìä È°πÁõÆÊñáÊ°£</h3>
                    <button class="link-button" onclick="openDocument('content/meetings/README.md', '‰ºöËÆÆËÆ∞ÂΩïÂØºËà™')">‰ºöËÆÆËÆ∞ÂΩïÂØºËà™</button>
                    <button class="link-button" onclick="openDocument('content/meetings/Â§çÁõòÊñáÊ°£ÂØºËà™.md', 'Â§çÁõòÊñáÊ°£ÂØºËà™')">Â§çÁõòÊñáÊ°£ÂØºËà™</button>
                    <button class="link-button" onclick="openDocument('content/archive/Ë∂ÖËÑëÂèëÂ±ïÊó∂Èó¥Á∫ø.md', 'Ë∂ÖËÑëÂèëÂ±ïÊó∂Èó¥Á∫ø')">Ë∂ÖËÑëÂèëÂ±ïÊó∂Èó¥Á∫ø</button>
                    <button class="link-button" onclick="openDocument('content/archive/Ëø≠‰ª£ÈÄªËæëÂΩíÊ°£.md', 'Ëø≠‰ª£ÈÄªËæëÂΩíÊ°£')">Ëø≠‰ª£ÈÄªËæëÂΩíÊ°£</button>
                </div>
                
                <div class="card">
                    <h3>üéâ Ê¥ªÂä®‰∏éÂ∑•ÂÖ∑</h3>
                    <a href="/vibe-coding-party/" class="link-button" target="_blank" style="margin: 8px; display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none;">üéµ Vibe Coding Party</a>
                    <p style="color: var(--text-secondary); font-size: 13px; margin-top: 8px; margin-bottom: 12px;">Á∫ø‰∏äÂÖ±Â≠¶Ê¥æÂØπ - AIÁºñÁ®ãÁöÑÂ•áÂ¶ô‰πêË∂£</p>
                    <hr style="border: none; border-top: 1px solid var(--border-color); margin: 15px 0;">
                    <p style="color: var(--text-secondary); font-size: 15px; margin-bottom: 12px;">‰ª•‰∏ãÊñáÊ°£ËØ∑‰ªéGitHub‰ªìÂ∫ìËÆøÈóÆÔºö</p>
                    <a href="https://github.com/Stoic42/SuperBrain" class="link-button" target="_blank" style="margin: 8px; display: inline-block;">üìö ËÆøÈóÆÂÆåÊï¥ÊñáÊ°£Â∫ì</a>
                    <a href="https://github.com/Stoic42/SuperBrain/tree/main/docs" class="link-button" target="_blank" style="margin: 8px; display: inline-block;">üìñ Êü•ÁúãÊñáÊ°£ÁõÆÂΩï</a>
                    <p style="color: var(--text-secondary); font-size: 13px; margin-top: 12px;">ÊèêÁ§∫ÔºöÂÆåÊï¥ÊñáÊ°£‰Ωç‰∫éÈ°πÁõÆGitHub‰ªìÂ∫ì‰∏≠ÔºåÂΩìÂâçÂπ≥Âè∞Â±ïÁ§∫Ê†∏ÂøÉÂ∏∏Áî®ÊñáÊ°£„ÄÇ</p>
                </div>
            </div>
        </div>

        <!-- ÊñáÊ°£Êü•ÁúãÂô® -->
        <div id="doc-viewer-overlay" class="doc-viewer-overlay" onclick="if(event.target.id === 'doc-viewer-overlay') closeDocument()">
            <div class="doc-viewer-container" onclick="event.stopPropagation()">
                <div class="doc-viewer-header">
                    <div class="doc-viewer-title" id="doc-viewer-title">ÊñáÊ°£Êü•ÁúãÂô®</div>
                    <button class="doc-viewer-close" onclick="closeDocument()">√ó</button>
                </div>
                <div class="doc-viewer-content" id="doc-viewer-content">
                    <div class="doc-viewer-loading">Âä†ËΩΩ‰∏≠...</div>
                </div>
            </div>
        </div>

        <!-- Êï∞ÊçÆÂàÜÊûê -->
        <div id="analytics" class="content-section">
            <div class="dashboard-grid" style="display: flex; flex-direction: column; gap: 25px;">
                <div class="card">
                    <h2>üìä È°πÁõÆÂØπÊØîÂàÜÊûê</h2>
                    <table class="data-table">
                        <tr>
                            <th>ÂØπÊØîÁª¥Â∫¶</th>
                            <th>ÊòüÈôÖÂØªÂëºÊú∫ÁªÑ</th>
                            <th>Ê∏∏ÊàèÂåñÂÖ±Â≠¶ÁªÑ</th>
                        </tr>
                        <tr>
                            <td><strong>È°πÁõÆÁä∂ÊÄÅ</strong></td>
                            <td>Week 3: Á°¨‰ª∂Âü∫Á°ÄÈ™åËØÅ üî¥ÔºàÂºÄÂèëÊùøÂ∑≤ÈááË¥≠ÂÆåÊàêÔºåÁ≠âÂæÖÂà∞Ë¥ßÈ™åËØÅ„ÄÇËíãÁöìËΩ©Â∑≤Ë∑ëËøáÁ§∫‰æãÁ®ãÂ∫èÔºåÂ§èÊ¢ìÁöìÂ∑≤Ëß£ÂÜ≥ÊäÄÊúØÈóÆÈ¢òÔºâ</td>
                            <td>ÂºÄÂèëÈò∂ÊÆµ üîÑÔºàËØæÁ®ãËÆæËÆ°‰∏éÂ≠¶ÂëòÂèÇ‰∏éÂ∫¶‰ºòÂåñÔºâ</td>
                        </tr>
                        <tr>
                            <td><strong>ÊäÄÊúØÈöæÂ∫¶</strong></td>
                            <td>Á°¨‰ª∂+ËΩØ‰ª∂+Â§ñËßÇËÆæËÆ°ÔºåÂ§çÊùÇÂ∫¶È´ò</td>
                            <td>Á∫ØËΩØ‰ª∂È°πÁõÆÔºåÁõ∏ÂØπÁÆÄÂçï</td>
                        </tr>
                        <tr>
                            <td><strong>Âõ¢ÈòüÊàêÁÜüÂ∫¶</strong></td>
                            <td>Â∑≤Á°ÆÂÆöÁªÑÈïøÔºàÂº†ÁªçÂçøÔºâÔºåÂàÜÂ∑•ÊòéÁ°Æ„ÄÇÁ°¨‰ª∂ÁªÑ‰∏ªËßÇËÉΩÂä®ÊÄßÊ≠£Âú®ÊèêÂçáÔºàÂº†ÁªçÂçøË¥üË¥£Áù£‰øÉÔºâÔºåÂêÑÁªÑËøõÂ±ïÈ°∫Âà©</td>
                            <td>Â∑≤ÊúâÂ∏¶Â§¥‰∫∫ÔºàÈ´ò‰∫ë‰ª™ÔºâÔºåAikenÈ¢ÜËà™ÔºåÈúÄ‰ºòÂåñÂ≠¶ÂëòÂèÇ‰∏éÂ∫¶</td>
                        </tr>
                        <tr>
                            <td><strong>‰∏ªË¶ÅÊåëÊàò</strong></td>
                            <td>ÈÄö‰ø°ÂçèËÆÆÁ°ÆËÆ§„ÄÅÊäÄÊúØÈÄâÂûã„ÄÅË¥¶Âè∑ÁªëÂÆöÊñπÊ°à„ÄÅÈ¶ñÊ¨°ÊâìÂç∞Ôºà3-5Â§©Ôºâ„ÄÅÁ°¨‰ª∂ÁªÑ‰∏ªËßÇËÉΩÂä®ÊÄß</td>
                            <td>Â≠¶ÂëòÊ≥®ÊÑèÂäõÂàÜÊï£„ÄÅÁº∫‰πèÊøÄÊÉÖÔºåËØæÁ®ãËÆæËÆ°ÈúÄË¶Å‰ºòÂåñ</td>
                        </tr>
                        <tr>
                            <td><strong>‰∏ã‰∏ÄÊ≠•ÈáçÁÇπ</strong></td>
                            <td>üî¥ ÂºÄÂèëÊùøÂà∞Ë¥ßÈ™åËØÅ„ÄÅÈÄö‰ø°ÂçèËÆÆÁ°ÆËÆ§„ÄÅÊäÄÊúØÈÄâÂûãÁ°ÆÂÆö„ÄÅË¥¶Âè∑ÁªëÂÆöÊñπÊ°àËÆæËÆ°„ÄÅÂ§ñËßÇËÆæËÆ°È¶ñÊ¨°ÊâìÂç∞</td>
                            <td>‰ºòÂåñËØæÁ®ãËÆæËÆ°ÔºåÊèêÂçáÂ≠¶ÂëòÂèÇ‰∏éÂ∫¶ÂíåÊ≥®ÊÑèÂäõÔºàAikenË¥üË¥£Ôºâ</td>
                        </tr>
                    </table>
                </div>

                <div class="card">
                    <h2>üìà Â≠¶ÂëòÊàêÈïøË∑üË∏™</h2>
                    <div class="timeline" style="max-height: 500px; overflow-y: auto; padding-right: 10px;">
                        <!-- ÊúÄÊñ∞/ÊúÄÈúÄË¶ÅÂÖ≥Ê≥®ÁöÑÂÜÖÂÆπÁΩÆÈ°∂ -->
                        <div class="timeline-item">
                            <h4>üí° 11.03Â§çÁõò‰ºö - ÊïôËÇ≤Âì≤Â≠¶ËΩ¨Âêë <span class="status-badge status-completed">Â∑≤ÂÆåÊàê</span></h4>
                            <p>Á°ÆÁ´ãÊ†∏ÂøÉÁêÜÂøµÔºö'Â≠¶ÂëòÁä∂ÊÄÅ‰∏çÊòØÈ¢ÜËà™ÂëòË¥£‰ªª'„ÄÇËßíËâ≤ÈáçÊñ∞ÂÆö‰πâÔºöÂØºÂ∏àË¢´Âä®ÊîØÊåÅ„ÄÅÈ¢ÜËà™Âëò‰∏ªÂä®ÂºïÂØºÔºà6Â§ßËÅåË¥£Ôºâ„ÄÅÈòüÈïøÁ¨¨‰∏ÄË¥£‰ªª‰∫∫„ÄÇÊñ∞Â¢ûÊµÅÁ®ãÔºöÁ´ô‰ºö„ÄÅDemo Day„ÄÅÊ°à‰æãÂàÜ‰∫´„ÄÅÁ°¨‰ª∂ÁªÑÊñ∞Âçè‰ΩúÊ®°ÂºèÔºàÂ≠¶ÁîüÂÖàËÆ®ËÆ∫ÔºåÂØºÂ∏àÂæÖÂëΩÔºâ</p>
                            <small>2024Âπ¥11Êúà3Êó•</small>
                        </div>
                        
                        <div class="timeline-item">
                            <h4>üî¥ Á°¨‰ª∂ÁªÑ - È´ò‰ºòÂÖàÁ∫ß‰ªªÂä° <span class="status-badge status-progress">ËøõË°å‰∏≠</span></h4>
                            <p>ÈúÄÂ∞ΩÂø´Á°ÆËÆ§ÈÄö‰ø°ÂçèËÆÆÔºàHTTP/WebSocket/MQTTÔºâ„ÄÅÂÆö‰πâGPIOÂºïËÑöÁî®ÈÄî„ÄÅÂ≠¶‰π†Â∞èÊô∫‰ª£Á†ÅÂ∫ì„ÄÇÁ°¨‰ª∂ÁªÑÊàêÂëò‰∏ªËßÇËÉΩÂä®ÊÄßÈúÄË¶ÅÊèêÂçá„ÄÇÂë®‰∏≠ËæÖÂØºÈáçÁÇπÔºöÂüπËÆ≠Âº†ÁªçÂçøÁöÑÈ°πÁõÆÁÆ°ÁêÜËÉΩÂäõÔºàÂ∞èÂßúË¥üË¥£Ôºâ</p>
                            <small>2025Âπ¥11Êúà2Êó• - ËøõË°å‰∏≠</small>
                        </div>
                        
                        <div class="timeline-item">
                            <h4>üî¥ Â§ñËßÇËÆæËÆ°ÁªÑ - È¶ñÊ¨°ÊâìÂç∞‰ªªÂä°Ôºà3-5Â§©Ôºâ<span class="status-badge status-progress">ËøõË°å‰∏≠</span></h4>
                            <p>ËµµÂ§©ÊúóÂ≠¶‰π†Fusion 360ÔºàTinkerCAD‰∏çÂ§üÁî®ÔºâÔºåÊûóÂºòÊØÖÂçèÂä©„ÄÇÈúÄË¶ÅÂú®3-5Â§©ÂÜÖÂÆåÊàêÈ¶ñÊ¨°ÊâìÂç∞ÔºàÈ´ò‰ºòÂÖàÁ∫ßÔºâ„ÄÇÊûóÂºòÊØÖÁ¨¨‰∏ÄÂë®‰Ωú‰∏öÂæÖÊèê‰∫§</p>
                            <small>2025Âπ¥11Êúà2Êó• - ËøõË°å‰∏≠</small>
                        </div>
                        
                        <div class="timeline-item">
                            <h4>üî¥ ËΩØ‰ª∂ÁªÑ - ÊäÄÊúØÈÄâÂûã‰∏éË¥¶Âè∑ÁªëÂÆöÊñπÊ°à <span class="status-badge status-progress">ËøõË°å‰∏≠</span></h4>
                            <p>ÈúÄÂ∞ΩÂø´Á°ÆÂÆöÊäÄÊúØÈÄâÂûãÔºàPython/Next.jsÁ≠âÔºâÂíåË¥¶Âè∑ÁªëÂÆöÊñπÊ°àÔºàÊâ´Á†Å/È™åËØÅÁ†Å/ËìùÁâôÈÖçÂØπÁ≠âÔºâÔºåËøôÊòØÈ°πÁõÆÊû∂ÊûÑÁöÑÂÖ≥ÈîÆÂÜ≥Á≠ñ</p>
                            <small>2025Âπ¥11Êúà2Êó• - ËøõË°å‰∏≠</small>
                        </div>
                        
                        <div class="timeline-item">
                            <h4>Ê∏∏ÊàèÂåñÂÖ±Â≠¶Âπ≥Âè∞ÁªÑ - ÂèÇ‰∏éÂ∫¶‰ºòÂåñ <span class="status-badge status-progress">ËøõË°å‰∏≠</span></h4>
                            <p>AikenËßÇÂØüÂà∞Â≠¶ÂëòÔºàÂ∞èÈô∂„ÄÅ‰πêÂÆÅÔºâÊ≥®ÊÑèÂäõÂàÜÊï£„ÄÅÁº∫‰πèÊøÄÊÉÖ„ÄÇÈúÄË¶Å‰ºòÂåñËØæÁ®ãËÆæËÆ°ÔºåÊèêÂçáÂ≠¶ÂëòÂèÇ‰∏éÂ∫¶ÂíåÊ≥®ÊÑèÂäõÔºàAikenË¥üË¥£Ë∑üËøõÔºâ</p>
                            <small>2025Âπ¥11Êúà2Êó• - ËøõË°å‰∏≠</small>
                        </div>
                        
                        <div class="timeline-item">
                            <h4>11.2ÂÖ±Â≠¶‰ºöËÆÆ - ÈáçÂ§ßËøõÂ±ï <span class="status-badge status-completed">Â∑≤ÂÆåÊàê</span></h4>
                            <p>ÂêÑÁªÑRoadmapÂØπÈΩêÔºåÂºÄÂèëÊùøÈááË¥≠Á°ÆËÆ§ÔºàÂæÆÈõ™ESP32-S3 3.5ÂØ∏Ôºå147ÂÖÉÔºâÔºåÈ´ò‰ºòÂÖàÁ∫ß‰ªªÂä°ÊòéÁ°ÆÔºàÈÄö‰ø°ÂçèËÆÆ„ÄÅÊäÄÊúØÈÄâÂûã„ÄÅË¥¶Âè∑ÁªëÂÆö„ÄÅÈ¶ñÊ¨°ÊâìÂç∞Ôºâ</p>
                            <small>2024Âπ¥11Êúà2Êó•</small>
                        </div>
                        
                        <div class="timeline-item">
                            <h4>Âº†ÁªçÂçø - ÊãÖ‰ªªÈ°πÁõÆÁªÑÈïø <span class="status-badge status-completed">Â∑≤ÂÆåÊàê</span></h4>
                            <p>Âú®ËΩØ‰ª∂ÁªÑ‰∏≠Â±ïÁé∞È¢ÜÂØºÂäõÔºå11.2ÂÖ±Â≠¶‰ºöËÆÆÂêéÊ≠£ÂºèÁ°ÆËÆ§ÊãÖ‰ªªÊòüÈôÖÂØªÂëºÊú∫È°πÁõÆÁªÑÈïøÔºåË¥üË¥£ÂçèË∞ÉÈ°πÁõÆËøõÂ∫¶ÂíåÂõ¢ÈòüÂçè‰Ωú</p>
                            <small>2024Âπ¥11Êúà2Êó•</small>
                        </div>
                        
                        <div class="timeline-item">
                            <h4>ËíãÁöìËΩ© - ÂºÄÂèëÊùøÈááË¥≠ <span class="status-badge status-completed">Â∑≤ÂÆåÊàê</span></h4>
                            <p>Á°¨‰ª∂ÁªÑÂÆåÊàêÂºÄÂèëÊùøÈááË¥≠ÔºàÂæÆÈõ™ESP32-S3 3.5ÂØ∏Ëß¶Êë∏LCDÔºå147ÂÖÉÔºâÔºåÁ≠âÂæÖÂà∞Ë¥ßÈ™åËØÅ„ÄÇ‰∏ªË¶ÅÊåëÊàòÊòØÊó∂Èó¥ÈôêÂà∂ÔºàÂë®‰∏≠Êôö‰∏ä9ÁÇπÊâçÊîæÂ≠¶ÔºåÂè™ÊúâÂë®Êó•ÊúâÁ©∫Ôºâ</p>
                            <small>2024Âπ¥11Êúà2Êó•</small>
                        </div>
                        
                        <div class="timeline-item">
                            <h4>È´ò‰∫ë‰ª™ - ÂΩìÈÄâÈòüÈïø <span class="status-badge status-completed">Â∑≤ÂÆåÊàê</span></h4>
                            <p>Âú®Ê∏∏ÊàèÂåñÂÖ±Â≠¶ÁªÑ‰∏≠ÁßØÊûÅË¥°ÁåÆÔºåË¢´Êé®ÈÄâ‰∏∫ÈòüÈïøÔºåÂπ∂ÂçèÂä©Âõ¢ÈòüÂÆåÊàê‰∏™‰∫∫‰∏ªÈ°µÂíåÊéíË°åÊ¶úÂäüËÉΩÂºÄÂèë</p>
                            <small>2024Âπ¥10Êúà26Êó•</small>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>üéØ ÂÖ≥ÈîÆÊåáÊ†á</h2>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number">83%</div>
                            <div>‰Ωú‰∏öÂÆåÊàêÁéá</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">83%</div>
                            <div>ÁéØÂ¢ÉÈÖçÁΩÆÁéá</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">2</div>
                            <div>È°πÁõÆÁªÑÊï∞Èáè</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">28%</div>
                            <div>Êï¥‰ΩìËøõÂ∫¶</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Êñá‰ª∂Êèê‰∫§ -->
        <div id="submissions" class="content-section">
            <div class="card">
                <h2>üìé Êñá‰ª∂Êèê‰∫§‰∏≠ÂøÉ</h2>
                <p>Êèê‰∫§ÊÇ®ÁöÑÈ°πÁõÆÊàêÊûú„ÄÅ‰ª£Á†ÅÊñá‰ª∂„ÄÅÊñáÊ°£Êàñ‰Ωú‰∏ö</p>

                <div id="uploadArea" class="upload-area" onclick="document.getElementById('fileInput').click()">
                    <div class="upload-icon">üìÅ</div>
                    <div class="upload-text">ÁÇπÂáªÊàñÊãñÊãΩÊñá‰ª∂Âà∞Ê≠§Âå∫Âüü‰∏ä‰º†</div>
                    <div class="upload-hint">ÊîØÊåÅÔºö‰ª£Á†Å„ÄÅÊñáÊ°£„ÄÅÂõæÁâá„ÄÅÂéãÁº©ÂåÖÁ≠âÊ†ºÂºèÔºàÊúÄÂ§ß 10MBÔºâ</div>
                </div>
                <input type="file" id="fileInput" multiple style="display: none;" onchange="handleFileSelect(event)">

                <div id="fileList" class="file-list"></div>
            </div>

            <div class="card" id="submittedFilesCard" style="margin-top: 25px;">
                <h2>üìã ÊàëÁöÑÊèê‰∫§ËÆ∞ÂΩï</h2>
                <div id="submittedFilesList"></div>
            </div>
        </div>

        <!-- È°µËÑö -->
        <div class="footer">
            <p>üöÄ Ë∂ÖËÑëAIÁ∫ø‰∏äÈªëÂÆ¢Êùæ1.5 - ÁªºÂêàÁÆ°ÁêÜÂπ≥Âè∞ | ÊúÄÂêéÊõ¥Êñ∞: 2024Âπ¥11Êúà6Êó•</p>
            <p>ËÆ©ÊòüÈôÖËÅîÁªúÂëòÈöèÊó∂ÈöèÂú∞‰ΩìÈ™åÊ≤âÊµ∏ÂºèÁöÑÂ§ñÊòüÈÄöËÆØÂíåÂ≠¶‰π†‰πêË∂£ÔºÅ</p>
        </div>
    </div>

    <!-- ÊµÆÂä®Êìç‰ΩúÊåâÈíÆ -->
    <button class="floating-action" onclick="showSection('overview')" title="ËøîÂõûÈ°∂ÈÉ®">
        üè†
    </button>

    <script>
        // ËØ¶ÊÉÖÂØπÈΩêËæÖÂä©‰∏éÈìæÊé•Ë∑≥ËΩ¨
        let currentFocus = null;
        function alignDetailWithinTable(projectType) {
            try {
                const table = document.querySelector('.comparison-table table');
                const header = document.getElementById(projectType + '-col');
                const detail = document.getElementById(projectType + '-detail');
                if (!table || !header || !detail) return;
                const tRect = table.getBoundingClientRect();
                const hRect = header.getBoundingClientRect();
                const dimHeader = document.getElementById('dimension-col');
                const dimHidden = !!(dimHeader && dimHeader.classList.contains('dim-col-hidden'));
                if (dimHidden) {
                    // ‰∏ìÊ≥®Ê®°ÂºèÔºöÂâ©‰ΩôÂàóÂç†Êª°Ë°®Ê†ºÔºåËØ¶ÊÉÖ‰∏éË°®Ê†ºÁ≠âÂÆΩ‰∏îÂ∑¶ÂØπÈΩê
                    detail.style.marginLeft = '0px';
                    detail.style.width = Math.round(tRect.width) + 'px';
                } else {
                    const left = Math.max(0, Math.round(hRect.left - tRect.left));
                    const width = Math.round(hRect.width);
                    detail.style.marginLeft = left + 'px';
                    detail.style.width = width + 'px';
                }
                detail.classList.add('aligned');
            } catch(e) {}
        }
        function clearDetailAlignment(projectType) {
            const detail = document.getElementById(projectType + '-detail');
            if (!detail) return;
            detail.style.marginLeft = '';
            detail.style.width = '';
            detail.classList.remove('aligned');
        }
        function openDetail(projectType, anchorId) {
            toggleDetail(projectType);
            setTimeout(() => {
                const el = document.getElementById(anchorId);
                if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 80);
        }
        // Â±ïÂºÄ/Êî∂Ëµ∑ËØ¶ÁªÜ‰ø°ÊÅØÁöÑÂÖ®Â±ÄÂáΩÊï∞
        function toggleDetail(projectType) {
            const detailElement = document.getElementById(projectType + '-detail');
            const headerElement = document.querySelector(`[onclick="toggleDetail('${projectType}')"]`);
            const isExpanded = detailElement.classList.contains('expanded');
            
            if (isExpanded) {
                // Êî∂Ëµ∑ - ÊÅ¢Â§ç‰∏§ÂàóÂØπÊØî
                detailElement.classList.remove('expanded');
                headerElement.classList.remove('expanded');
                
                // ÊÅ¢Â§çÊâÄÊúâÂàóÁöÑÂéüÂßãÁä∂ÊÄÅ
                document.getElementById('astropager-col').className = 'expandable-header table-col-normal';
                document.getElementById('aiskilltree-col').className = 'expandable-header table-col-normal';
                
                // ÊÅ¢Â§çÊâÄÊúâË°®Ê†ºË°åÁöÑÂèØËßÅÊÄßÔºà‰∏çÂåÖÊã¨Ë°®Â§¥Ôºâ
                document.querySelectorAll('[id^="astropager-"], [id^="aiskilltree-"]').forEach(el => {
                    if (el.id !== 'astropager-col' && el.id !== 'aiskilltree-col') { // ÊéíÈô§Ë°®Â§¥
                        el.classList.remove('table-row-hidden');
                        el.classList.add('table-row-visible');
                    }
                });
                
                clearDetailAlignment('astropager');
                clearDetailAlignment('aiskilltree');
                currentFocus = null;
                // ÈöêËóèÊâÄÊúâËØ¶ÁªÜÂÜÖÂÆπ
                document.querySelectorAll('.detail-expansion').forEach(el => {
                    el.classList.remove('expanded');
                });
                // ÊòæÁ§∫Áª¥Â∫¶ÂàóÔºàË°®Â§¥ + ÊØèË°åÈ¶ñÂàóÔºâ
                const dimHeader = document.getElementById('dimension-col');
                if (dimHeader) dimHeader.classList.remove('dim-col-hidden');
                document.querySelectorAll('.comparison-table tbody tr > td:first-child').forEach(td => td.classList.remove('dim-col-hidden'));
                
            } else {
                // Â±ïÂºÄ - ÈöêËóèÂè¶‰∏ÄÂàóÔºåÂΩìÂâçÂàóÊâ©Â±ï
                detailElement.classList.add('expanded');
                headerElement.classList.add('expanded');
                
                if (projectType === 'astropager') {
                    // Â±ïÂºÄÊòüÈôÖÂØªÂëºÊú∫ÔºåÈöêËóèAIÊäÄËÉΩÊ†ë
                    document.getElementById('astropager-col').className = 'expandable-header table-col-expanded';
                    document.getElementById('aiskilltree-col').className = 'expandable-header table-col-hidden';
                    
                    // ÈöêËóèAIÊäÄËÉΩÊ†ëÁöÑÊâÄÊúâË°®Ê†ºË°åÂÜÖÂÆπÔºà‰∏çÂåÖÊã¨Ë°®Â§¥Ôºâ
                    document.querySelectorAll('[id^="aiskilltree-"]').forEach(el => {
                        if (el.id !== 'aiskilltree-col') { // ÊéíÈô§Ë°®Â§¥
                            el.classList.add('table-row-hidden');
                            el.classList.remove('table-row-visible');
                        }
                    });
                    
                    // Á°Æ‰øùÊòüÈôÖÂØªÂëºÊú∫ÁöÑË°®Ê†ºË°åÂÜÖÂÆπÂèØËßÅÔºà‰∏çÂåÖÊã¨Ë°®Â§¥Ôºâ
                    document.querySelectorAll('[id^="astropager-"]').forEach(el => {
                        if (el.id !== 'astropager-col') { // ÊéíÈô§Ë°®Â§¥
                            el.classList.remove('table-row-hidden');
                            el.classList.add('table-row-visible');
                        }
                    });
                    
                    // ÈöêËóèAIÊäÄËÉΩÊ†ëÁöÑËØ¶ÁªÜÂÜÖÂÆπ
                    document.getElementById('aiskilltree-detail').classList.remove('expanded');
                    document.getElementById('aiskilltree-col').classList.remove('expanded');
                    requestAnimationFrame(() => alignDetailWithinTable('astropager'));
                    currentFocus = 'astropager';
                    // ÈöêËóèÁª¥Â∫¶ÂàóÔºà‰∏ìÊ≥®Ê®°ÂºèÔºâ
                    const dimHeaderA = document.getElementById('dimension-col');
                    if (dimHeaderA) dimHeaderA.classList.add('dim-col-hidden');
                    document.querySelectorAll('.comparison-table tbody tr > td:first-child').forEach(td => td.classList.add('dim-col-hidden'));
                    
                } else if (projectType === 'aiskilltree') {
                    // Â±ïÂºÄAIÊäÄËÉΩÊ†ëÔºåÈöêËóèÊòüÈôÖÂØªÂëºÊú∫
                    document.getElementById('aiskilltree-col').className = 'expandable-header table-col-expanded';
                    document.getElementById('astropager-col').className = 'expandable-header table-col-hidden';
                    
                    // ÈöêËóèÊòüÈôÖÂØªÂëºÊú∫ÁöÑÊâÄÊúâË°®Ê†ºË°åÂÜÖÂÆπÔºà‰∏çÂåÖÊã¨Ë°®Â§¥Ôºâ
                    document.querySelectorAll('[id^="astropager-"]').forEach(el => {
                        if (el.id !== 'astropager-col') { // ÊéíÈô§Ë°®Â§¥
                            el.classList.add('table-row-hidden');
                            el.classList.remove('table-row-visible');
                        }
                    });
                    
                    // Á°Æ‰øùAIÊäÄËÉΩÊ†ëÁöÑË°®Ê†ºË°åÂÜÖÂÆπÂèØËßÅÔºà‰∏çÂåÖÊã¨Ë°®Â§¥Ôºâ
                    document.querySelectorAll('[id^="aiskilltree-"]').forEach(el => {
                        if (el.id !== 'aiskilltree-col') { // ÊéíÈô§Ë°®Â§¥
                            el.classList.remove('table-row-hidden');
                            el.classList.add('table-row-visible');
                        }
                    });
                    
                    // ÈöêËóèÊòüÈôÖÂØªÂëºÊú∫ÁöÑËØ¶ÁªÜÂÜÖÂÆπ
                    document.getElementById('astropager-detail').classList.remove('expanded');
                    document.getElementById('astropager-col').classList.remove('expanded');
                    requestAnimationFrame(() => alignDetailWithinTable('aiskilltree'));
                    currentFocus = 'aiskilltree';
                    // ÈöêËóèÁª¥Â∫¶ÂàóÔºà‰∏ìÊ≥®Ê®°ÂºèÔºâ
                    const dimHeaderB = document.getElementById('dimension-col');
                    if (dimHeaderB) dimHeaderB.classList.add('dim-col-hidden');
                    document.querySelectorAll('.comparison-table tbody tr > td:first-child').forEach(td => td.classList.add('dim-col-hidden'));
                }
            }
        }

        // ËßÜÂè£ÂèòÂåñÊó∂ÈáçÁÆóÂØπÈΩê
        window.addEventListener('resize', () => {
            if (currentFocus) alignDetailWithinTable(currentFocus);
        });

        // ‰∏ªÈ¢òÂàáÊç¢ÔºöÂàùÂßãÂåñ‰∏éÊåÅ‰πÖÂåñ
        (function() {
            const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            const saved = localStorage.getItem('sb-theme');
            const html = document.documentElement;
            const btn = document.getElementById('themeToggle');

            function apply(theme) {
                if (theme === 'dark') {
                    html.setAttribute('data-theme', 'dark');
                    if (btn) btn.textContent = '‚òÄÔ∏è ÊµÖËâ≤';
                } else {
                    html.removeAttribute('data-theme');
                    if (btn) btn.textContent = 'üåô Ê∑±Ëâ≤';
                }
            }

            const initial = saved || (prefersDark ? 'dark' : 'light');
            apply(initial);

            if (btn) {
                btn.addEventListener('click', () => {
                    const next = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
                    apply(next);
                    localStorage.setItem('sb-theme', next);
                });
            }
        })();

        // Ê†áÁ≠æÈ°µÂàáÊç¢ÂäüËÉΩ
        function showSection(sectionId) {
            // ÈöêËóèÊâÄÊúâÂÜÖÂÆπÂå∫Âüü
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // ÁßªÈô§ÊâÄÊúâÊ†áÁ≠æÁöÑactiveÁ±ª
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // ÂàùÂßãÂåñÂØπÂ∫îÂäüËÉΩ
            setTimeout(() => {
                if (sectionId === 'kanban') {
                    initKanban();
                } else if (sectionId === 'mytasks') {
                    initMyTasks();
                } else if (sectionId === 'gantt') {
                    if (!ganttChart) initGantt();
                } else if (sectionId === 'critical-path') {
                    calculateCriticalPath();
                    // Á°Æ‰øùÁº©ÊîæÊåâÈíÆ‰∫ã‰ª∂ÁõëÂê¨Âô®Â∑≤ÂàùÂßãÂåñ
                    setTimeout(initNetworkZoomButtons, 150);
                }
            }, 100);
            
            // ÊòæÁ§∫ÈÄâ‰∏≠ÁöÑÂÜÖÂÆπÂå∫Âüü
            document.getElementById(sectionId).classList.add('active');
            
            // ÊøÄÊ¥ªÂØπÂ∫îÁöÑÊ†áÁ≠æ
            // ‰ºòÂÖà‰ªéËß¶ÂèëÂÖÉÁ¥†ËÆæÁΩÆÔºåÂÖ∂Ê¨°‰ªéÊñáÊú¨ÂåπÈÖç
            if (window.event && window.event.target && window.event.target.classList.contains('nav-tab')) {
                window.event.target.classList.add('active');
            } else {
                const match = Array.from(document.querySelectorAll('.nav-tab')).find(b => b.getAttribute('onclick')?.includes("'"+sectionId+"'"));
                if (match) match.classList.add('active');
            }
            
            // Â¶ÇÊûúÂàáÊç¢Âà∞ÁîòÁâπÂõæÔºåÂàùÂßãÂåñÁîòÁâπÂõæ
            if (sectionId === 'gantt') {
                if (!ganttVersions) {
                    loadGanttVersions().then(() => {
                        setTimeout(() => {
                            if (!ganttChart) initGantt();
                        }, 100);
                    });
                } else {
                    setTimeout(() => {
                        if (!ganttChart) initGantt();
                    }, 100);
                }
            }
            
            // ÊªöÂä®Âà∞È°∂ÈÉ®
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ‰ªªÂä°ÂÆåÊàêÁä∂ÊÄÅÂàáÊç¢
        document.addEventListener('DOMContentLoaded', function() {
            const checkboxes = document.querySelectorAll('.task-checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const taskText = this.nextElementSibling;
                    if (this.checked) {
                        taskText.style.textDecoration = 'line-through';
                        taskText.style.opacity = '0.6';
                    } else {
                        taskText.style.textDecoration = 'none';
                        taskText.style.opacity = '1';
                    }
                });
            });

            // ÂÆûÊó∂Êó∂Èó¥Êõ¥Êñ∞
            function updateTime() {
                const now = new Date();
                const timeString = now.toLocaleString('zh-CN', {
                    year: 'numeric',
                    month: '2-digit',
                    day: '2-digit',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                const dateElement = document.getElementById('status-date');
                if (dateElement) {
                    // È°πÁõÆÂêØÂä®Êó•ÊúüÔºö2024Âπ¥10Êúà28Êó•
                    const projectStartDate = new Date('2024-10-28');
                    projectStartDate.setHours(0, 0, 0, 0);
                    const today = new Date(now);
                    today.setHours(0, 0, 0, 0);
                    const daysSince = Math.floor((today - projectStartDate) / (1000 * 60 * 60 * 24));
                    
                    // ËÆ°ÁÆóÂë®Ê¨°ÔºöWeek 1‰ªé2024-10-28ÂºÄÂßã
                    const weeksSince = Math.floor(daysSince / 7) + 1;
                    const weekProgress = (daysSince % 7) + 1;
                    
                    // Âè™ÊòæÁ§∫Êó∂Èó¥Ôºå‰∏çÊòæÁ§∫‰∏çÂêàÁêÜÁöÑ"Á¨¨XÂ§©"
                    dateElement.textContent = timeString;
                }
            }

            // ÂÄíËÆ°Êó∂ÂäüËÉΩ
            function updateCountdown() {
                // È°πÁõÆÁªìÊùüÊó•ÊúüÔºö2025Âπ¥12Êúà13Êó•ÔºàWeek 8Âë®Êú´Ôºâ
                const endDate = new Date('2025-12-13T23:59:59');
                const now = new Date();
                const diff = endDate - now;

                const daysElement = document.getElementById('countdown-days');
                const hoursElement = document.getElementById('countdown-hours');
                const minutesElement = document.getElementById('countdown-minutes');
                const secondsElement = document.getElementById('countdown-seconds');
                const messageElement = document.getElementById('countdown-message');

                if (diff <= 0) {
                    // È°πÁõÆÂ∑≤ÁªìÊùü
                    if (daysElement) daysElement.textContent = '0';
                    if (hoursElement) hoursElement.textContent = '0';
                    if (minutesElement) minutesElement.textContent = '0';
                    if (secondsElement) secondsElement.textContent = '0';
                    if (messageElement) {
                        messageElement.textContent = 'È°πÁõÆÂ∑≤ÁªìÊùü';
                        messageElement.className = 'countdown-message countdown-urgent';
                    }
                    return;
                }

                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);

                if (daysElement) daysElement.textContent = days.toString();
                if (hoursElement) hoursElement.textContent = hours.toString().padStart(2, '0');
                if (minutesElement) minutesElement.textContent = minutes.toString().padStart(2, '0');
                if (secondsElement) secondsElement.textContent = seconds.toString().padStart(2, '0');

                // Ê†πÊçÆÂâ©‰ΩôÊó∂Èó¥Êõ¥Êñ∞Ê∂àÊÅØÂíåÊ†∑Âºè
                if (messageElement) {
                    if (days <= 7) {
                        messageElement.textContent = `‚ö†Ô∏è Ë∑ùÁ¶ªÈ°πÁõÆÊèê‰∫§Êà™Ê≠¢ËøòÊúâ ${days} Â§©ÔºåËØ∑ÊäìÁ¥ßÊó∂Èó¥ÔºÅ`;
                        messageElement.className = 'countdown-message countdown-urgent';
                    } else if (days <= 14) {
                        messageElement.textContent = `Ë∑ùÁ¶ªÈ°πÁõÆÊèê‰∫§Êà™Ê≠¢ËøòÊúâ ${days} Â§©ÔºåËøõÂÖ•ÊúÄÂêéÂÜ≤Âà∫Èò∂ÊÆµ`;
                        messageElement.className = 'countdown-message countdown-warning';
                    } else {
                        messageElement.textContent = `Ë∑ùÁ¶ªÈ°πÁõÆÊèê‰∫§Êà™Ê≠¢ËøòÊúâ ${days} Â§©`;
                        messageElement.className = 'countdown-message';
                    }
                }
            }

            // ÊØèÂàÜÈíüÊõ¥Êñ∞‰∏ÄÊ¨°Êó∂Èó¥
            setInterval(updateTime, 60000);

            // ÊØèÁßíÊõ¥Êñ∞‰∏ÄÊ¨°ÂÄíËÆ°Êó∂
            setInterval(updateCountdown, 1000);

            updateTime();
            updateCountdown();

            // ÊñáÊ°£Êü•ÁúãÂô®ÂäüËÉΩ
            window.openDocument = async function(filePath, title) {
                const overlay = document.getElementById('doc-viewer-overlay');
                const content = document.getElementById('doc-viewer-content');
                const titleElement = document.getElementById('doc-viewer-title');
                
                // ÊòæÁ§∫Êü•ÁúãÂô®
                overlay.classList.add('active');
                titleElement.textContent = title || 'ÊñáÊ°£Êü•ÁúãÂô®';
                content.innerHTML = '<div class="doc-viewer-loading">Âä†ËΩΩ‰∏≠...</div>';
                
                try {
                    // Ëé∑ÂèñÊñáÊ°£ÂÜÖÂÆπ
                    const response = await fetch(filePath);
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    const markdown = await response.text();
                    
                    // ÈÖçÁΩÆmarked.js
                    if (typeof marked !== 'undefined') {
                        marked.setOptions({
                            breaks: true,
                            gfm: true,
                            highlight: function(code, lang) {
                                if (typeof hljs !== 'undefined' && lang) {
                                    try {
                                        return hljs.highlight(code, { language: lang }).value;
                                    } catch (err) {
                                        return hljs.highlightAuto(code).value;
                                    }
                                }
                                return code;
                            }
                        });
                        
                        // Ê∏≤Êüìmarkdown
                        const html = marked.parse(markdown);
                        content.innerHTML = html;
                        
                        // È´ò‰∫Æ‰ª£Á†ÅÂùó
                        if (typeof hljs !== 'undefined') {
                            content.querySelectorAll('pre code').forEach((block) => {
                                hljs.highlightElement(block);
                            });
                        }
                    } else {
                        // Â¶ÇÊûúÊ≤°Êúâmarked.jsÔºåÊòæÁ§∫ÂéüÂßãmarkdown
                        content.innerHTML = '<pre>' + markdown.replace(/</g, '&lt;').replace(/>/g, '&gt;') + '</pre>';
                    }
                } catch (error) {
                    console.error('Âä†ËΩΩÊñáÊ°£Â§±Ë¥•:', error);
                    content.innerHTML = `
                        <div class="doc-viewer-error">
                            <p>‚ùå Êó†Ê≥ïÂä†ËΩΩÊñáÊ°£</p>
                            <p style="margin-top: 16px; font-size: 14px; color: var(--text-secondary);">ÈîôËØØ‰ø°ÊÅØ: ${error.message}</p>
                            <p style="margin-top: 8px; font-size: 14px; color: var(--text-secondary);">Êñá‰ª∂Ë∑ØÂæÑ: ${filePath}</p>
                            <p style="margin-top: 16px; font-size: 14px; color: var(--text-secondary);">ÊèêÁ§∫ÔºöËØ∑Á°Æ‰øùÊñá‰ª∂Ë∑ØÂæÑÊ≠£Á°ÆÔºåÊàñËÄÖÂ∞ùËØïÂú®Êñ∞Á™óÂè£‰∏≠ÊâìÂºÄ</p>
                            <button class="link-button" onclick="window.open('${filePath}', '_blank')" style="margin-top: 16px;">Âú®Êñ∞Á™óÂè£ÊâìÂºÄ</button>
                        </div>
                    `;
                }
            };
            
            window.closeDocument = function() {
                const overlay = document.getElementById('doc-viewer-overlay');
                overlay.classList.remove('active');
            };
            
            // ESCÈîÆÂÖ≥Èó≠ÊñáÊ°£Êü•ÁúãÂô®
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    const overlay = document.getElementById('doc-viewer-overlay');
                    if (overlay.classList.contains('active')) {
                        closeDocument();
                    }
                }
            });

            // Ê∑ªÂä†ÊªöÂä®Âä®ÁîªÊïàÊûú
            const cards = document.querySelectorAll('.card');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            });

            cards.forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                card.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
                observer.observe(card);
            });
        });

        // ÈîÆÁõòÂø´Êç∑ÈîÆÊîØÊåÅ
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case '1':
                        e.preventDefault();
                        showSection('overview');
                        break;
                    case '2':
                        e.preventDefault();
                        showSection('teams');
                        break;
                    case '3':
                        e.preventDefault();
                        showSection('progress');
                        break;
                    case '4':
                        e.preventDefault();
                        showSection('gantt');
                        break;
                    case '5':
                        e.preventDefault();
                        showSection('challenges');
                        break;
                    case '6':
                        e.preventDefault();
                        showSection('workflow');
                        break;
                    case '7':
                        e.preventDefault();
                        showSection('resources');
                        break;
                    case '8':
                        e.preventDefault();
                        showSection('analytics');
                        break;
                }
            }
        });

        // ÁîòÁâπÂõæÂàùÂßãÂåñÂíåÁÆ°ÁêÜ
        let ganttChart = null;
        let ganttVersions = null;
        let currentGanttVersion = null;
        let currentCriticalPathVersion = null;

        // Âä†ËΩΩÁâàÊú¨ÂéÜÂè≤Êï∞ÊçÆ
        async function loadGanttVersions() {
            try {
                // Ê£ÄÊü•ÊòØÂê¶‰ΩøÁî®file://ÂçèËÆÆÔºàÊú¨Âú∞Êñá‰ª∂Ôºâ
                if (window.location.protocol === 'file:') {
                    // Êú¨Âú∞Êñá‰ª∂Êó†Ê≥ïÂä†ËΩΩÂ§ñÈÉ®JSONÔºåÁõ¥Êé•‰ΩøÁî®ÂÜÖÂµåÊï∞ÊçÆ
                    return ganttData;
                }
                
                const response = await fetch('data/gantt-versions.json');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                ganttVersions = await response.json();
                const latestVersion = ganttVersions.versions.find(v => v.isLatest) || ganttVersions.versions[0];
                currentGanttVersion = latestVersion.version;
                currentCriticalPathVersion = latestVersion.version;
                updateVersionInfo('gantt', latestVersion);
                updateVersionInfo('critical-path', latestVersion);
                return latestVersion.data;
            } catch (error) {
                // ÈùôÈªòÂ§ÑÁêÜCORSÈîôËØØÔºàÂΩì‰ΩøÁî®file://ÂçèËÆÆÊó∂ÊòØÈ¢ÑÊúüÁöÑÔºâ
                if (error.message && error.message.includes('CORS')) {
                    // CORSÈîôËØØÊòØÈ¢ÑÊúüÁöÑÔºå‰∏çËæìÂá∫
                } else {
                    console.warn('Version data not available, using embedded data:', error.message);
                }
                // Â¶ÇÊûúÂä†ËΩΩÂ§±Ë¥•Ôºå‰ΩøÁî®ÂÜÖÂµåÊï∞ÊçÆ
                return ganttData;
            }
        }

        // Êõ¥Êñ∞ÁâàÊú¨‰ø°ÊÅØÊòæÁ§∫
        function updateVersionInfo(section, version) {
            const isLatest = version.isLatest;
            const versionText = isLatest 
                ? `${version.version} ¬∑ ${version.date} ¬∑ ${version.description}`
                : `${version.version} ¬∑ ${version.date}ÔºàÂéÜÂè≤ÁâàÊú¨Ôºâ`;
            
            const badgeElement = document.getElementById(`${section}-version-badge`);
            const textElement = document.getElementById(`${section}-version-text`);
            const selectorBtn = document.getElementById(`${section}-version-selector-btn`);
            const returnBtn = document.getElementById(`${section}-return-latest-btn`);
            
            if (badgeElement) {
                badgeElement.textContent = isLatest ? 'ÊúÄÊñ∞ÁâàÊú¨' : 'ÂéÜÂè≤ÁâàÊú¨';
                badgeElement.style.background = isLatest 
                    ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'
                    : 'linear-gradient(135deg, #86868b 0%, #636366 100%)';
            }
            if (textElement) {
                textElement.textContent = versionText;
            }
            // ÊòæÁ§∫/ÈöêËóèÊåâÈíÆ
            if (selectorBtn) {
                selectorBtn.style.display = isLatest ? 'block' : 'none';
            }
            if (returnBtn) {
                returnBtn.style.display = isLatest ? 'none' : 'block';
            }
        }

        // ËøîÂõûÊúÄÊñ∞ÁâàÊú¨
        function returnToLatestVersion(section) {
            if (!ganttVersions) return;
            
            const latestVersion = ganttVersions.versions.find(v => v.isLatest) || ganttVersions.versions[0];
            if (!latestVersion) return;

            if (section === 'gantt') {
                currentGanttVersion = latestVersion.version;
                updateVersionInfo('gantt', latestVersion);
                Object.assign(ganttData, latestVersion.data);
                if (ganttChart) {
                    initGantt();
                }
            } else if (section === 'critical-path') {
                currentCriticalPathVersion = latestVersion.version;
                updateVersionInfo('critical-path', latestVersion);
                Object.assign(ganttData, latestVersion.data);
                calculateCriticalPath();
            }
        }

        // ÊòæÁ§∫ÁâàÊú¨ÈÄâÊã©Âô®
        function showVersionSelector(section) {
            if (!ganttVersions) {
                alert('ÁâàÊú¨Êï∞ÊçÆÊú™Âä†ËΩΩÔºåËØ∑Âà∑Êñ∞È°µÈù¢ÈáçËØï');
                return;
            }

            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; right: 0; bottom: 0;
                background: rgba(0,0,0,0.5); z-index: 10000;
                display: flex; align-items: center; justify-content: center;
            `;
            
            const content = document.createElement('div');
            content.style.cssText = `
                background: var(--card-bg); border-radius: 18px; padding: 30px;
                max-width: 600px; width: 90%; max-height: 80vh; overflow-y: auto;
                box-shadow: var(--shadow-lg);
            `;

            content.innerHTML = `
                <h3 style="margin-bottom: 20px;">üìã ÁâàÊú¨ÂéÜÂè≤ - ${section === 'gantt' ? 'ÁîòÁâπÂõæ' : 'ÂÖ≥ÈîÆË∑ØÂæÑÂàÜÊûê'}</h3>
                <div style="display: flex; flex-direction: column; gap: 12px;" id="version-list-${section}">
                    ${ganttVersions.versions.map((v, idx) => `
                        <div class="version-item" data-section="${section}" data-version="${v.version}" 
                             style="padding: 16px; border: 2px solid ${v.isLatest ? '#667eea' : 'var(--border)'}; 
                                    border-radius: 12px; background: ${v.isLatest ? 'var(--surface)' : 'var(--card-bg)'};
                                    cursor: pointer; transition: all 0.2s;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                <span style="font-weight: 600; font-size: 16px;">${v.version}</span>
                                ${v.isLatest ? '<span style="padding: 4px 10px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 12px; font-size: 11px; font-weight: 600;">ÊúÄÊñ∞</span>' : ''}
                            </div>
                            <div style="color: var(--text-secondary); font-size: 13px; margin-bottom: 8px;">
                                ${v.date} ¬∑ ${v.changedBy}
                            </div>
                            <div style="color: var(--text); font-size: 14px;">
                                ${v.description}
                            </div>
                        </div>
                    `).join('')}
                </div>
                <div style="margin-top: 20px; text-align: right;">
                    <button class="link-button" id="cancel-version-btn-${section}">ÂèñÊ∂à</button>
                </div>
            `;
            
            // ‰ΩøÁî®‰∫ã‰ª∂ÂßîÊâòÂ§ÑÁêÜÁâàÊú¨ÈÄâÊã©
            content.addEventListener('click', (e) => {
                const versionItem = e.target.closest('.version-item');
                if (versionItem) {
                    const sectionName = versionItem.dataset.section;
                    const versionId = versionItem.dataset.version;
                    selectVersion(sectionName, versionId);
                    modal.remove();
                }
            });
            
            // Â§ÑÁêÜÂèñÊ∂àÊåâÈíÆ
            const cancelBtn = content.querySelector(`#cancel-version-btn-${section}`);
            if (cancelBtn) {
                cancelBtn.addEventListener('click', () => {
                    modal.remove();
                });
            }
            
            // Ê∑ªÂä†ÊÇ¨ÂÅúÊïàÊûú
            const versionItems = content.querySelectorAll('.version-item');
            versionItems.forEach(item => {
                item.addEventListener('mouseenter', () => {
                    item.style.transform = 'translateY(-2px)';
                    item.style.boxShadow = 'var(--shadow-md)';
                });
                item.addEventListener('mouseleave', () => {
                    item.style.transform = '';
                    item.style.boxShadow = '';
                });
            });

            modal.appendChild(content);
            document.body.appendChild(modal);
            
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        // ÈÄâÊã©ÁâàÊú¨
        function selectVersion(section, versionId) {
            if (!ganttVersions) return;
            
            const version = ganttVersions.versions.find(v => v.version === versionId);
            if (!version) return;

            if (section === 'gantt') {
                currentGanttVersion = version.version;
                updateVersionInfo('gantt', version);
                // Êõ¥Êñ∞ÁîòÁâπÂõæÊï∞ÊçÆÂπ∂ÈáçÊñ∞ÂàùÂßãÂåñ
                const originalGanttData = ganttData;
                Object.assign(ganttData, version.data);
                if (ganttChart) {
                    initGantt();
                }
            } else if (section === 'critical-path') {
                currentCriticalPathVersion = version.version;
                updateVersionInfo('critical-path', version);
                // Êõ¥Êñ∞ÂÖ≥ÈîÆË∑ØÂæÑËÆ°ÁÆóÁöÑÊ∫êÊï∞ÊçÆ
                const originalGanttData = ganttData;
                Object.assign(ganttData, version.data);
                calculateCriticalPath();
            }
        }

        // ÁîòÁâπÂõæÊï∞ÊçÆÔºàÂÜÖÂµåÂú®HTML‰∏≠Ôºå‰Ωú‰∏∫ÈªòËÆ§Êï∞ÊçÆÔºå‰ºöË¢´ÁâàÊú¨Êï∞ÊçÆË¶ÜÁõñÔºâ
        const ganttData = {
          "projectStartDate": "2024-10-28",
          "tasks": [
            {"id": "1.1", "name": "1.1 Âõ¢ÈòüÁªÑÂª∫ (Week 1-2)", "start": "2024-10-28", "end": "2024-11-01", "progress": 95, "dependencies": "", "assignee": "Â∞èÂßú+Âº†ÁªçÂçø"},
            {"id": "1.1.1", "name": "1.1.1 ÁªÑÈïøÈÄâÊãî", "start": "2024-10-28", "end": "2024-10-31", "progress": 100, "dependencies": "", "assignee": "Â∞èÂßú"},
            {"id": "1.1.2", "name": "1.1.2 ËßíËâ≤ÂàÜÂ∑•Á°ÆËÆ§", "start": "2024-10-31", "end": "2024-11-01", "progress": 95, "dependencies": "1.1.1", "assignee": "Âº†ÁªçÂçø"},
            {"id": "1.2", "name": "1.2 ÈúÄÊ±ÇÂàÜÊûê (Week 1-2)", "start": "2024-10-28", "end": "2024-11-01", "progress": 60, "dependencies": "1.1.1", "assignee": "Âº†ÁªçÂçø+ÈÇìÂ≠êÁøî"},
            {"id": "1.2.1", "name": "1.2.1 Áî®Êà∑ÈúÄÊ±ÇË∞ÉÁ†î", "start": "2024-10-28", "end": "2024-11-01", "progress": 70, "dependencies": "1.1.1", "assignee": "Âº†ÁªçÂçø+ÈÇìÂ≠êÁøî"},
            {"id": "1.3", "name": "1.3 ÊäÄÊúØÂáÜÂ§á (Week 1-2)", "start": "2024-10-28", "end": "2024-11-01", "progress": 70, "dependencies": "", "assignee": "ÂÖ®‰ΩìÂ≠¶Âëò"},
            {"id": "2.1", "name": "2.1 Á°¨‰ª∂ÈÄâÂûãÁ°ÆËÆ§", "start": "2024-11-01", "end": "2024-11-02", "progress": 90, "dependencies": "", "assignee": "ËíãÊµ©ËΩ©+Âæ∑ÂÆè"},
            {"id": "2.2", "name": "2.2 Á°¨‰ª∂Âü∫Á°ÄÈ™åËØÅ (Week 3) üî¥ÂÖ≥ÈîÆ", "start": "2024-11-02", "end": "2024-11-08", "progress": 0, "dependencies": "2.1", "assignee": "ËíãÊµ©ËΩ©+Â§èÊ¢ìÁöì"},
            {"id": "2.2.1", "name": "2.2.1 ÂºÄÂèëÊùøÂà∞Ë¥ß‰∏éÊµãËØï", "start": "2024-11-02", "end": "2024-11-08", "progress": 0, "dependencies": "2.1", "assignee": "ËíãÊµ©ËΩ©+Â§èÊ¢ìÁöì"},
            {"id": "2.3", "name": "2.3 ËΩØ‰ª∂È°πÁõÆÂàùÂßãÂåñ (Week 3)", "start": "2024-11-02", "end": "2024-11-08", "progress": 0, "dependencies": "", "assignee": "Âº†ÁªçÂçø+ÈÇìÂ≠êÁøî"},
            {"id": "2.3.1", "name": "2.3.1 ÊäÄÊúØÊ†àÁ°ÆÂÆö‰∏éÈ°πÁõÆÊê≠Âª∫", "start": "2024-11-02", "end": "2024-11-08", "progress": 0, "dependencies": "", "assignee": "Âº†ÁªçÂçø+ÈÇìÂ≠êÁøî"},
            {"id": "2.4", "name": "2.4 Â§ñËßÇËÆæËÆ°ÂáÜÂ§á (Week 3)", "start": "2024-11-02", "end": "2024-11-08", "progress": 0, "dependencies": "", "assignee": "ËµµÂ§©Êúó+ÊûóÂºòÊØÖ"},
            {"id": "3", "name": "3. Á´ØÂà∞Á´ØÈõÜÊàêÈò∂ÊÆµ (Week 4) ü•à‰øùÈì∂ÂÖ≥ÈîÆ", "start": "2024-11-09", "end": "2024-11-15", "progress": 0, "dependencies": "2.2.1,2.3.1", "assignee": "ÂÖ®‰ΩìÂõ¢Èòü"},
            {"id": "3.1", "name": "3.1 Á°¨‰ª∂Á´ØËÅîË∞ÉÂÆûÁé∞", "start": "2024-11-09", "end": "2024-11-15", "progress": 0, "dependencies": "2.2.1", "assignee": "ËíãÊµ©ËΩ©+Â§èÊ¢ìÁöì"},
            {"id": "3.1.1", "name": "3.1.1 ÈÄö‰ø°‰∏éÁïåÈù¢ÂºÄÂèë", "start": "2024-11-09", "end": "2024-11-15", "progress": 0, "dependencies": "2.2.1", "assignee": "ËíãÊµ©ËΩ©"},
            {"id": "3.2", "name": "3.2 ËΩØ‰ª∂Á´ØËÅîË∞ÉÂÆûÁé∞", "start": "2024-11-09", "end": "2024-11-15", "progress": 0, "dependencies": "2.3.1", "assignee": "Âº†ÁªçÂçø+ÈÇìÂ≠êÁøî"},
            {"id": "3.2.1", "name": "3.2.1 ÂêéÁ´ØÊúçÂä°ÂºÄÂèë", "start": "2024-11-09", "end": "2024-11-15", "progress": 0, "dependencies": "2.3.1", "assignee": "Âº†ÁªçÂçø"},
            {"id": "3.3", "name": "3.3 Â§ñËßÇËÆæËÆ°ÊñπÊ°àÁ°ÆÂÆö", "start": "2024-11-09", "end": "2024-11-15", "progress": 0, "dependencies": "2.4", "assignee": "ËµµÂ§©Êúó+ÊûóÂºòÊØÖ"},
            {"id": "4", "name": "4. ÂäüËÉΩÂÆåÂñÑÈò∂ÊÆµ (Week 5) ü•àËææÂà∞Èì∂Áâå", "start": "2024-11-16", "end": "2024-11-22", "progress": 0, "dependencies": "3", "assignee": "ÂÖ®‰ΩìÂõ¢Èòü"},
            {"id": "4.1", "name": "4.1 Á°¨‰ª∂Èì∂ÁâåÂäüËÉΩÂÆûÁé∞", "start": "2024-11-16", "end": "2024-11-22", "progress": 0, "dependencies": "3.1.1", "assignee": "ËíãÊµ©ËΩ©+Â§èÊ¢ìÁöì"},
            {"id": "4.2", "name": "4.2 ËΩØ‰ª∂ÂäüËÉΩÂÆåÂñÑ", "start": "2024-11-16", "end": "2024-11-22", "progress": 0, "dependencies": "3.2.1", "assignee": "Âº†ÁªçÂçø+ÈÇìÂ≠êÁøî"},
            {"id": "4.3", "name": "4.3 Â§ñËßÇËÆæËÆ°È¶ñÊ¨°ÊâìÂç∞", "start": "2024-11-16", "end": "2024-11-22", "progress": 0, "dependencies": "3.3", "assignee": "ËµµÂ§©Êúó+ÊûóÂºòÊØÖ"},
            {"id": "5", "name": "5. ÂàõÊñ∞‰∏é‰ºòÂåñÈò∂ÊÆµ (Week 6) ü•áÂÜ≤ÈáëÂÖ≥ÈîÆ", "start": "2024-11-23", "end": "2024-11-29", "progress": 0, "dependencies": "4", "assignee": "ÂÖ®‰ΩìÂõ¢Èòü"},
            {"id": "5.1", "name": "5.1 Á°¨‰ª∂ÂàõÊñ∞ÂäüËÉΩ", "start": "2024-11-23", "end": "2024-11-29", "progress": 0, "dependencies": "4.1", "assignee": "ËíãÊµ©ËΩ©+Â§èÊ¢ìÁöì"},
            {"id": "5.2", "name": "5.2 ËΩØ‰ª∂ÂàõÊñ∞ÊîØÊåÅ", "start": "2024-11-23", "end": "2024-11-29", "progress": 0, "dependencies": "4.2", "assignee": "Âº†ÁªçÂçø+ÈÇìÂ≠êÁøî"},
            {"id": "5.3", "name": "5.3 Â§ñËßÇÁ≤æÁªÜÂåñ", "start": "2024-11-23", "end": "2024-11-29", "progress": 0, "dependencies": "4.3", "assignee": "ËµµÂ§©Êúó+ÊûóÂºòÊØÖ"},
            {"id": "6", "name": "6. Á®≥ÂÆöÊÄß‰∏éÊµãËØïÈò∂ÊÆµ (Week 7)", "start": "2024-11-30", "end": "2024-12-06", "progress": 0, "dependencies": "5", "assignee": "ÂÖ®‰ΩìÂõ¢Èòü"},
            {"id": "6.1", "name": "6.1 Á°¨‰ª∂Á®≥ÂÆöÊÄßÊµãËØï", "start": "2024-11-30", "end": "2024-12-06", "progress": 0, "dependencies": "5.1", "assignee": "ËíãÊµ©ËΩ©"},
            {"id": "6.2", "name": "6.2 ËΩØ‰ª∂ÊÄßËÉΩ‰ºòÂåñ", "start": "2024-11-30", "end": "2024-12-06", "progress": 0, "dependencies": "5.2", "assignee": "Âº†ÁªçÂçø"},
            {"id": "7", "name": "7. ÊºîÁ§∫‰∏éÊèê‰∫§Èò∂ÊÆµ (Week 8)", "start": "2024-12-07", "end": "2024-12-13", "progress": 0, "dependencies": "6", "assignee": "ÂÖ®‰ΩìÂõ¢Èòü"},
            {"id": "7.1", "name": "7.1 ÊºîÁ§∫ÂáÜÂ§á", "start": "2024-12-07", "end": "2024-12-13", "progress": 0, "dependencies": "6", "assignee": "ÂÖ®‰ΩìÂõ¢Èòü"},
            {"id": "7.2", "name": "7.2 È°πÁõÆÊèê‰∫§", "start": "2024-12-07", "end": "2024-12-13", "progress": 0, "dependencies": "7.1", "assignee": "ÂÖ®‰ΩìÂõ¢Èòü"}
          ],
          "milestones": [
            {"id": "milestone-1", "name": "Âõ¢ÈòüÁªÑÂª∫ÂÆåÊàê (Week 2)", "date": "2024-11-01", "type": "milestone"},
            {"id": "milestone-2", "name": "Á°¨‰ª∂ÈÄâÂûãÁ°ÆËÆ§ (Week 2)", "date": "2024-11-02", "type": "milestone"},
            {"id": "milestone-3", "name": "Á°¨‰ª∂Âü∫Á°ÄÈ™åËØÅ (Week 3Âë®Êú´) üî¥ÂÖ≥ÈîÆ", "date": "2024-11-08", "type": "milestone"},
            {"id": "milestone-4", "name": "Á´ØÂà∞Á´ØËÅîË∞ÉÊàêÂäü (Week 4Âë®Êú´) ü•à‰øùÈì∂ÂÖ≥ÈîÆ", "date": "2024-11-15", "type": "milestone"},
            {"id": "milestone-5", "name": "ËææÂà∞Èì∂ÁâåÊ†áÂáÜ (Week 5Âë®Êú´)", "date": "2024-11-22", "type": "milestone"},
            {"id": "milestone-6", "name": "ËææÂà∞ÈáëÁâåÊ†áÂáÜ (Week 6Âë®Êú´) ü•áÂÜ≤ÈáëÂÖ≥ÈîÆ", "date": "2024-11-29", "type": "milestone"},
            {"id": "milestone-7", "name": "Á®≥ÂÆöÊÄßÊµãËØïÂÆåÊàê (Week 7Âë®Êú´)", "date": "2024-12-06", "type": "milestone"},
            {"id": "milestone-8", "name": "È°πÁõÆÊèê‰∫§ÂÆåÊàê (Week 8Âë®Êú´)", "date": "2024-12-13", "type": "milestone"}
          ]
        };

        async function initGantt() {
            try {
                // Â¶ÇÊûúÊúâÁâàÊú¨Êï∞ÊçÆÔºå‰ºòÂÖà‰ΩøÁî®ÁâàÊú¨Êï∞ÊçÆÔºåÂê¶Âàô‰ΩøÁî®ÂÜÖÂµåÊï∞ÊçÆ
                let data = ganttData;
                if (!ganttVersions) {
                    data = await loadGanttVersions() || ganttData;
                } else if (currentGanttVersion) {
                    const version = ganttVersions.versions.find(v => v.version === currentGanttVersion);
                    if (version) {
                        data = version.data;
                    }
                }
                const container = document.getElementById('gantt-container');
                if (!container) {
                    console.error('Gantt container not found');
                    return;
                }
                container.innerHTML = ''; // Ê∏ÖÁ©∫ÂÆπÂô®

                // ËΩ¨Êç¢Êï∞ÊçÆÊ†ºÂºè‰∏∫Frappe GanttÈúÄË¶ÅÁöÑÊ†ºÂºè
                const ganttTasks = data.tasks.map(task => ({
                    id: task.id,
                    name: task.name,
                    start: task.start,
                    end: task.end,
                    progress: task.progress || 0,
                    dependencies: task.dependencies || '',
                    custom_class: getTaskStatusClass(task.progress)
                }));

                // ÂàõÂª∫ÁîòÁâπÂõæ
                ganttChart = new Gantt('#gantt-container', ganttTasks, {
                    header_height: 50,
                    column_width: 30,
                    step: 24,
                    view_modes: ['Quarter Day', 'Half Day', 'Day', 'Week', 'Month'],
                    bar_height: 30,
                    bar_corner_radius: 3,
                    arrow_curve: 5,
                    padding: 18,
                    date_format: 'YYYY-MM-DD',
                    language: 'zh',
                    custom_popup_html: function(task) {
                        const assignee = data.tasks.find(t => t.id === task._id)?.assignee || 'Êú™ÂàÜÈÖç';
                        const progress = task.progress || 0;
                        return `
                            <div style="padding: 10px;">
                                <strong>${task.name}</strong><br>
                                <small>Ë¥üË¥£‰∫∫: ${assignee}</small><br>
                                <small>ËøõÂ∫¶: ${progress}%</small><br>
                                <small>ÂºÄÂßã: ${task._start.format('YYYY-MM-DD')}</small><br>
                                <small>ÁªìÊùü: ${task._end.format('YYYY-MM-DD')}</small>
                            </div>
                        `;
                    },
                    on_click: function(task) {
                        console.log('Task clicked:', task);
                    },
                    on_date_change: function(task, start, end) {
                        console.log('Task date changed:', task, start, end);
                        // ÂèØ‰ª•Âú®ËøôÈáåÊ∑ªÂä†‰øùÂ≠òÈÄªËæë
                    },
                    on_progress_change: function(task, progress) {
                        console.log('Task progress changed:', task, progress);
                        // ÂèØ‰ª•Âú®ËøôÈáåÊ∑ªÂä†‰øùÂ≠òÈÄªËæë
                    },
                    on_view_change: function(mode) {
                        console.log('View mode changed:', mode);
                    }
                });

                // Ê∑ªÂä†ÈáåÁ®ãÁ¢ëÊ†áËÆ∞Âà∞ÂÆπÂô®‰∏ãÊñπ
                const milestonesDiv = document.createElement('div');
                milestonesDiv.style.marginTop = '30px';
                milestonesDiv.style.padding = '20px';
                milestonesDiv.style.backgroundColor = 'var(--surface)';
                milestonesDiv.style.borderRadius = '12px';
                milestonesDiv.innerHTML = '<h3 style="margin-bottom: 15px;">üéØ ÂÖ≥ÈîÆÈáåÁ®ãÁ¢ë</h3><div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">' +
                    data.milestones.map(m => 
                        `<div style="padding: 10px; background: var(--card-bg); border-radius: 8px; border-left: 4px solid #e74c3c;">
                            <strong>${m.name}</strong><br>
                            <small style="color: var(--muted);">${m.date}</small>
                        </div>`
                    ).join('') + '</div>';
                container.appendChild(milestonesDiv);
            } catch (error) {
                console.error('Error initializing Gantt:', error);
                const container = document.getElementById('gantt-container');
                if (container) {
                    container.innerHTML = 
                        '<div style="padding: 40px; text-align: center; color: var(--danger);">‚ùå ÂàùÂßãÂåñÁîòÁâπÂõæÂ§±Ë¥•Ôºö' + error.message + '</div>';
                }
            }
        }

        function getTaskStatusClass(progress) {
            if (progress === 100) return 'completed';
            if (progress > 0) return 'in-progress';
            return 'planned';
        }

        function refreshGantt() {
            if (ganttChart) {
                initGantt();
            }
        }

        // ==================== ÂÖ≥ÈîÆË∑ØÂæÑÂàÜÊûê (CPM) ====================
        
        // ËÆ°ÁÆó‰∏§‰∏™Êó•Êúü‰πãÈó¥ÁöÑÂ§©Êï∞Â∑Æ
        function daysBetween(startDate, endDate) {
            const start = new Date(startDate);
            const end = new Date(endDate);
            const diffTime = Math.abs(end - start);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            return diffDays + 1; // +1 Âõ†‰∏∫ÂåÖÂê´È¶ñÂ∞æ‰∏§Â§©
        }

        // Êó•ÊúüÂä†ÂáèÂ§©Êï∞
        function addDays(dateStr, days) {
            const date = new Date(dateStr);
            date.setDate(date.getDate() + days);
            return date.toISOString().split('T')[0];
        }

        // ÊûÑÂª∫‰ªªÂä°‰æùËµñÂõæ
        function buildDependencyGraph(tasks) {
            const graph = {};
            const reverseGraph = {};
            
            tasks.forEach(task => {
                graph[task.id] = [];
                reverseGraph[task.id] = [];
            });

            tasks.forEach(task => {
                if (task.dependencies && task.dependencies.trim()) {
                    const deps = task.dependencies.split(',').map(d => d.trim()).filter(d => d);
                    deps.forEach(depId => {
                        if (graph[depId]) {
                            graph[depId].push(task.id);
                            reverseGraph[task.id].push(depId);
                        }
                    });
                }
            });

            return { graph, reverseGraph };
        }

        // ÊãìÊâëÊéíÂ∫è
        function topologicalSort(tasks, reverseGraph) {
            const inDegree = {};
            tasks.forEach(task => {
                inDegree[task.id] = (reverseGraph[task.id] || []).length;
            });

            const queue = tasks.filter(task => inDegree[task.id] === 0).map(t => t.id);
            const result = [];

            while (queue.length > 0) {
                const current = queue.shift();
                result.push(current);

                const nextTasks = tasks.filter(t => {
                    const deps = (t.dependencies || '').split(',').map(d => d.trim()).filter(d => d);
                    return deps.includes(current);
                });

                nextTasks.forEach(nextTask => {
                    inDegree[nextTask.id]--;
                    if (inDegree[nextTask.id] === 0) {
                        queue.push(nextTask.id);
                    }
                });
            }

            return result;
        }

        // ËÆ°ÁÆóÂÖ≥ÈîÆË∑ØÂæÑ
        async function calculateCriticalPath() {
            try {
                // Â¶ÇÊûúÊúâÁâàÊú¨Êï∞ÊçÆÔºå‰ºòÂÖà‰ΩøÁî®ÁâàÊú¨Êï∞ÊçÆ
                let data = ganttData;
                if (!ganttVersions) {
                    const loaded = await loadGanttVersions();
                    if (loaded) data = loaded;
                } else if (currentCriticalPathVersion) {
                    const version = ganttVersions.versions.find(v => v.version === currentCriticalPathVersion);
                    if (version) {
                        data = version.data;
                    }
                } else {
                    const latestVersion = ganttVersions.versions.find(v => v.isLatest) || ganttVersions.versions[0];
                    data = latestVersion.data;
                    currentCriticalPathVersion = latestVersion.version;
                    updateVersionInfo('critical-path', latestVersion);
                }
                const tasks = data.tasks;
                const projectStartDate = data.projectStartDate;

                // ÂàùÂßãÂåñ‰ªªÂä°Êï∞ÊçÆ
                const taskMap = {};
                tasks.forEach(task => {
                    const duration = daysBetween(task.start, task.end);
                    taskMap[task.id] = {
                        ...task,
                        duration: duration,
                        es: null, // Earliest Start
                        ef: null, // Earliest Finish
                        ls: null, // Latest Start
                        lf: null, // Latest Finish
                        slack: null,
                        isCritical: false
                    };
                });

                // ÊûÑÂª∫‰æùËµñÂõæ
                const { graph, reverseGraph } = buildDependencyGraph(tasks);

                // ÊãìÊâëÊéíÂ∫è
                const sortedTasks = topologicalSort(tasks, reverseGraph);

                // Forward Pass: ËÆ°ÁÆóESÂíåEF
                sortedTasks.forEach(taskId => {
                    const task = taskMap[taskId];
                    const dependencies = (task.dependencies || '').split(',').map(d => d.trim()).filter(d => d);
                    
                    if (dependencies.length === 0) {
                        // Ê≤°Êúâ‰æùËµñÔºå‰ªéÈ°πÁõÆÂºÄÂßãÊó•ÊúüÂºÄÂßãÔºàÁ¨¨0Â§©Ôºâ
                        task.es = 0;
                    } else {
                        // ES = max(ÊâÄÊúâÂâçÁΩÆ‰ªªÂä°ÁöÑEF) + 1
                        // Â¶ÇÊûúÂâçÁΩÆ‰ªªÂä°Âú®EFÁªìÊùüÔºåÂàô‰æùËµñ‰ªªÂä°‰ªéEF+1ÂºÄÂßãÔºàÂÖÅËÆ∏Âêå‰∏ÄÂ§©ÁöÑÊÉÖÂÜµ‰ªéEFÂºÄÂßãÔºâ
                        let maxEF = -1;
                        dependencies.forEach(depId => {
                            if (taskMap[depId] && taskMap[depId].ef !== null) {
                                maxEF = Math.max(maxEF, taskMap[depId].ef);
                            }
                        });
                        // Ê£ÄÊü•ÂÆûÈôÖÊó•ÊúüÂÖ≥Á≥ªÔºöÂ¶ÇÊûúÂâçÁΩÆ‰ªªÂä°ÁªìÊùüÊó•Êúü‰∏éÂΩìÂâç‰ªªÂä°ÂºÄÂßãÊó•ÊúüÁõ∏ÂêåÊàñÊõ¥Êó©ÔºåÂÖÅËÆ∏‰ªéEFÂºÄÂßã
                        task.es = maxEF < 0 ? 0 : maxEF;
                    }
                    task.ef = task.es + task.duration - 1; // EF = ES + Duration - 1
                });

                // ÊâæÂà∞È°πÁõÆÁªìÊùüÊó∂Èó¥ÔºàÊúÄÂ§ßEFÔºâ
                let projectEnd = -1;
                Object.values(taskMap).forEach(task => {
                    if (task.ef !== null) {
                        projectEnd = Math.max(projectEnd, task.ef);
                    }
                });

                // Backward Pass: ËÆ°ÁÆóLSÂíåLF
                const reversedSorted = [...sortedTasks].reverse();
                reversedSorted.forEach(taskId => {
                    const task = taskMap[taskId];
                    const dependents = graph[taskId] || [];
                    
                    if (dependents.length === 0) {
                        // Ê≤°ÊúâÂêéÁª≠‰ªªÂä°ÔºåLF = È°πÁõÆÁªìÊùüÊó∂Èó¥
                        task.lf = projectEnd;
                    } else {
                        // LF = min(ÊâÄÊúâÂêéÁª≠‰ªªÂä°ÁöÑLS) - 1
                        // Â¶ÇÊûúÂêéÁª≠‰ªªÂä°‰ªéLSÂºÄÂßãÔºåÂàôÂΩìÂâç‰ªªÂä°ÂøÖÈ°ªÂú®LS-1ÁªìÊùüÔºàÂÖÅËÆ∏Âêå‰∏ÄÂ§©ÁöÑÊÉÖÂÜµ‰∏∫LSÔºâ
                        let minLS = Infinity;
                        dependents.forEach(depId => {
                            if (taskMap[depId] && taskMap[depId].ls !== null) {
                                minLS = Math.min(minLS, taskMap[depId].ls);
                            }
                        });
                        task.lf = minLS === Infinity ? projectEnd : minLS;
                    }
                    task.ls = task.lf - task.duration + 1; // LS = LF - Duration + 1
                });

                // ËÆ°ÁÆóSlack TimeÂíåËØÜÂà´ÂÖ≥ÈîÆ‰ªªÂä°
                Object.values(taskMap).forEach(task => {
                    task.slack = task.ls - task.es;
                    task.isCritical = task.slack === 0;
                });

                // ËØÜÂà´ÂÖ≥ÈîÆË∑ØÂæÑ
                const criticalPathTasks = sortedTasks
                    .map(id => taskMap[id])
                    .filter(task => task.isCritical)
                    .sort((a, b) => a.es - b.es);

                // Êõ¥Êñ∞UI
                updateCriticalPathUI(taskMap, criticalPathTasks, projectEnd);

            } catch (error) {
                console.error('Error calculating critical path:', error);
                alert('ËÆ°ÁÆóÂÖ≥ÈîÆË∑ØÂæÑÊó∂Âá∫ÈîôÔºö' + error.message);
            }
        }

        // Êõ¥Êñ∞ÂÖ≥ÈîÆË∑ØÂæÑUI
        function updateCriticalPathUI(taskMap, criticalPathTasks, projectEnd) {
            // Êõ¥Êñ∞ÊëòË¶Å
            const totalDuration = projectEnd + 1; // +1 Âõ†‰∏∫Â§©Êï∞‰ªé0ÂºÄÂßã
            document.getElementById('total-duration').textContent = totalDuration;
            document.getElementById('critical-tasks-count').textContent = criticalPathTasks.length;
            document.getElementById('critical-path-length').textContent = criticalPathTasks.length + ' ‰∏™‰ªªÂä°';
            
            // Êõ¥Êñ∞Áä∂ÊÄÅÊèêÁ§∫
            const statusElement = document.getElementById('summary-status');
            if (statusElement) {
                statusElement.textContent = `Â∑≤ËÆ°ÁÆó ¬∑ ${criticalPathTasks.length}‰∏™ÂÖ≥ÈîÆ‰ªªÂä°`;
            }

            // Êõ¥Êñ∞ÂÖ≥ÈîÆË∑ØÂæÑÈìæÔºàÊñáÊú¨ËßÜÂõæÔºâ
            const chainContainer = document.getElementById('critical-path-chain');
            if (criticalPathTasks.length > 0) {
                const chainHTML = criticalPathTasks.map((task, index) => {
                    const arrow = index < criticalPathTasks.length - 1 ? ' ‚Üí ' : '';
                    return `<span style="background: ${task.isCritical ? '#e74c3c' : 'transparent'}; color: ${task.isCritical ? 'white' : 'inherit'}; padding: 4px 8px; border-radius: 4px; font-weight: ${task.isCritical ? 'bold' : 'normal'};">
                        ${task.id}: ${task.name}
                    </span>${arrow}`;
                }).join('');
                chainContainer.innerHTML = chainHTML;
            } else {
                chainContainer.innerHTML = '<div style="text-align: center; color: var(--text-secondary);">Êú™ÊâæÂà∞ÂÖ≥ÈîÆË∑ØÂæÑ</div>';
            }

            // ÁªòÂà∂ÂÖ≥ÈîÆË∑ØÂæÑÁΩëÁªúÂõæ
            drawCriticalPathNetwork(taskMap, criticalPathTasks);

            // Êõ¥Êñ∞Ë°®Ê†ºÔºà‰ºòÂåñËßÜËßâÂëàÁé∞Ôºâ
            const allTasks = Object.values(taskMap).sort((a, b) => a.es - b.es);
            allTasksData = allTasks; // ‰øùÂ≠òÊï∞ÊçÆ‰æõÁ≠õÈÄâ‰ΩøÁî®
            renderTableRows(allTasks);
        }

        // ÁªòÂà∂ÂÖ≥ÈîÆË∑ØÂæÑÁΩëÁªúÂõæ
        function drawCriticalPathNetwork(taskMap, criticalPathTasks) {
            const svg = document.getElementById('critical-path-network');
            if (!svg) return;
            
            // ÈáçÁΩÆÁº©ÊîæÂíåÂπ≥Áßª
            networkZoom = 1;
            networkPan = { x: 0, y: 0 };
            
            // Ê∏ÖÁ©∫SVGÂπ∂Ê∑ªÂä†ÂÆö‰πâ
            svg.innerHTML = `
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="#667eea" />
                    </marker>
                    <marker id="arrowhead-critical" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="#e74c3c" />
                    </marker>
                    <filter id="node-shadow">
                        <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
                    </filter>
                </defs>
                <g class="network-content">
            `;

            if (criticalPathTasks.length === 0) {
                svg.innerHTML += '<text x="50%" y="200" text-anchor="middle" style="font-size: 14px; fill: var(--text-secondary);">Êú™ÊâæÂà∞ÂÖ≥ÈîÆË∑ØÂæÑ</text></g>';
                applyNetworkTransform();
                return;
            }

            const allTasks = Object.values(taskMap).sort((a, b) => a.es - b.es);
            const nodeWidth = 200; // Â¢ûÂ§ßËäÇÁÇπÂÆΩÂ∫¶‰ª•ÂÆπÁ∫≥‰ªªÂä°ÂêçÁß∞
            const nodeHeight = 130; // Â¢ûÂ§ßËäÇÁÇπÈ´òÂ∫¶‰ª•ÂÆπÁ∫≥‰ªªÂä°ÂêçÁß∞ÂíåÁªÑÂà´
            const horizontalSpacing = 250; // Â¢ûÂä†Ê∞¥Âπ≥Èó¥Ë∑ù‰ª•ÈÄÇÂ∫îÊõ¥Â§ßÁöÑËäÇÁÇπ
            
            // ËÆ°ÁÆóËäÇÁÇπ‰ΩçÁΩÆÔºàÊåâESÊó∂Èó¥ÂàÜÂ±ÇÔºåÁõ∏ÂêåESÁöÑ‰ªªÂä°Âú®Âêå‰∏ÄÂ±ÇÔºâ
            const nodes = [];
            const layers = {};
            
            // ÊåâESÊó∂Èó¥ÂàÜÂ±ÇÔºàÁõ∏ÂêåESÁöÑ‰ªªÂä°Âú®Âêå‰∏ÄÂ±ÇÔºâ
            allTasks.forEach(task => {
                const layer = task.es;
                if (!layers[layer]) layers[layer] = [];
                layers[layer].push(task);
            });

            // ËÆ°ÁÆóÊØè‰∏™ËäÇÁÇπÁöÑ‰ΩçÁΩÆ
            const sortedLayers = Object.keys(layers).sort((a, b) => parseInt(a) - parseInt(b));
            const maxNodesPerLayer = Math.max(...Object.values(layers).map(l => l.length));
            
            sortedLayers.forEach((layerKey, layerIndex) => {
                const layerTasks = layers[layerKey].sort((a, b) => {
                    // ÂÖàÊåâÊòØÂê¶‰∏∫ÂÖ≥ÈîÆ‰ªªÂä°ÊéíÂ∫èÔºåÂÖ≥ÈîÆ‰ªªÂä°Âú®‰∏ä
                    if (a.isCritical !== b.isCritical) return b.isCritical - a.isCritical;
                    // ÂÜçÊåâ‰ªªÂä°IDÊéíÂ∫è
                    return a.id.localeCompare(b.id);
                });
                const layerX = 120 + layerIndex * horizontalSpacing;
                
                // ÂûÇÁõ¥Â±Ö‰∏≠Â∏ÉÂ±Ä
                const totalHeight = layerTasks.length * (nodeHeight + 40);
                const startY = 100 + (maxNodesPerLayer * (nodeHeight + 40) - totalHeight) / 2;
                
                layerTasks.forEach((task, taskIndex) => {
                    const y = startY + taskIndex * (nodeHeight + 40);
                    nodes.push({
                        task: task,
                        x: layerX,
                        y: y,
                        id: task.id
                    });
                });
            });

            // ÁªòÂà∂ËøûÊé•Á∫øÔºà‰æùËµñÂÖ≥Á≥ªÔºâ
            allTasks.forEach(task => {
                if (task.dependencies && task.dependencies.trim()) {
                    const deps = task.dependencies.split(',').map(d => d.trim()).filter(d => d);
                    const node = nodes.find(n => n.id === task.id);
                    if (!node) return;

                    deps.forEach(depId => {
                        const depNode = nodes.find(n => n.id === depId);
                        if (!depNode) return;

                        const isCriticalConnection = task.isCritical && depNode.task.isCritical;
                        const strokeColor = isCriticalConnection ? '#e74c3c' : '#667eea';
                        const strokeWidth = isCriticalConnection ? 3 : 2;
                        const markerId = isCriticalConnection ? 'arrowhead-critical' : 'arrowhead';

                        // ËÆ°ÁÆóËøûÊé•ÁÇπ
                        const x1 = depNode.x + nodeWidth;
                        const y1 = depNode.y + nodeHeight / 2;
                        const x2 = node.x;
                        const y2 = node.y + nodeHeight / 2;

                        // ÁªòÂà∂Ë¥ùÂ°ûÂ∞îÊõ≤Á∫ø
                        const midX = (x1 + x2) / 2;
                        const path = `M ${x1} ${y1} Q ${midX} ${y1}, ${midX} ${(y1 + y2) / 2} T ${x2} ${y2}`;
                        
                        svg.innerHTML += `
                            <path d="${path}" 
                                  stroke="${strokeColor}" 
                                  stroke-width="${strokeWidth}" 
                                  fill="none" 
                                  marker-end="url(#${markerId})"
                                  opacity="${isCriticalConnection ? 1 : 0.6}" />
                        `;
                    });
                }
            });

            // ËæÖÂä©ÂáΩÊï∞ÔºöËé∑Âèñ‰ªªÂä°ÁªÑÂà´
            function getTaskGroupFromTask(task) {
                const assignee = (task.assignee || '').toLowerCase();
                const name = (task.name || '').toLowerCase();
                
                if (name.includes('Á°¨‰ª∂') || name.includes('ÂºÄÂèëÊùø') || name.includes('esp32') || 
                    assignee.includes('ËíãÊµ©ËΩ©') || assignee.includes('Â§èÊ¢ìÁöì') || assignee.includes('Âæ∑ÂÆè')) {
                    return { group: 'Á°¨‰ª∂ÁªÑ', emoji: 'üîß', color: '#e74c3c' };
                }
                if (name.includes('ËΩØ‰ª∂') || name.includes('api') || name.includes('ÂêéÁ´Ø') || name.includes('ÂâçÁ´Ø') ||
                    name.includes('admin portal') || name.includes('Êï∞ÊçÆÂ∫ì') || name.includes('websocket') ||
                    assignee.includes('Âº†ÁªçÂçø') || assignee.includes('ÈÇìÂ≠êÁøî') || assignee.includes('mike') || assignee.includes('ÁéâÈπè')) {
                    return { group: 'ËΩØ‰ª∂ÁªÑ', emoji: 'üíª', color: '#3498db' };
                }
                if (name.includes('Â§ñËßÇ') || name.includes('ËÆæËÆ°') || name.includes('3d') || name.includes('fusion') ||
                    name.includes('Âª∫Ê®°') || name.includes('ÊâìÂç∞') || name.includes('Â§ñÂ£≥') ||
                    assignee.includes('ËµµÂ§©Êúó') || assignee.includes('ÊûóÂºòÊØÖ')) {
                    return { group: 'Â§ñËßÇËÆæËÆ°ÁªÑ', emoji: 'üé®', color: '#9b59b6' };
                }
                return { group: 'ÈÄöÁî®', emoji: 'üìã', color: '#95a5a6' };
            }

            // ËæÖÂä©ÂáΩÊï∞ÔºöÂ§ÑÁêÜ‰ªªÂä°ÂêçÁß∞ÔºàÊîØÊåÅÊç¢Ë°åÔºåÊØèË°åÊúÄÂ§ö10‰∏™Â≠óÁ¨¶Ôºâ
            function formatTaskName(name, maxCharsPerLine = 14) {
                if (name.length <= maxCharsPerLine) return [name];
                
                // Â∞ùËØïÂú®ÂêàÈÄÇÁöÑ‰ΩçÁΩÆÊç¢Ë°åÔºà‰ºòÂÖàÂú®Á©∫Ê†º„ÄÅÊã¨Âè∑„ÄÅÂÜíÂè∑Á≠âÂ§ÑÔºâ
                const breakPoints = [' ', 'Ôºà', '(', ':', 'Ôºö', '-', '‚Äî', '¬∑'];
                const lines = [];
                let currentLine = '';
                
                for (let i = 0; i < name.length; i++) {
                    const char = name[i];
                    currentLine += char;
                    
                    // Â¶ÇÊûúÂΩìÂâçË°åÊé•ËøëÊúÄÂ§ßÈïøÂ∫¶ÔºåÂØªÊâæÂêàÈÄÇÁöÑÊñ≠ÁÇπ
                    if (currentLine.length >= maxCharsPerLine - 2) {
                        // ÂêëÂâçÊü•ÊâæÊúÄËøëÁöÑÊñ≠ÁÇπ
                        let breakIndex = -1;
                        for (let j = currentLine.length - 1; j >= Math.max(0, currentLine.length - 5); j--) {
                            if (breakPoints.includes(currentLine[j])) {
                                breakIndex = j;
                                break;
                            }
                        }
                        
                        if (breakIndex > 0 && lines.length < 2) {
                            // Âú®Êñ≠ÁÇπÂ§ÑÂàÜÂâ≤
                            lines.push(currentLine.substring(0, breakIndex + 1).trim());
                            currentLine = currentLine.substring(breakIndex + 1);
                        } else if (currentLine.length >= maxCharsPerLine) {
                            // Âº∫Âà∂Êç¢Ë°å
                            if (lines.length < 2) {
                                lines.push(currentLine.substring(0, maxCharsPerLine - 1) + '...');
                                currentLine = '';
                            } else {
                                currentLine = currentLine.substring(0, maxCharsPerLine - 1) + '...';
                                break;
                            }
                        }
                    }
                }
                
                if (currentLine.trim()) {
                    lines.push(currentLine.trim());
                }
                
                return lines.slice(0, 2); // ÊúÄÂ§ö‰∏§Ë°å
            }

            // ÁªòÂà∂ËäÇÁÇπÔºàÂ¢ûÂº∫ÁâàCPMÊ†ºÂºèÔºåÂåÖÂê´‰ªªÂä°ÂêçÁß∞ÂíåÁªÑÂà´Ôºâ
            nodes.forEach(node => {
                const task = node.task;
                const isCritical = task.isCritical;
                const fillColor = isCritical ? '#e74c3c' : '#667eea';
                const textColor = 'white';
                const groupInfo = getTaskGroupFromTask(task);
                const taskNameLines = formatTaskName(task.name); // ÊîØÊåÅÊç¢Ë°åÁöÑ‰ªªÂä°ÂêçÁß∞
                
                // ËäÇÁÇπËÉåÊôØÔºàÂ∏¶Èò¥ÂΩ±ÊïàÊûúÔºâ
                svg.innerHTML += `
                    <rect x="${node.x}" 
                          y="${node.y}" 
                          width="${nodeWidth}" 
                          height="${nodeHeight}" 
                          rx="10" 
                          fill="${fillColor}" 
                          stroke="${isCritical ? '#c0392b' : '#5568d3'}" 
                          stroke-width="${isCritical ? 3 : 2}"
                          opacity="${isCritical ? 1 : 0.85}"
                          filter="url(#node-shadow)" />
                    
                    <!-- ÁªÑÂà´Ê†áÁ≠æÔºàÈ°∂ÈÉ®Ôºâ -->
                    <rect x="${node.x + 5}" 
                          y="${node.y + 5}" 
                          width="${nodeWidth - 10}" 
                          height="18" 
                          rx="4" 
                          fill="rgba(255,255,255,0.2)" 
                          stroke="rgba(255,255,255,0.3)" 
                          stroke-width="1"/>
                    <text x="${node.x + nodeWidth / 2}" 
                          y="${node.y + 17}" 
                          text-anchor="middle" 
                          fill="${textColor}" 
                          font-size="9" 
                          font-weight="600">${groupInfo.emoji} ${groupInfo.group}</text>
                    
                    <!-- ÂàÜÈöîÁ∫ø1ÔºöÁªÑÂà´‰∏ãÊñπ -->
                    <line x1="${node.x + 10}" 
                          y1="${node.y + 26}" 
                          x2="${node.x + nodeWidth - 10}" 
                          y2="${node.y + 26}" 
                          stroke="${textColor}" 
                          stroke-width="1" 
                          opacity="0.3"/>
                    
                    <!-- ‰∏äÊñπÔºöES | EF -->
                    <text x="${node.x + nodeWidth / 4}" 
                          y="${node.y + 42}" 
                          text-anchor="middle" 
                          fill="${textColor}" 
                          font-size="10" 
                          font-weight="600">ES:${task.es}</text>
                    <text x="${node.x + nodeWidth * 3 / 4}" 
                          y="${node.y + 42}" 
                          text-anchor="middle" 
                          fill="${textColor}" 
                          font-size="10" 
                          font-weight="600">EF:${task.ef}</text>
                    
                    <!-- ÂàÜÈöîÁ∫ø2ÔºöES/EF‰∏ãÊñπ -->
                    <line x1="${node.x + 10}" 
                          y1="${node.y + 48}" 
                          x2="${node.x + nodeWidth - 10}" 
                          y2="${node.y + 48}" 
                          stroke="${textColor}" 
                          stroke-width="1" 
                          opacity="0.3"/>
                    
                    <!-- ‰∏≠Èó¥Ôºö‰ªªÂä°ID -->
                    <text x="${node.x + nodeWidth / 2}" 
                          y="${node.y + 62}" 
                          text-anchor="middle" 
                          fill="${textColor}" 
                          font-size="11" 
                          font-weight="bold">${task.id}</text>
                    
                    <!-- ‰ªªÂä°ÂêçÁß∞ÔºàÂ§öË°åÊòæÁ§∫Ôºâ -->
                    ${taskNameLines.map((line, idx) => `
                        <text x="${node.x + nodeWidth / 2}" 
                              y="${node.y + 78 + idx * 12}" 
                              text-anchor="middle" 
                              fill="${textColor}" 
                              font-size="9" 
                              font-weight="500"
                              opacity="0.95">${line}</text>
                    `).join('')}
                    
                    <!-- ÊåÅÁª≠Êó∂Èó¥ -->
                    <text x="${node.x + nodeWidth / 2}" 
                          y="${node.y + 78 + taskNameLines.length * 12 + 8}" 
                          text-anchor="middle" 
                          fill="${textColor}" 
                          font-size="8" 
                          opacity="0.85">D:${task.duration}Â§©</text>
                    
                    <!-- ÂàÜÈöîÁ∫ø3Ôºö‰ªªÂä°‰ø°ÊÅØ‰∏ãÊñπ -->
                    <line x1="${node.x + 10}" 
                          y1="${node.y + 98}" 
                          x2="${node.x + nodeWidth - 10}" 
                          y2="${node.y + 98}" 
                          stroke="${textColor}" 
                          stroke-width="1" 
                          opacity="0.3"/>
                    
                    <!-- ‰∏ãÊñπÔºöLS | LF -->
                    <text x="${node.x + nodeWidth / 4}" 
                          y="${node.y + 112}" 
                          text-anchor="middle" 
                          fill="${textColor}" 
                          font-size="10" 
                          font-weight="600">LS:${task.ls}</text>
                    <text x="${node.x + nodeWidth * 3 / 4}" 
                          y="${node.y + 112}" 
                          text-anchor="middle" 
                          fill="${textColor}" 
                          font-size="10" 
                          font-weight="600">LF:${task.lf}</text>
                    
                    <!-- SlackÊòæÁ§∫ -->
                    <text x="${node.x + nodeWidth / 2}" 
                          y="${node.y + nodeHeight - 8}" 
                          text-anchor="middle" 
                          fill="${task.slack === 0 ? '#ffeb3b' : textColor}" 
                          font-size="9" 
                          font-weight="bold"
                          opacity="${task.slack === 0 ? 1 : 0.8}">Slack:${task.slack}</text>
                `;
            });

            // ÂÖ≥Èó≠groupÊ†áÁ≠æ
            svg.innerHTML += '</g>';

            // Ë∞ÉÊï¥SVGËßÜÂõæÊ°Ü
            const maxX = Math.max(...nodes.map(n => n.x + nodeWidth)) + 100;
            const maxY = Math.max(...nodes.map(n => n.y + nodeHeight)) + 100;
            svg.setAttribute('viewBox', `0 0 ${maxX} ${maxY}`);
            svg.setAttribute('preserveAspectRatio', 'xMidYMid meet');
            
            // ÈáçÁΩÆÁº©ÊîæÂíåÂπ≥ÁßªÁä∂ÊÄÅ
            networkZoom = 1;
            networkPan = { x: 0, y: 0 };
            originalViewBox = null; // ÈáçÁΩÆÔºåËÆ©applyNetworkTransformÈáçÊñ∞Ëé∑Âèñ
            
            // Á≠âÂæÖDOMÊõ¥Êñ∞ÂêéÂ∫îÁî®ÂàùÂßãÂèòÊç¢
            setTimeout(() => {
                applyNetworkTransform();
            }, 50);
        }

        // ÂàáÊç¢Ë∑ØÂæÑËßÜÂõæ
        function togglePathView() {
            const networkView = document.getElementById('path-network-view');
            const chainView = document.getElementById('path-chain-view');
            const toggleBtn = document.getElementById('path-view-toggle');
            
            if (networkView.style.display === 'none') {
                networkView.style.display = 'block';
                chainView.style.display = 'none';
                toggleBtn.textContent = 'üìù ÂàáÊç¢‰∏∫ÊñáÊú¨ËßÜÂõæ';
            } else {
                networkView.style.display = 'none';
                chainView.style.display = 'block';
                toggleBtn.textContent = 'üîÑ ÂàáÊç¢‰∏∫ÁΩëÁªúÂõæ';
            }
        }

        // ÁΩëÁªúÂõæÁº©ÊîæÂíåÂπ≥ÁßªÂäüËÉΩ
        let networkZoom = 1;
        let networkPan = { x: 0, y: 0 };
        let isDragging = false;
        let dragStart = { x: 0, y: 0 };
        let originalViewBox = null; // ‰øùÂ≠òÂéüÂßãÁöÑviewBox
        let isAnimating = false; // ÊòØÂê¶Ê≠£Âú®Âä®Áîª‰∏≠

        // Âπ≥ÊªëÂä®ÁîªÁº©Êîæ
        function zoomNetwork(delta) {
            if (isAnimating) return; // Â¶ÇÊûúÊ≠£Âú®Âä®Áîª‰∏≠ÔºåÂøΩÁï•Êñ∞ÁöÑÁº©ÊîæËØ∑Ê±Ç
            
            const startZoom = networkZoom;
            const targetZoom = Math.max(0.5, Math.min(3, networkZoom + delta));
            
            if (startZoom === targetZoom) return;
            
            animateZoom(startZoom, targetZoom);
        }

        // Âπ≥ÊªëÂä®ÁîªÈáçÁΩÆ
        function resetNetworkZoom() {
            if (isAnimating) return;
            
            const startZoom = networkZoom;
            const startPan = { x: networkPan.x, y: networkPan.y };
            
            animateZoomAndPan(startZoom, 1, startPan, { x: 0, y: 0 });
        }

        // Âπ≥ÊªëÁº©ÊîæÂä®Áîª
        function animateZoom(startZoom, targetZoom) {
            isAnimating = true;
            const duration = 300; // Âä®ÁîªÊó∂ÈïøÔºàÊØ´ÁßíÔºâ
            const startTime = performance.now();
            
            function animate(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                // ‰ΩøÁî®ease-outÁºìÂä®ÂáΩÊï∞ÔºåËÆ©Âä®ÁîªÊõ¥Ëá™ÁÑ∂
                const easeProgress = 1 - Math.pow(1 - progress, 3);
                
                networkZoom = startZoom + (targetZoom - startZoom) * easeProgress;
                applyNetworkTransform();
                
                if (progress < 1) {
                    requestAnimationFrame(animate);
                } else {
                    isAnimating = false;
                }
            }
            
            requestAnimationFrame(animate);
        }

        // ÂêåÊó∂Áº©ÊîæÂíåÂπ≥ÁßªÁöÑÂä®Áîª
        function animateZoomAndPan(startZoom, targetZoom, startPan, targetPan) {
            isAnimating = true;
            const duration = 300;
            const startTime = performance.now();
            
            function animate(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                // ‰ΩøÁî®ease-outÁºìÂä®ÂáΩÊï∞
                const easeProgress = 1 - Math.pow(1 - progress, 3);
                
                networkZoom = startZoom + (targetZoom - startZoom) * easeProgress;
                networkPan = {
                    x: startPan.x + (targetPan.x - startPan.x) * easeProgress,
                    y: startPan.y + (targetPan.y - startPan.y) * easeProgress
                };
                applyNetworkTransform();
                
                if (progress < 1) {
                    requestAnimationFrame(animate);
                } else {
                    isAnimating = false;
                }
            }
            
            requestAnimationFrame(animate);
        }
        
        // Á°Æ‰øùÁº©ÊîæÂáΩÊï∞Âú®ÂÖ®Â±Ä‰ΩúÁî®ÂüüÂèØÁî®ÔºàÁî®‰∫éonclickÔºâ
        window.zoomNetwork = zoomNetwork;
        window.resetNetworkZoom = resetNetworkZoom;
        
        // ÂàùÂßãÂåñÁº©ÊîæÊåâÈíÆ‰∫ã‰ª∂ÁõëÂê¨Âô®
        function initNetworkZoomButtons() {
            const zoomOutBtn = document.getElementById('zoom-out-btn');
            const zoomInBtn = document.getElementById('zoom-in-btn');
            const zoomResetBtn = document.getElementById('zoom-reset-btn');
            
            if (zoomOutBtn && !zoomOutBtn.hasAttribute('data-listener-attached')) {
                zoomOutBtn.setAttribute('data-listener-attached', 'true');
                zoomOutBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    zoomNetwork(-0.2);
                });
            }
            
            if (zoomInBtn && !zoomInBtn.hasAttribute('data-listener-attached')) {
                zoomInBtn.setAttribute('data-listener-attached', 'true');
                zoomInBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    zoomNetwork(0.2);
                });
            }
            
            if (zoomResetBtn && !zoomResetBtn.hasAttribute('data-listener-attached')) {
                zoomResetBtn.setAttribute('data-listener-attached', 'true');
                zoomResetBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    resetNetworkZoom();
                });
            }
        }
        
        // È°µÈù¢Âä†ËΩΩÊó∂ÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            initNetworkZoomButtons();
        });

        function startNetworkDrag(event) {
            if (event.button !== 0) return; // Âè™ÂìçÂ∫îÂ∑¶ÈîÆ
            isDragging = true;
            // ËÆ∞ÂΩïÂºÄÂßãÊãñÊãΩÊó∂ÁöÑÈº†Ê†á‰ΩçÁΩÆÂíåÂΩìÂâçpanÂÄº
            dragStart = { 
                x: event.clientX, 
                y: event.clientY,
                panX: networkPan.x,
                panY: networkPan.y
            };
            const container = document.getElementById('network-container');
            if (container) container.style.cursor = 'grabbing';
        }

        function dragNetwork(event) {
            if (!isDragging) return;
            
            // ÊãñÊãΩÊó∂‰∏≠Êñ≠‰ªª‰ΩïÊ≠£Âú®ËøõË°åÁöÑÂä®Áîª
            if (isAnimating) {
                isAnimating = false;
            }
            
            // ËÆ°ÁÆóÈº†Ê†áÁßªÂä®Ë∑ùÁ¶ª
            const deltaX = event.clientX - dragStart.x;
            const deltaY = event.clientY - dragStart.y;
            
            // Ê†πÊçÆÂΩìÂâçÁº©ÊîæÁ∫ßÂà´Ë∞ÉÊï¥Âπ≥ÁßªË∑ùÁ¶ª
            networkPan = { 
                x: dragStart.panX + deltaX * networkZoom, 
                y: dragStart.panY + deltaY * networkZoom 
            };
            applyNetworkTransform();
        }

        function endNetworkDrag() {
            isDragging = false;
            const container = document.getElementById('network-container');
            if (container) container.style.cursor = 'grab';
        }

        function applyNetworkTransform() {
            const svg = document.getElementById('critical-path-network');
            if (!svg) return;
            
            // Â¶ÇÊûúÊ≤°Êúâ‰øùÂ≠òÂéüÂßãviewBoxÔºåÂÖà‰øùÂ≠òÂÆÉ
            if (!originalViewBox && svg.viewBox.baseVal) {
                const vb = svg.viewBox.baseVal;
                originalViewBox = {
                    x: vb.x,
                    y: vb.y,
                    width: vb.width,
                    height: vb.height
                };
            }
            
            if (!originalViewBox) {
                setTimeout(applyNetworkTransform, 100);
                return;
            }
            
            // ÈÄöËøáË∞ÉÊï¥viewBoxÊù•ÂÆûÁé∞Áº©ÊîæÂíåÂπ≥Áßª
            // Áº©ÊîæÔºöÁº©Â∞èviewBoxÁöÑwidthÂíåheightÔºàÁõ∏ÂΩì‰∫éÊîæÂ§ßÂÜÖÂÆπÔºâ
            // Âπ≥ÁßªÔºöË∞ÉÊï¥viewBoxÁöÑxÂíåy
            const scaledWidth = originalViewBox.width / networkZoom;
            const scaledHeight = originalViewBox.height / networkZoom;
            
            // ËÆ°ÁÆóÂ±Ö‰∏≠ÂÅèÁßª
            const offsetX = (originalViewBox.width - scaledWidth) / 2;
            const offsetY = (originalViewBox.height - scaledHeight) / 2;
            
            // Â∫îÁî®Âπ≥ÁßªÔºàÁõ∏ÂØπ‰∫éÁº©ÊîæÂêéÁöÑviewBoxÔºâ
            const panX = -networkPan.x / networkZoom;
            const panY = -networkPan.y / networkZoom;
            
            const newX = originalViewBox.x + offsetX + panX;
            const newY = originalViewBox.y + offsetY + panY;
            
            svg.setAttribute('viewBox', `${newX} ${newY} ${scaledWidth} ${scaledHeight}`);
        }

        // Ë°®Ê†ºÁ≠õÈÄâÂäüËÉΩ
        let allTasksData = [];
        function filterCriticalPathTable() {
            const filter = document.getElementById('table-filter').value;
            
            if (allTasksData.length === 0) return;
            
            let filteredTasks = [];
            switch(filter) {
                case 'critical':
                    filteredTasks = allTasksData.filter(task => task.isCritical);
                    break;
                case 'non-critical':
                    filteredTasks = allTasksData.filter(task => !task.isCritical);
                    break;
                case 'high-risk':
                    filteredTasks = allTasksData.filter(task => task.slack < 3 && task.slack > 0);
                    break;
                default:
                    filteredTasks = allTasksData;
            }
            
            // ÈáçÊñ∞Ê∏≤ÊüìË°®Ê†º
            renderTableRows(filteredTasks);
        }

        // ÊèêÂèñË°®Ê†ºÊ∏≤ÊüìÈÄªËæë
        function renderTableRows(tasks) {
            const tbody = document.getElementById('critical-path-tbody');
            if (!tbody) return;
            
            if (tasks.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="9" style="padding: 40px; text-align: center; color: var(--text-secondary);">
                            Ê≤°ÊúâÂåπÈÖçÁöÑ‰ªªÂä°
                        </td>
                    </tr>
                `;
                return;
            }
            
            tbody.innerHTML = tasks.map((task, index) => {
                const isCritical = task.isCritical;
                const slackColor = task.slack === 0 ? '#e74c3c' : task.slack < 3 ? '#ff9500' : '#34c759';
                const rowBg = isCritical ? 'rgba(231, 76, 60, 0.1)' : (index % 2 === 0 ? 'var(--card-bg)' : 'rgba(0, 0, 0, 0.02)');
                const borderLeft = isCritical ? '4px solid #e74c3c' : '4px solid transparent';
                
                return `
                    <tr style="background: ${rowBg}; transition: all 0.2s;" 
                        onmouseover="this.style.background='${isCritical ? 'rgba(231, 76, 60, 0.15)' : 'var(--surface)'}'"
                        onmouseout="this.style.background='${rowBg}'">
                        <td style="padding: 12px; border-left: ${borderLeft}; border-bottom: 1px solid var(--border); font-weight: ${isCritical ? 'bold' : 'normal'};">
                            <code style="background: var(--surface); padding: 2px 6px; border-radius: 4px; font-size: 12px;">${task.id}</code>
                        </td>
                        <td style="padding: 12px; border-bottom: 1px solid var(--border); font-weight: ${isCritical ? '600' : 'normal'};">
                            ${task.name}
                            ${isCritical ? '<span style="margin-left: 8px; font-size: 10px; color: #e74c3c;">üî¥</span>' : ''}
                        </td>
                        <td style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border);">
                            <span style="background: var(--surface); padding: 4px 8px; border-radius: 6px; font-weight: 600;">${task.duration}</span>
                        </td>
                        <td style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border); font-family: 'Courier New', monospace;">
                            ${task.es}
                        </td>
                        <td style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border); font-family: 'Courier New', monospace;">
                            ${task.ef}
                        </td>
                        <td style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border); font-family: 'Courier New', monospace;">
                            ${task.ls}
                        </td>
                        <td style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border); font-family: 'Courier New', monospace;">
                            ${task.lf}
                        </td>
                        <td style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border);">
                            <span style="background: ${slackColor}20; color: ${slackColor}; padding: 4px 10px; border-radius: 12px; font-weight: bold; font-size: 13px; border: 1px solid ${slackColor}40;">
                                ${task.slack}
                            </span>
                        </td>
                        <td style="padding: 12px; text-align: center; border-bottom: 1px solid var(--border);">
                            ${task.isCritical 
                                ? '<span style="background: #e74c3c; color: white; padding: 4px 10px; border-radius: 12px; font-weight: bold; font-size: 11px;">‚úì ÂÖ≥ÈîÆ</span>' 
                                : '<span style="color: var(--text-secondary); font-size: 12px;">-</span>'}
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // ÂØºÂá∫ÂÖ≥ÈîÆË∑ØÂæÑË°®Ê†º
        function exportCriticalPathTable(event) {
            const table = document.getElementById('critical-path-table');
            if (!table) {
                alert('Ë°®Ê†º‰∏çÂ≠òÂú®ÔºÅ');
                return;
            }

            try {
                const exportBtn = event?.target || document.querySelector('button[onclick*="exportCriticalPathTable"]');
                const originalText = exportBtn?.textContent || 'üíæ ÂØºÂá∫Ë°®Ê†º';
                if (exportBtn) {
                    exportBtn.textContent = '‚è≥ Ê≠£Âú®ÂØºÂá∫...';
                    exportBtn.disabled = true;
                }

                // ËΩ¨Êç¢‰∏∫CSV
                let csv = [];
                const rows = table.querySelectorAll('tr');
                
                rows.forEach(row => {
                    const cols = row.querySelectorAll('th, td');
                    const rowData = [];
                    cols.forEach(col => {
                        let text = col.textContent.trim();
                        // Ê∏ÖÁêÜÊñáÊú¨‰∏≠ÁöÑÊç¢Ë°åÂíåÂ§ö‰ΩôÁ©∫Ê†º
                        text = text.replace(/\n/g, ' ').replace(/\s+/g, ' ');
                        rowData.push('"' + text + '"');
                    });
                    csv.push(rowData.join(','));
                });

                const csvContent = csv.join('\n');
                const blob = new Blob(['\ufeff' + csvContent], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                const url = URL.createObjectURL(blob);
                
                link.setAttribute('href', url);
                link.setAttribute('download', `ÂÖ≥ÈîÆË∑ØÂæÑÂàÜÊûê_${new Date().toISOString().split('T')[0]}.csv`);
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);

                if (exportBtn) {
                    exportBtn.textContent = originalText;
                    exportBtn.disabled = false;
                }

                alert('Ë°®Ê†ºÂ∑≤ÂØºÂá∫‰∏∫CSVÊñá‰ª∂ÔºÅ');
            } catch (error) {
                console.error('Error exporting table:', error);
                alert('ÂØºÂá∫Â§±Ë¥•Ôºö' + error.message);
            }
        }

        // ==================== È£éÈô©ÂàÜÊûêÁü©Èòµ ====================
        let riskData = null;
        let riskVersions = null;
        let currentRiskVersion = null;

        // Ê£ÄÊµãÊòØÂê¶‰∏∫Êú¨Âú∞Êñá‰ª∂ÁéØÂ¢É
        function isLocalFileProtocol() {
            return window.location.protocol === 'file:';
        }

        // Âä†ËΩΩÈ£éÈô©ÁâàÊú¨Êï∞ÊçÆ
        async function loadRiskVersions() {
            try {
                if (isLocalFileProtocol()) {
                    return null;
                }
                
                const response = await fetch('data/risk-versions.json?' + Date.now());
                if (!response.ok) {
                    throw new Error(`HTTPÈîôËØØ: ${response.status} ${response.statusText}`);
                }
                riskVersions = await response.json();
                const latestVersion = riskVersions.versions.find(v => v.isLatest) || riskVersions.versions[0];
                if (latestVersion) {
                    currentRiskVersion = latestVersion.version;
                    updateRiskVersionInfo(latestVersion);
                }
                return riskVersions;
            } catch (error) {
                console.warn('Âä†ËΩΩÈ£éÈô©ÁâàÊú¨Êï∞ÊçÆÂ§±Ë¥•Ôºå‰ΩøÁî®Áõ¥Êé•Âä†ËΩΩÊñπÂºè:', error.message);
                return null;
            }
        }

        // Âä†ËΩΩÈ£éÈô©Êï∞ÊçÆÔºàÊ∑ªÂä†ÁºìÂ≠òÂíåÈîôËØØÂ§ÑÁêÜÔºåÊîØÊåÅÊú¨Âú∞ÂºÄÂèëÁéØÂ¢ÉÂíåÁâàÊú¨ÁÆ°ÁêÜÔºâ
        async function loadRiskData(forceRefresh = false) {
            // Â¶ÇÊûúÊúâÁºìÂ≠ò‰∏î‰∏çÂº∫Âà∂Âà∑Êñ∞ÔºåÁõ¥Êé•ËøîÂõû
            if (riskData && !forceRefresh && !currentRiskVersion) {
                return riskData;
            }
            
            // Â¶ÇÊûúÊòØÊú¨Âú∞Êñá‰ª∂ÂçèËÆÆÔºå‰ΩøÁî®ÂÜÖËÅîÊï∞ÊçÆÊàñÊèê‰æõÊèêÁ§∫
            if (isLocalFileProtocol()) {
                console.warn('Ê£ÄÊµãÂà∞Êú¨Âú∞Êñá‰ª∂ÁéØÂ¢ÉÔºå‰ΩøÁî®ÂÜÖËÅîÁ§∫‰æãÊï∞ÊçÆ„ÄÇÂª∫ËÆÆ‰ΩøÁî®Êú¨Âú∞ÊúçÂä°Âô®ËøêË°å„ÄÇ');
                // ËøîÂõûÁ§∫‰æãÊï∞ÊçÆÔºåÂÆûÈôÖÈÉ®ÁΩ≤Êó∂‰ºöË¢´Ë¶ÜÁõñ
                const defaultRiskData = {
                    risks: [
                        {
                            id: "risk-demo-001",
                            title: "Êú¨Âú∞ÂºÄÂèëÁéØÂ¢ÉÁ§∫‰æã",
                            description: "ËøôÊòØÊú¨Âú∞ÂºÄÂèëÁéØÂ¢ÉÁöÑÁ§∫‰æãÊï∞ÊçÆ„ÄÇÂÆûÈôÖ‰ΩøÁî®Êó∂ËØ∑ÈÄöËøáHTTPÊúçÂä°Âô®ËÆøÈóÆ„ÄÇ",
                            category: "ÊäÄÊúØ",
                            probability: "‰Ωé",
                            impact: "‰Ωé",
                            status: "Â∑≤ËØÜÂà´",
                            owner: "ÂºÄÂèëÂõ¢Èòü",
                            mitigation: "‰ΩøÁî®Êú¨Âú∞HTTPÊúçÂä°Âô®ÔºàÂ¶Ç python -m http.server 8000Ôºâ",
                            detectedDate: new Date().toISOString().split('T')[0],
                            relatedProject: "demo"
                        }
                    ],
                    categories: [
                        { id: "ÊäÄÊúØ", color: "#ff3b30", icon: "üîß" },
                        { id: "ËµÑÊ∫ê", color: "#ff9500", icon: "üì¶" },
                        { id: "Âõ¢Èòü", color: "#34c759", icon: "üë•" }
                    ],
                    statuses: [
                        { id: "Â∑≤ËØÜÂà´", color: "#86868b", description: "È£éÈô©Â∑≤ËØÜÂà´" }
                    ]
                };
                riskData = defaultRiskData;
                return riskData;
            }
            
            try {
                // ÂÖàÂ∞ùËØïÂä†ËΩΩÁâàÊú¨Êï∞ÊçÆ
                if (!riskVersions) {
                    await loadRiskVersions();
                }
                
                // Â¶ÇÊûúÊúâÁâàÊú¨Êï∞ÊçÆ‰∏îÂΩìÂâçÊúâÊåáÂÆöÁâàÊú¨Ôºå‰ΩøÁî®ÁâàÊú¨Êï∞ÊçÆ
                if (riskVersions && currentRiskVersion) {
                    const selectedVersion = riskVersions.versions.find(v => v.version === currentRiskVersion);
                    if (selectedVersion && selectedVersion.data) {
                        riskData = selectedVersion.data;
                        updateRiskVersionInfo(selectedVersion);
                        console.log('‰ªéÁâàÊú¨Êï∞ÊçÆÂä†ËΩΩÈ£éÈô©Êï∞ÊçÆÔºåÁâàÊú¨:', currentRiskVersion, 'ÔºåÂÖ±', riskData.risks.length, '‰∏™È£éÈô©');
                        return riskData;
                    }
                }
                
                // Âê¶ÂàôÁõ¥Êé•Âä†ËΩΩÂΩìÂâçÁâàÊú¨Êñá‰ª∂
                const response = await fetch('data/risks.json?' + Date.now());
                if (!response.ok) {
                    throw new Error(`HTTPÈîôËØØ: ${response.status} ${response.statusText}`);
                }
                const data = await response.json();
                
                // È™åËØÅÊï∞ÊçÆÊ†ºÂºè
                if (!data || !Array.isArray(data.risks)) {
                    throw new Error('Êï∞ÊçÆÊ†ºÂºèÈîôËØØÔºöÁº∫Â∞ërisksÊï∞ÁªÑ');
                }
                
                // ÊèêÂèñÈ£éÈô©Êï∞ÊçÆÔºàÊéíÈô§ÁâàÊú¨‰ø°ÊÅØÂ≠óÊÆµÔºâ
                riskData = {
                    risks: data.risks,
                    categories: data.categories || [],
                    statuses: data.statuses || []
                };
                
                console.log('È£éÈô©Êï∞ÊçÆÂä†ËΩΩÊàêÂäüÔºåÂÖ±', riskData.risks.length, '‰∏™È£éÈô©');
                return riskData;
            } catch (error) {
                console.error('Âä†ËΩΩÈ£éÈô©Êï∞ÊçÆÂ§±Ë¥•:', error);
                // Â¶ÇÊûúÁΩëÁªúÈîôËØØ‰∏îÊúâÁºìÂ≠òÔºå‰ΩøÁî®ÁºìÂ≠òÊï∞ÊçÆ
                if (riskData) {
                    console.warn('‰ΩøÁî®ÁºìÂ≠òÁöÑÈ£éÈô©Êï∞ÊçÆ');
                    return riskData;
                }
                // Â¶ÇÊûúÂÆåÂÖ®Ê≤°ÊúâÊï∞ÊçÆÔºåÊäõÂá∫ÈîôËØØËÆ©‰∏äÂ±ÇÂ§ÑÁêÜ
                throw error;
            }
        }

        // Êõ¥Êñ∞È£éÈô©ÁâàÊú¨‰ø°ÊÅØÊòæÁ§∫
        function updateRiskVersionInfo(version) {
            const isLatest = version.isLatest;
            const versionText = isLatest 
                ? `${version.version} ¬∑ ${version.date} ¬∑ ${version.description}`
                : `${version.version} ¬∑ ${version.date}ÔºàÂéÜÂè≤ÁâàÊú¨Ôºâ`;
            
            const badgeElement = document.getElementById('risk-matrix-version-badge');
            const textElement = document.getElementById('risk-matrix-version-text');
            const selectorBtn = document.getElementById('risk-matrix-version-selector-btn');
            const returnBtn = document.getElementById('risk-matrix-return-latest-btn');
            
            if (badgeElement) {
                badgeElement.textContent = isLatest ? 'ÊúÄÊñ∞ÁâàÊú¨' : 'ÂéÜÂè≤ÁâàÊú¨';
                badgeElement.style.background = isLatest 
                    ? 'linear-gradient(135deg, #ff9500 0%, #ff5722 100%)'
                    : 'linear-gradient(135deg, #86868b 0%, #636366 100%)';
            }
            if (textElement) {
                textElement.textContent = versionText;
            }
            if (selectorBtn) {
                selectorBtn.style.display = isLatest ? 'block' : 'none';
            }
            if (returnBtn) {
                returnBtn.style.display = isLatest ? 'none' : 'block';
            }
        }

        // ËøîÂõûÊúÄÊñ∞È£éÈô©ÁâàÊú¨
        function returnToLatestRiskVersion() {
            if (!riskVersions) return;
            
            const latestVersion = riskVersions.versions.find(v => v.isLatest) || riskVersions.versions[0];
            if (!latestVersion) return;

            currentRiskVersion = latestVersion.version;
            riskData = latestVersion.data;
            updateRiskVersionInfo(latestVersion);
            refreshRiskMatrix();
        }

        // ÊòæÁ§∫È£éÈô©ÁâàÊú¨ÈÄâÊã©Âô®
        function showRiskVersionSelector() {
            if (!riskVersions) {
                alert('ÁâàÊú¨Êï∞ÊçÆÊú™Âä†ËΩΩÔºåËØ∑Âà∑Êñ∞È°µÈù¢ÈáçËØï');
                return;
            }

            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; right: 0; bottom: 0;
                background: rgba(0,0,0,0.5); z-index: 10000;
                display: flex; align-items: center; justify-content: center;
            `;
            
            const modalContent = document.createElement('div');
            modalContent.style.cssText = `
                background: var(--card-bg); border-radius: 18px; padding: 30px;
                max-width: 600px; width: 90%; max-height: 80vh; overflow-y: auto;
                box-shadow: var(--shadow-lg);
            `;
            
            modalContent.innerHTML = `
                <h3 style="margin: 0 0 20px 0;">üìã È£éÈô©ÂàÜÊûêÁü©ÈòµÁâàÊú¨ÂéÜÂè≤</h3>
                <div style="display: flex; flex-direction: column; gap: 10px;" id="risk-version-list">
                    ${riskVersions.versions.map((v, idx) => `
                        <div class="risk-version-item" data-version="${v.version}" style="padding: 15px; background: var(--surface); border-radius: 12px; 
                                    border: 2px solid ${v.version === currentRiskVersion ? '#ff9500' : 'transparent'}; 
                                    cursor: pointer; transition: all 0.2s;"
                             onmouseover="this.style.background='var(--surface-hover)'"
                             onmouseout="this.style.background='var(--surface)'">
                            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                                <span style="font-weight: 600; color: var(--text);">${v.version}</span>
                                ${v.isLatest ? '<span style="background: #ff9500; color: white; padding: 2px 8px; border-radius: 8px; font-size: 11px;">ÊúÄÊñ∞</span>' : ''}
                                ${v.version === currentRiskVersion ? '<span style="background: #007aff; color: white; padding: 2px 8px; border-radius: 8px; font-size: 11px;">ÂΩìÂâç</span>' : ''}
                            </div>
                            <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: 4px;">${v.date}</div>
                            <div style="font-size: 13px; color: var(--text);">${v.description}</div>
                            <div style="font-size: 12px; color: var(--text-tertiary); margin-top: 6px;">‰øÆÊîπ‰∫∫: ${v.changedBy || 'Êú™Áü•'}</div>
                        </div>
                    `).join('')}
                </div>
                <div style="margin-top: 20px; text-align: right;">
                    <button id="risk-version-close-btn" 
                            style="padding: 8px 16px; background: var(--text); color: var(--card-bg); 
                                   border: none; border-radius: 8px; cursor: pointer;">ÂÖ≥Èó≠</button>
                </div>
            `;
            
            // ‰ΩøÁî®‰∫ã‰ª∂ÂßîÊâòÂ§ÑÁêÜÁâàÊú¨ÈÄâÊã©ÂíåÂÖ≥Èó≠
            modalContent.addEventListener('click', (e) => {
                const versionItem = e.target.closest('.risk-version-item');
                if (versionItem) {
                    const version = versionItem.getAttribute('data-version');
                    selectRiskVersion(version);
                    modal.remove();
                }
                
                if (e.target.id === 'risk-version-close-btn') {
                    modal.remove();
                }
            });
            
            modal.appendChild(modalContent);
            modal.onclick = (e) => {
                if (e.target === modal) modal.remove();
            };
            document.body.appendChild(modal);
        }

        // ÈÄâÊã©È£éÈô©ÁâàÊú¨
        function selectRiskVersion(version) {
            if (!riskVersions) return;
            
            const selectedVersion = riskVersions.versions.find(v => v.version === version);
            if (!selectedVersion) return;

            currentRiskVersion = selectedVersion.version;
            riskData = selectedVersion.data;
            updateRiskVersionInfo(selectedVersion);
            refreshRiskMatrix();
        }

        // ËÆ°ÁÆóÈ£éÈô©Á≠âÁ∫ß
        function calculateRiskLevel(probability, impact) {
            const probMap = { '‰Ωé': 1, '‰∏≠': 2, 'È´ò': 3 };
            const impactMap = { '‰Ωé': 1, '‰∏≠': 2, 'È´ò': 3 };
            const score = probMap[probability] * impactMap[impact];
            if (score >= 9) return { level: 'ÊûÅÈ´ò', color: '#e74c3c', priority: 1 };
            if (score >= 6) return { level: 'È´ò', color: '#ff9500', priority: 2 };
            if (score >= 4) return { level: '‰∏≠', color: '#ffcc00', priority: 3 };
            return { level: '‰Ωé', color: '#34c759', priority: 4 };
        }

        // ÁªòÂà∂È£éÈô©Áü©ÈòµÂõæ
        function renderRiskMatrix() {
            if (!riskData || !riskData.risks) {
                console.error('È£éÈô©Êï∞ÊçÆÊú™Âä†ËΩΩ');
                const container = document.getElementById('risk-matrix-chart');
                if (container) {
                    container.innerHTML = '<div style="text-align: center; padding: 50px; color: var(--text-secondary);">Êï∞ÊçÆÂä†ËΩΩÂ§±Ë¥•ÔºåËØ∑Âà∑Êñ∞È°µÈù¢ÈáçËØï</div>';
                }
                return;
            }
            
            const container = document.getElementById('risk-matrix-chart');
            if (!container) {
                console.error('È£éÈô©Áü©ÈòµÂÆπÂô®Êú™ÊâæÂà∞');
                return;
            }

            const activeRisks = riskData.risks.filter(r => r.status !== 'Â∑≤ÂÖ≥Èó≠' && r.status !== 'Â∑≤Ëß£ÂÜ≥');
            console.log('Ê¥ªË∑ÉÈ£éÈô©Êï∞Èáè:', activeRisks.length);
            
            const probLevels = ['‰Ωé', '‰∏≠', 'È´ò'];
            const impactLevels = ['‰Ωé', '‰∏≠', 'È´ò'];
            const cellSize = 120;
            const margin = 80;
            const width = 4 * cellSize + margin * 2;
            const height = 4 * cellSize + margin * 2;

            let svg = `
                <svg width="100%" height="500" viewBox="0 0 ${width} ${height}" style="max-width: 100%; font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;">
                    <defs>
                        <pattern id="risk-grid" width="${cellSize}" height="${cellSize}" patternUnits="userSpaceOnUse">
                            <path d="M ${cellSize} 0 L 0 0 0 ${cellSize}" fill="none" stroke="var(--border)" stroke-width="1"/>
                        </pattern>
                    </defs>
                    <rect width="${width}" height="${height}" fill="var(--card-bg)"/>
                    <rect width="${width}" height="${height}" fill="url(#risk-grid)"/>
            `;

            // ÁªòÂà∂Áü©ÈòµÂçïÂÖÉÊ†ºËÉåÊôØÔºàÊ†πÊçÆÈ£éÈô©Á≠âÁ∫ßÔºâ
            for (let i = 0; i < 3; i++) {
                for (let j = 0; j < 3; j++) {
                    const prob = probLevels[2 - i]; // ‰ªéÈ´òÂà∞‰Ωé
                    const impact = impactLevels[j];
                    const riskLevel = calculateRiskLevel(prob, impact);
                    const x = margin + (j + 1) * cellSize;
                    const y = margin + i * cellSize;
                    
                    svg += `<rect x="${x}" y="${y}" width="${cellSize}" height="${cellSize}" 
                                  fill="${riskLevel.color}20" stroke="${riskLevel.color}60" stroke-width="2"/>`;
                }
            }

            // ÁªòÂà∂ÂùêÊ†áËΩ¥Ê†áÁ≠æ
            // YËΩ¥ÔºöÊ¶ÇÁéá
            svg += `<text x="${margin - 10}" y="${margin + cellSize * 1.5}" text-anchor="end" 
                         style="font-size: 14px; fill: var(--text); font-weight: 600;">È´ò</text>`;
            svg += `<text x="${margin - 10}" y="${margin + cellSize * 2.5}" text-anchor="end" 
                         style="font-size: 14px; fill: var(--text); font-weight: 600;">‰∏≠</text>`;
            svg += `<text x="${margin - 10}" y="${margin + cellSize * 3.5}" text-anchor="end" 
                         style="font-size: 14px; fill: var(--text); font-weight: 600;">‰Ωé</text>`;
            svg += `<text x="${margin / 2}" y="${margin + cellSize * 2}" text-anchor="middle" 
                         transform="rotate(-90 ${margin / 2} ${margin + cellSize * 2})" 
                         style="font-size: 16px; fill: var(--text); font-weight: 600;">Ê¶ÇÁéá</text>`;

            // XËΩ¥ÔºöÂΩ±Âìç
            svg += `<text x="${margin + cellSize * 1.5}" y="${height - margin + 25}" text-anchor="middle" 
                         style="font-size: 14px; fill: var(--text); font-weight: 600;">‰Ωé</text>`;
            svg += `<text x="${margin + cellSize * 2.5}" y="${height - margin + 25}" text-anchor="middle" 
                         style="font-size: 14px; fill: var(--text); font-weight: 600;">‰∏≠</text>`;
            svg += `<text x="${margin + cellSize * 3.5}" y="${height - margin + 25}" text-anchor="middle" 
                         style="font-size: 14px; fill: var(--text); font-weight: 600;">È´ò</text>`;
            svg += `<text x="${margin + cellSize * 2}" y="${height - margin / 2}" text-anchor="middle" 
                         style="font-size: 16px; fill: var(--text); font-weight: 600;">ÂΩ±Âìç</text>`;

            // ÁªòÂà∂È£éÈô©ÁÇπ
            activeRisks.forEach((risk, index) => {
                const probIdx = probLevels.indexOf(risk.probability);
                const impactIdx = impactLevels.indexOf(risk.impact);
                if (probIdx === -1 || impactIdx === -1) {
                    console.warn('È£éÈô©Ê¶ÇÁéáÊàñÂΩ±ÂìçÂÄºÊó†Êïà:', risk.id, risk.probability, risk.impact);
                    return;
                }
                
                const x = margin + (impactIdx + 1) * cellSize + cellSize / 2;
                const y = margin + (2 - probIdx) * cellSize + cellSize / 2;
                const riskLevel = calculateRiskLevel(risk.probability, risk.impact);
                const riskNum = risk.id.split('-')[1] || (index + 1).toString();
                
                svg += `
                    <g class="risk-point" data-risk-id="${risk.id}">
                        <circle cx="${x}" cy="${y}" r="12" fill="${riskLevel.color}" 
                               stroke="white" stroke-width="2" style="cursor: pointer; opacity: 0.9;"
                               onclick="showRiskDetail('${risk.id}')" 
                               onmouseover="this.setAttribute('r', '14')" 
                               onmouseout="this.setAttribute('r', '12')"
                               title="${risk.title} (${risk.probability}Ê¶ÇÁéá, ${risk.impact}ÂΩ±Âìç)"/>
                        <text x="${x}" y="${y + 3}" text-anchor="middle" 
                             style="font-size: 11px; fill: white; font-weight: 700; pointer-events: none;">${riskNum}</text>
                        <text x="${x}" y="${y + 30}" text-anchor="middle" 
                             style="font-size: 10px; fill: var(--text); font-weight: 600; pointer-events: none;">
                             ${risk.title.length > 8 ? risk.title.substring(0, 8) + '...' : risk.title}
                        </text>
                    </g>
                `;
            });

            // Â¶ÇÊûúÊ≤°ÊúâÈ£éÈô©ÁÇπÔºåÊòæÁ§∫ÊèêÁ§∫
            if (activeRisks.length === 0) {
                svg += `<text x="${width / 2}" y="${height / 2}" text-anchor="middle" 
                             style="font-size: 16px; fill: var(--text-secondary);">ÊöÇÊó†Ê¥ªË∑ÉÈ£éÈô©</text>`;
            }

            svg += '</svg>';
            container.innerHTML = svg;
            console.log('È£éÈô©Áü©ÈòµÊ∏≤ÊüìÂÆåÊàêÔºåÈ£éÈô©ÁÇπÊï∞:', activeRisks.length);
        }

        // Êõ¥Êñ∞È£éÈô©ÁªüËÆ°
        function updateRiskSummary() {
            if (!riskData || !riskData.risks) return;
            
            const risks = riskData.risks;
            const activeRisks = risks.filter(r => r.status !== 'Â∑≤ÂÖ≥Èó≠' && r.status !== 'Â∑≤Ëß£ÂÜ≥');
            const highRisks = activeRisks.filter(r => {
                const level = calculateRiskLevel(r.probability, r.impact);
                return level.priority <= 2;
            });
            const mediumRisks = activeRisks.filter(r => {
                const level = calculateRiskLevel(r.probability, r.impact);
                return level.priority === 3;
            });
            const resolvedRisks = risks.filter(r => r.status === 'Â∑≤Ëß£ÂÜ≥' || r.status === 'Â∑≤ÂÖ≥Èó≠');

            document.getElementById('total-risks').textContent = activeRisks.length;
            document.getElementById('high-risk-count').textContent = highRisks.length;
            document.getElementById('medium-risk-count').textContent = mediumRisks.length;
            document.getElementById('resolved-risk-count').textContent = resolvedRisks.length;
        }

        // Ê∏≤ÊüìÈ£éÈô©ÂàóË°®
        function renderRiskList(filteredRisks = null) {
            const container = document.getElementById('risk-list-container');
            if (!container || !riskData || !riskData.risks) return;

            const risks = filteredRisks || riskData.risks;
            if (risks.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 40px; color: var(--text-secondary);">ÊöÇÊó†È£éÈô©Êï∞ÊçÆ</div>';
                return;
            }

            container.innerHTML = risks.map(risk => {
                const riskLevel = calculateRiskLevel(risk.probability, risk.impact);
                const category = riskData.categories.find(c => c.id === risk.category) || {};
                const statusInfo = riskData.statuses.find(s => s.id === risk.status) || {};

                return `
                    <div style="background: var(--card-bg); border: 1px solid var(--border-light); 
                                border-radius: 12px; padding: 20px; margin-bottom: 15px; 
                                border-left: 4px solid ${riskLevel.color};">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px;">
                            <div style="flex: 1;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <h4 style="margin: 0; font-size: 18px; color: var(--text);">${risk.title}</h4>
                                    <span style="background: ${riskLevel.color}; color: white; padding: 4px 10px; 
                                                border-radius: 12px; font-size: 12px; font-weight: 600;">${riskLevel.level}È£éÈô©</span>
                                    <span style="background: ${category.color || '#86868b'}20; color: ${category.color || '#86868b'}; 
                                                padding: 4px 10px; border-radius: 12px; font-size: 12px;">
                                        ${category.icon || 'üìå'} ${risk.category}
                                    </span>
                                    <span style="background: ${statusInfo.color || '#86868b'}20; color: ${statusInfo.color || '#86868b'}; 
                                                padding: 4px 10px; border-radius: 12px; font-size: 12px;">
                                        ${risk.status}
                                    </span>
                                </div>
                                <p style="margin: 0; color: var(--text-secondary); font-size: 14px; line-height: 1.6;">
                                    ${risk.description}
                                </p>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; 
                                    margin-top: 15px; padding-top: 15px; border-top: 1px solid var(--border-light);">
                            <div>
                                <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">Ê¶ÇÁéá</div>
                                <div style="font-weight: 600; color: var(--text);">${risk.probability}</div>
                            </div>
                            <div>
                                <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">ÂΩ±Âìç</div>
                                <div style="font-weight: 600; color: var(--text);">${risk.impact}</div>
                            </div>
                            <div>
                                <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">Ë¥üË¥£‰∫∫</div>
                                <div style="font-weight: 600; color: var(--text);">${risk.owner || '-'}</div>
                            </div>
                            <div>
                                <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">ÂèëÁé∞Êó∂Èó¥</div>
                                <div style="font-weight: 600; color: var(--text);">${risk.detectedDate || '-'}</div>
                            </div>
                        </div>
                        ${risk.mitigation ? `
                            <div style="margin-top: 15px; padding: 12px; background: var(--surface); border-radius: 8px;">
                                <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 6px; font-weight: 600;">ÁºìËß£Êé™ÊñΩ</div>
                                <div style="color: var(--text); font-size: 14px; line-height: 1.6;">${risk.mitigation}</div>
                            </div>
                        ` : ''}
                    </div>
                `;
            }).join('');
        }

        // Âà∑Êñ∞È£éÈô©Áü©Èòµ
        async function refreshRiskMatrix() {
            const container = document.getElementById('risk-matrix-chart');
            if (container) {
                container.innerHTML = '<div style="text-align: center; padding: 50px; color: var(--text-secondary);">Ê≠£Âú®Âä†ËΩΩÊï∞ÊçÆ...</div>';
            }
            
            try {
                // ÂÖàÂä†ËΩΩÁâàÊú¨Êï∞ÊçÆÔºàÂ¶ÇÊûúËøòÊ≤°ÊúâÔºâ
                if (!riskVersions && !isLocalFileProtocol()) {
                    await loadRiskVersions();
                }
                
                const data = await loadRiskData();
                if (!data || !data.risks) {
                    throw new Error('Êï∞ÊçÆÊ†ºÂºèÈîôËØØ');
                }
                
                // ‰ΩøÁî®requestAnimationFrameÁ°Æ‰øùDOMÂ∑≤Êõ¥Êñ∞
                requestAnimationFrame(() => {
                    renderRiskMatrix();
                    updateRiskSummary();
                    renderRiskList();
                    populateRiskFilters();
                });
                
                // Â¶ÇÊûúÊòØÊú¨Âú∞Êñá‰ª∂ÁéØÂ¢ÉÔºåÊòæÁ§∫ÊèêÁ§∫
                if (isLocalFileProtocol()) {
                    const summaryCard = document.getElementById('risk-summary');
                    if (summaryCard && !summaryCard.querySelector('.local-dev-notice')) {
                        const notice = document.createElement('div');
                        notice.className = 'local-dev-notice';
                        notice.style.cssText = 'background: #ff950020; border: 1px solid #ff9500; border-radius: 8px; padding: 12px; margin-top: 15px; font-size: 13px; color: var(--text);';
                        notice.innerHTML = `
                            <strong>üí° Êú¨Âú∞ÂºÄÂèëÊèêÁ§∫Ôºö</strong> ÂΩìÂâç‰ΩøÁî®Êú¨Âú∞Êñá‰ª∂ÂçèËÆÆÊâìÂºÄÔºåÊòæÁ§∫ÁöÑÊòØÁ§∫‰æãÊï∞ÊçÆ„ÄÇ
                            <br>Âª∫ËÆÆ‰ΩøÁî®Êú¨Âú∞HTTPÊúçÂä°Âô®Ôºö<code style="background: var(--surface); padding: 2px 6px; border-radius: 4px; font-size: 11px;">python -m http.server 8000</code>
                            ÁÑ∂ÂêéËÆøÈóÆ <code style="background: var(--surface); padding: 2px 6px; border-radius: 4px; font-size: 11px;">http://localhost:8000</code>
                        `;
                        summaryCard.appendChild(notice);
                    }
                }
            } catch (error) {
                console.error('Âà∑Êñ∞È£éÈô©Áü©ÈòµÂ§±Ë¥•:', error);
                if (container) {
                    let errorMsg = error.message;
                    if (error.message.includes('CORS') || error.message.includes('Failed to fetch')) {
                        errorMsg = 'Êú¨Âú∞Êñá‰ª∂ÁéØÂ¢ÉÊó†Ê≥ïÂä†ËΩΩÊï∞ÊçÆ„ÄÇËØ∑‰ΩøÁî®HTTPÊúçÂä°Âô®ËøêË°å„ÄÇ';
                    }
                    container.innerHTML = `<div style="text-align: center; padding: 50px; color: var(--danger);">
                        <p style="font-size: 16px; margin-bottom: 10px;">‚ö†Ô∏è Êï∞ÊçÆÂä†ËΩΩÂ§±Ë¥•</p>
                        <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 15px;">${errorMsg}</p>
                        ${isLocalFileProtocol() ? `
                            <div style="background: var(--surface); padding: 15px; border-radius: 8px; margin: 15px 0; text-align: left; font-size: 12px;">
                                <strong>Êú¨Âú∞ÂºÄÂèëÂª∫ËÆÆÔºö</strong><br>
                                1. Âú®platformÁõÆÂΩï‰∏ãËøêË°åÔºö<code style="background: var(--card-bg); padding: 2px 6px; border-radius: 4px;">python -m http.server 8000</code><br>
                                2. ÊµèËßàÂô®ËÆøÈóÆÔºö<code style="background: var(--card-bg); padding: 2px 6px; border-radius: 4px;">http://localhost:8000</code>
                            </div>
                        ` : ''}
                        <button onclick="refreshRiskMatrix()" style="margin-top: 10px; padding: 8px 16px; background: var(--text); color: var(--card-bg); border: none; border-radius: 8px; cursor: pointer; font-size: 14px;">üîÑ ÈáçËØï</button>
                    </div>`;
                }
            }
        }

        // Â°´ÂÖÖÁ≠õÈÄâÂô®ÈÄâÈ°π
        function populateRiskFilters() {
            if (!riskData) return;

            const categoryFilter = document.getElementById('risk-filter-category');
            const statusFilter = document.getElementById('risk-filter-status');
            const projectFilter = document.getElementById('risk-filter-project');

            if (categoryFilter) {
                const categories = [...new Set(riskData.risks.map(r => r.category))];
                categoryFilter.innerHTML = '<option value="">ÊâÄÊúâÁ±ªÂà´</option>' + 
                    categories.map(cat => `<option value="${cat}">${cat}</option>`).join('');
            }

            if (statusFilter) {
                statusFilter.innerHTML = '<option value="">ÊâÄÊúâÁä∂ÊÄÅ</option>' + 
                    riskData.statuses.map(s => `<option value="${s.id}">${s.id}</option>`).join('');
            }

            if (projectFilter) {
                const projects = [...new Set(riskData.risks.map(r => r.relatedProject).filter(p => p))];
                projectFilter.innerHTML = '<option value="">ÊâÄÊúâÈ°πÁõÆ</option>' + 
                    projects.map(p => `<option value="${p}">${p}</option>`).join('');
            }
        }

        // Á≠õÈÄâÈ£éÈô©
        function filterRisks() {
            if (!riskData || !riskData.risks) return;

            const category = document.getElementById('risk-filter-category')?.value || '';
            const status = document.getElementById('risk-filter-status')?.value || '';
            const project = document.getElementById('risk-filter-project')?.value || '';

            const filtered = riskData.risks.filter(risk => {
                return (!category || risk.category === category) &&
                       (!status || risk.status === status) &&
                       (!project || risk.relatedProject === project);
            });

            renderRiskList(filtered);
        }

        // ÊòæÁ§∫È£éÈô©ËØ¶ÊÉÖ
        function showRiskDetail(riskId) {
            if (!riskData || !riskData.risks) return;
            const risk = riskData.risks.find(r => r.id === riskId);
            if (!risk) return;
            alert(`È£éÈô©ËØ¶ÊÉÖ: ${risk.title}\n\nÊèèËø∞: ${risk.description}\n\nÁºìËß£Êé™ÊñΩ: ${risk.mitigation || 'ÊöÇÊó†'}`);
        }

        // Ê∑ªÂä†È£éÈô©
        function addRisk() {
            alert('Ê∑ªÂä†È£éÈô©ÂäüËÉΩÂºÄÂèë‰∏≠ÔºåÁõÆÂâçËØ∑Áõ¥Êé•ÁºñËæë data/risks.json Êñá‰ª∂');
        }

        // ÂØºÂá∫È£éÈô©Êï∞ÊçÆ
        function exportRiskMatrix() {
            if (!riskData) return;
            const dataStr = JSON.stringify(riskData, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `È£éÈô©ÂàÜÊûêÊï∞ÊçÆ_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            URL.revokeObjectURL(url);
        }

        // È°µÈù¢Âä†ËΩΩÊó∂ÂàùÂßãÂåñÁâàÊú¨Êï∞ÊçÆ
        document.addEventListener('DOMContentLoaded', function() {
            // Âä†ËΩΩÁâàÊú¨ÂéÜÂè≤Êï∞ÊçÆ
            loadGanttVersions();
            
            // ÂΩìÂàáÊç¢Âà∞ÂÖ≥ÈîÆË∑ØÂæÑÊ†áÁ≠æÊó∂Ëá™Âä®ËÆ°ÁÆó
            const criticalPathTab = document.querySelector('button[onclick*="critical-path"]');
            if (criticalPathTab) {
                criticalPathTab.addEventListener('click', function() {
                    setTimeout(() => {
                        if (!ganttVersions) {
                            loadGanttVersions().then(() => calculateCriticalPath());
                        } else {
                            calculateCriticalPath();
                        }
                    }, 100);
                });
            }

            // ÂΩìÂàáÊç¢Âà∞È£éÈô©Áü©ÈòµÊ†áÁ≠æÊó∂Ëá™Âä®Âä†ËΩΩ
            const riskMatrixTab = document.querySelector('button[onclick*="risk-matrix"]');
            if (riskMatrixTab) {
                riskMatrixTab.addEventListener('click', function() {
                    // ‰ΩøÁî®Èò≤ÊäñÔºåÈÅøÂÖçÈ¢ëÁπÅÂàáÊç¢Êó∂ÈáçÂ§çÂä†ËΩΩ
                    clearTimeout(window.riskMatrixLoadTimeout);
                    window.riskMatrixLoadTimeout = setTimeout(() => {
                        refreshRiskMatrix();
                    }, 200);
                });
            }
            
            // Â¶ÇÊûúÂàùÂßãÂ∞±Âú®È£éÈô©Áü©ÈòµÈ°µÈù¢ÔºåËá™Âä®Âä†ËΩΩ
            if (window.location.hash === '#risk-matrix' || document.getElementById('risk-matrix')?.classList.contains('active')) {
                setTimeout(() => {
                    refreshRiskMatrix();
                }, 500);
            }
        });

        async function exportGanttImage(event) {
            const container = document.getElementById('gantt-container');
            if (!container || !ganttChart) {
                alert('ËØ∑ÂÖàÂä†ËΩΩÁîòÁâπÂõæÔºÅ');
                return;
            }

            try {
                // ÊòæÁ§∫ÂØºÂá∫ÊèêÁ§∫
                const exportBtn = event?.target || document.querySelector('button[onclick*="exportGanttImage"]');
                const originalText = exportBtn?.textContent || 'üíæ ÂØºÂá∫ÂõæÁâá';
                if (exportBtn) {
                    exportBtn.textContent = '‚è≥ Ê≠£Âú®ÂØºÂá∫...';
                    exportBtn.disabled = true;
                }

                // Á≠âÂæÖ‰∏ÄÂ∞èÊÆµÊó∂Èó¥Á°Æ‰øùÊ∏≤ÊüìÂÆåÊàê
                await new Promise(resolve => setTimeout(resolve, 100));

                // ‰ΩøÁî®html2canvasÊà™Âõæ
                const canvas = await html2canvas(container, {
                    backgroundColor: '#ffffff',
                    scale: 2, // ÊèêÈ´òÊ∏ÖÊô∞Â∫¶
                    logging: false,
                    useCORS: true,
                    allowTaint: true,
                    width: container.scrollWidth,
                    height: container.scrollHeight,
                    scrollX: 0,
                    scrollY: 0
                });

                // Â∞ÜcanvasËΩ¨Êç¢‰∏∫ÂõæÁâáÂπ∂‰∏ãËΩΩ
                const link = document.createElement('a');
                const fileName = `ÊòüÈôÖÂØªÂëºÊú∫È°πÁõÆÁîòÁâπÂõæ_${new Date().toISOString().split('T')[0]}.png`;
                link.download = fileName;
                link.href = canvas.toDataURL('image/png');
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);

                // ÊÅ¢Â§çÊåâÈíÆÁä∂ÊÄÅ
                if (exportBtn) {
                    exportBtn.textContent = originalText;
                    exportBtn.disabled = false;
                }

                // ÊòæÁ§∫ÊàêÂäüÊèêÁ§∫
                showExportSuccess();
            } catch (error) {
                console.error('ÂØºÂá∫Â§±Ë¥•:', error);
                alert('ÂØºÂá∫Â§±Ë¥•Ôºö' + error.message + '\n\nÂª∫ËÆÆ‰ΩøÁî®ÊµèËßàÂô®Êà™ÂõæÂäüËÉΩÔºàCtrl+Shift+S Êàñ F12ÂºÄÂèëËÄÖÂ∑•ÂÖ∑Ôºâ');
                const exportBtn = event?.target || document.querySelector('button[onclick*="exportGanttImage"]');
                if (exportBtn) {
                    exportBtn.textContent = 'üíæ ÂØºÂá∫ÂõæÁâá';
                    exportBtn.disabled = false;
                }
            }
        }

        function showExportSuccess() {
            // ÂàõÂª∫‰∏Ä‰∏™‰∏¥Êó∂ÁöÑÊàêÂäüÊèêÁ§∫
            const successMsg = document.createElement('div');
            successMsg.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #27ae60, #2ecc71);
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                z-index: 10000;
                animation: slideIn 0.3s ease-out;
            `;
            successMsg.innerHTML = '‚úÖ ÂØºÂá∫ÊàêÂäüÔºÅÂõæÁâáÂ∑≤‰∏ãËΩΩ';
            document.body.appendChild(successMsg);

            // 3ÁßíÂêéËá™Âä®Ê∂àÂ§±
            setTimeout(() => {
                successMsg.style.animation = 'slideOut 0.3s ease-in';
                setTimeout(() => {
                    document.body.removeChild(successMsg);
                }, 300);
            }, 3000);

            // Ê∑ªÂä†Âä®ÁîªÊ†∑ÂºèÔºàÂ¶ÇÊûú‰∏çÂ≠òÂú®Ôºâ
            if (!document.getElementById('export-animations')) {
                const style = document.createElement('style');
                style.id = 'export-animations';
                style.textContent = `
                    @keyframes slideIn {
                        from {
                            transform: translateX(400px);
                            opacity: 0;
                        }
                        to {
                            transform: translateX(0);
                            opacity: 1;
                        }
                    }
                    @keyframes slideOut {
                        from {
                            transform: translateX(0);
                            opacity: 1;
                        }
                        to {
                            transform: translateX(400px);
                            opacity: 0;
                        }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        async function exportGanttPDF() {
            const container = document.getElementById('gantt-container');
            if (!container || !ganttChart) {
                alert('ËØ∑ÂÖàÂä†ËΩΩÁîòÁâπÂõæÔºÅ');
                return;
            }

            try {
                // ÊòæÁ§∫ÂØºÂá∫ÊèêÁ§∫
                const exportBtn = event?.target || document.querySelector('button[onclick*="exportGanttPDF"]');
                const originalText = exportBtn?.textContent || 'üìÑ ÂØºÂá∫PDF';
                if (exportBtn) {
                    exportBtn.textContent = '‚è≥ Ê≠£Âú®ÁîüÊàêPDF...';
                    exportBtn.disabled = true;
                }

                // Á≠âÂæÖÊ∏≤ÊüìÂÆåÊàê
                await new Promise(resolve => setTimeout(resolve, 100));

                // ÂÖàÂØºÂá∫‰∏∫ÂõæÁâá
                const canvas = await html2canvas(container, {
                    backgroundColor: '#ffffff',
                    scale: 2,
                    logging: false,
                    useCORS: true,
                    allowTaint: true,
                    width: container.scrollWidth,
                    height: container.scrollHeight
                });

                // ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑcanvasÁî®‰∫éPDFÔºàA4ÊØî‰æãÔºâ
                const pdfCanvas = document.createElement('canvas');
                const pdfCtx = pdfCanvas.getContext('2d');
                const a4Width = 210 * 3.779527559; // A4ÂÆΩÂ∫¶ÔºàmmËΩ¨pxÔºå300 DPIÔºâ
                const a4Height = 297 * 3.779527559; // A4È´òÂ∫¶
                
                // ËÆ°ÁÆóÁº©ÊîæÊØî‰æã‰ª•ÈÄÇÂ∫îA4
                const scale = Math.min(a4Width / canvas.width, a4Height / canvas.height) * 0.9;
                pdfCanvas.width = canvas.width * scale;
                pdfCanvas.height = canvas.height * scale;
                
                pdfCtx.drawImage(canvas, 0, 0, pdfCanvas.width, pdfCanvas.height);

                // ‰ΩøÁî®jsPDFÂ∫ìÂØºÂá∫PDFÔºàÈúÄË¶ÅÊ∑ªÂä†jsPDFÂ∫ìÔºâ
                if (typeof window.jspdf !== 'undefined') {
                    const { jsPDF } = window.jspdf;
                    const pdf = new jsPDF({
                        orientation: pdfCanvas.height > pdfCanvas.width ? 'portrait' : 'landscape',
                        unit: 'mm',
                        format: 'a4'
                    });

                    const imgData = pdfCanvas.toDataURL('image/png');
                    const imgWidth = pdf.internal.pageSize.getWidth();
                    const imgHeight = (pdfCanvas.height * imgWidth) / pdfCanvas.width;

                    pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);
                    
                    const fileName = `ÊòüÈôÖÂØªÂëºÊú∫È°πÁõÆÁîòÁâπÂõæ_${new Date().toISOString().split('T')[0]}.pdf`;
                    pdf.save(fileName);
                    showExportSuccess();
                } else {
                    // Â¶ÇÊûúÊ≤°ÊúâjsPDFÔºåÊèêÁ§∫Áî®Êà∑ÂÆâË£ÖÊàñ‰ΩøÁî®ÂõæÁâáÂØºÂá∫
                    alert('PDFÂØºÂá∫ÈúÄË¶ÅjsPDFÂ∫ìÊîØÊåÅ„ÄÇ\n\nÂΩìÂâç‰ΩøÁî®ÂõæÁâáÂØºÂá∫ÂäüËÉΩÔºåÊÇ®ÂèØ‰ª•Â∞ÜPNGÂõæÁâáÊâìÂç∞‰∏∫PDF„ÄÇ\n\nÊàñËÄÖËÆøÈóÆÔºöhttps://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js');
                    // ÈôçÁ∫ß‰∏∫PNGÂØºÂá∫
                    exportGanttImage(event);
                }

                // ÊÅ¢Â§çÊåâÈíÆÁä∂ÊÄÅ
                if (exportBtn) {
                    exportBtn.textContent = originalText;
                    exportBtn.disabled = false;
                }
            } catch (error) {
                console.error('PDFÂØºÂá∫Â§±Ë¥•:', error);
                alert('PDFÂØºÂá∫Â§±Ë¥•Ôºö' + error.message + '\n\nÂª∫ËÆÆ‰ΩøÁî®PNGÂØºÂá∫ÂäüËÉΩ');
                const exportBtn = event?.target || document.querySelector('button[onclick*="exportGanttPDF"]');
                if (exportBtn) {
                    exportBtn.textContent = 'üìÑ ÂØºÂá∫PDF';
                    exportBtn.disabled = false;
                }
            }
        }

        // ÁúãÊùøÂäüËÉΩ - Âü∫‰∫éROADMAPÂàÜÁªÑ
        function initKanban() {
            if (!ganttData || !ganttData.tasks) return;
            
            // Â∫îÁî®Á≠õÈÄâÂπ∂Ê∏≤Êüì
            filterKanbanByWeek();
        }

        function getTaskStatus(progress) {
            if (progress === 100) return 'done';
            if (progress > 0) return 'inprogress';
            return 'todo';
        }

        // Ê†πÊçÆ‰ªªÂä°ÂêçÁß∞ÂíåË¥üË¥£‰∫∫Âà§Êñ≠‰ªªÂä°ÊâÄÂ±ûÁªÑ
        function getTaskGroup(task) {
            const assignee = (task.assignee || '').toLowerCase();
            const name = (task.name || '').toLowerCase();
            
            // Á°¨‰ª∂ÁªÑÂÖ≥ÈîÆËØç
            if (name.includes('Á°¨‰ª∂') || name.includes('ÂºÄÂèëÊùø') || name.includes('esp32') || 
                assignee.includes('ËíãÊµ©ËΩ©') || assignee.includes('Â§èÊ¢ìÁöì') || assignee.includes('Âæ∑ÂÆè')) {
                return 'hardware';
            }
            
            // ËΩØ‰ª∂ÁªÑÂÖ≥ÈîÆËØç
            if (name.includes('ËΩØ‰ª∂') || name.includes('api') || name.includes('ÂêéÁ´Ø') || name.includes('ÂâçÁ´Ø') ||
                name.includes('admin portal') || name.includes('Êï∞ÊçÆÂ∫ì') || name.includes('websocket') ||
                assignee.includes('Âº†ÁªçÂçø') || assignee.includes('ÈÇìÂ≠êÁøî') || assignee.includes('ÈÇìÂ≠êÁøî') || 
                assignee.includes('mike') || assignee.includes('ÁéâÈπè')) {
                return 'software';
            }
            
            // Â§ñËßÇËÆæËÆ°ÁªÑÂÖ≥ÈîÆËØç
            if (name.includes('Â§ñËßÇ') || name.includes('ËÆæËÆ°') || name.includes('3d') || name.includes('fusion') ||
                name.includes('Âª∫Ê®°') || name.includes('ÊâìÂç∞') || name.includes('Â§ñÂ£≥') ||
                assignee.includes('ËµµÂ§©Êúó') || assignee.includes('ÊûóÂºòÊØÖ')) {
                return 'design';
            }
            
            // ÈªòËÆ§ÂΩí‰∏∫ËΩØ‰ª∂ÁªÑÔºàÈÄöÁî®‰ªªÂä°Ôºâ
            return 'software';
        }

        // Ê†πÊçÆ‰ªªÂä°ÂºÄÂßãÊó•ÊúüÂà§Êñ≠ÊâÄÂ±ûÂë®Ê¨°
        function getTaskWeek(task) {
            if (!task.start) return null;
            const taskDate = new Date(task.start);
            const projectStart = new Date('2024-10-28');
            const daysDiff = Math.floor((taskDate - projectStart) / (1000 * 60 * 60 * 24));
            const week = Math.floor(daysDiff / 7) + 1;
            return Math.max(1, Math.min(8, week)); // ÈôêÂà∂Âú®1-8Âë®
        }

        function filterKanbanByWeek() {
            const weekFilter = document.getElementById('kanban-week-filter');
            const groupFilter = document.getElementById('kanban-group-filter');
            
            const selectedWeek = weekFilter ? weekFilter.value : 'all';
            const selectedGroup = groupFilter ? groupFilter.value : 'all';
            
            if (!ganttData || !ganttData.tasks) return;
            
            let tasks = ganttData.tasks.map(task => ({
                ...task,
                status: getTaskStatus(task.progress),
                group: getTaskGroup(task),
                week: getTaskWeek(task)
            }));
            
            // ÊåâÂë®Ê¨°Á≠õÈÄâ
            if (selectedWeek !== 'all') {
                tasks = tasks.filter(task => task.week === parseInt(selectedWeek));
            }
            
            // ÊåâÁªÑÁ≠õÈÄâ
            if (selectedGroup !== 'all') {
                tasks = tasks.filter(task => task.group === selectedGroup);
            }
            
            // Â¶ÇÊûúÈÄâÊã©‰∫ÜÊåâÁªÑÁ≠õÈÄâÔºåÊòæÁ§∫ÂàÜÁªÑÁúãÊùøÔºåÂê¶ÂàôÊòæÁ§∫Áªü‰∏ÄÁúãÊùø
            if (selectedGroup !== 'all') {
                renderGroupedKanban(tasks);
            } else {
                renderKanban(tasks);
            }
        }

        function filterKanbanByGroup() {
            filterKanbanByWeek(); // Â§çÁî®Âë®Ê¨°Á≠õÈÄâÈÄªËæë
        }

        // Ê∏≤ÊüìÁªü‰∏ÄÁúãÊùø
        function renderKanban(tasks) {
            const unifiedKanban = document.getElementById('unified-kanban');
            const groupedKanban = document.getElementById('grouped-kanban');
            
            if (unifiedKanban) unifiedKanban.style.display = 'block';
            if (groupedKanban) groupedKanban.style.display = 'none';
            
            const todoColumn = document.getElementById('todo-column');
            const inprogressColumn = document.getElementById('inprogress-column');
            const doneColumn = document.getElementById('done-column');
            
            if (!todoColumn || !inprogressColumn || !doneColumn) return;
            
            todoColumn.innerHTML = '';
            inprogressColumn.innerHTML = '';
            doneColumn.innerHTML = '';

            let todoCount = 0, inprogressCount = 0, doneCount = 0;

            tasks.forEach(task => {
                const card = createTaskCard(task);
                if (task.status === 'done') {
                    doneColumn.appendChild(card);
                    doneCount++;
                } else if (task.status === 'inprogress') {
                    inprogressColumn.appendChild(card);
                    inprogressCount++;
                } else {
                    todoColumn.appendChild(card);
                    todoCount++;
                }
            });

            const todoCountEl = document.getElementById('todo-count');
            const inprogressCountEl = document.getElementById('inprogress-count');
            const doneCountEl = document.getElementById('done-count');
            
            if (todoCountEl) todoCountEl.textContent = todoCount;
            if (inprogressCountEl) inprogressCountEl.textContent = inprogressCount;
            if (doneCountEl) doneCountEl.textContent = doneCount;
        }

        // Ê∏≤ÊüìÂàÜÁªÑÁúãÊùøÔºàÁ°¨‰ª∂ÁªÑ„ÄÅËΩØ‰ª∂ÁªÑ„ÄÅÂ§ñËßÇËÆæËÆ°ÁªÑÔºâ
        function renderGroupedKanban(tasks) {
            const unifiedKanban = document.getElementById('unified-kanban');
            const groupedKanban = document.getElementById('grouped-kanban');
            
            if (unifiedKanban) unifiedKanban.style.display = 'none';
            if (groupedKanban) groupedKanban.style.display = 'block';
            
            const groups = {
                hardware: { 
                    todo: document.getElementById('hw-todo-column'),
                    inprogress: document.getElementById('hw-inprogress-column'),
                    done: document.getElementById('hw-done-column'),
                    counts: {
                        todo: document.getElementById('hw-todo-count'),
                        inprogress: document.getElementById('hw-inprogress-count'),
                        done: document.getElementById('hw-done-count')
                    }
                },
                software: {
                    todo: document.getElementById('sw-todo-column'),
                    inprogress: document.getElementById('sw-inprogress-column'),
                    done: document.getElementById('sw-done-column'),
                    counts: {
                        todo: document.getElementById('sw-todo-count'),
                        inprogress: document.getElementById('sw-inprogress-count'),
                        done: document.getElementById('sw-done-count')
                    }
                },
                design: {
                    todo: document.getElementById('ds-todo-column'),
                    inprogress: document.getElementById('ds-inprogress-column'),
                    done: document.getElementById('ds-done-column'),
                    counts: {
                        todo: document.getElementById('ds-todo-count'),
                        inprogress: document.getElementById('ds-inprogress-count'),
                        done: document.getElementById('ds-done-count')
                    }
                }
            };
            
            // Ê∏ÖÁ©∫ÊâÄÊúâÂàó
            Object.values(groups).forEach(group => {
                if (group.todo) group.todo.innerHTML = '';
                if (group.inprogress) group.inprogress.innerHTML = '';
                if (group.done) group.done.innerHTML = '';
            });
            
            const counts = {
                hardware: { todo: 0, inprogress: 0, done: 0 },
                software: { todo: 0, inprogress: 0, done: 0 },
                design: { todo: 0, inprogress: 0, done: 0 }
            };
            
            // ÂàÜÈÖç‰ªªÂä°Âà∞ÂØπÂ∫îÁªÑÁöÑÁúãÊùø
            tasks.forEach(task => {
                const group = groups[task.group];
                if (!group) return;
                
                const card = createTaskCard(task);
                if (task.status === 'done') {
                    if (group.done) group.done.appendChild(card);
                    counts[task.group].done++;
                } else if (task.status === 'inprogress') {
                    if (group.inprogress) group.inprogress.appendChild(card);
                    counts[task.group].inprogress++;
                } else {
                    if (group.todo) group.todo.appendChild(card);
                    counts[task.group].todo++;
                }
            });
            
            // Êõ¥Êñ∞ËÆ°Êï∞
            Object.keys(counts).forEach(groupKey => {
                const group = groups[groupKey];
                if (group && group.counts) {
                    if (group.counts.todo) group.counts.todo.textContent = counts[groupKey].todo;
                    if (group.counts.inprogress) group.counts.inprogress.textContent = counts[groupKey].inprogress;
                    if (group.counts.done) group.counts.done.textContent = counts[groupKey].done;
                }
            });
        }

        function createTaskCard(task) {
            const card = document.createElement('div');
            card.className = 'kanban-card';
            card.style.cssText = `
                background: var(--card-bg);
                border: 1px solid var(--border-light);
                padding: 15px;
                margin-bottom: 10px;
                border-radius: 8px;
                box-shadow: var(--shadow-sm);
                cursor: pointer;
                transition: all 0.2s;
            `;
            card.onmouseover = () => card.style.transform = 'translateY(-2px)';
            card.onmouseout = () => card.style.transform = 'translateY(0)';

            const progressColor = task.progress === 100 ? '#27ae60' : task.progress > 0 ? '#3498db' : '#95a5a6';
            
            // Á°ÆÂÆö‰ªªÂä°ÊâÄÂ±ûÁªÑÂíåÊ†áÁ≠æÈ¢úËâ≤
            const groupColors = {
                hardware: '#e74c3c',
                software: '#3498db',
                design: '#9b59b6'
            };
            const groupLabels = {
                hardware: 'üîß Á°¨‰ª∂ÁªÑ',
                software: 'üíª ËΩØ‰ª∂ÁªÑ',
                design: 'üé® Â§ñËßÇËÆæËÆ°ÁªÑ'
            };
            const taskGroup = task.group || getTaskGroup(task);
            const groupColor = groupColors[taskGroup] || '#95a5a6';
            const groupLabel = groupLabels[taskGroup] || '';
            const taskWeek = task.week || getTaskWeek(task);
            
            card.innerHTML = `
                <div style="font-weight: bold; margin-bottom: 8px; color: var(--text);">${task.name}</div>
                <div style="font-size: 0.85em; color: ${groupColor}; margin-bottom: 6px; font-weight: 600;">
                    ${groupLabel} ${taskWeek ? `| Week ${taskWeek}` : ''}
                </div>
                <div style="font-size: 0.9em; color: var(--text-secondary); margin-bottom: 8px;">
                    üë§ ${task.assignee || 'Êú™ÂàÜÈÖç'}
                </div>
                <div style="margin-bottom: 8px;">
                    <div style="background: var(--surface); border-radius: 4px; height: 6px; overflow: hidden;">
                        <div style="background: ${progressColor}; height: 100%; width: ${task.progress}%; transition: width 0.3s;"></div>
                    </div>
                    <div style="font-size: 0.85em; color: var(--text-secondary); margin-top: 4px;">ËøõÂ∫¶: ${task.progress}%</div>
                </div>
                <div style="font-size: 0.85em; color: var(--text-secondary);">
                    üìÖ ${task.start} - ${task.end}
                </div>
            `;

            return card;
        }

        // ÊàëÁöÑ‰ªªÂä°ÂäüËÉΩ
        function initMyTasks() {
            filterMyTasks();
        }

        function filterMyTasks() {
            const selector = document.getElementById('member-selector');
            if (!selector) return;
            
            const selectedMember = selector.value;
            const container = document.getElementById('my-tasks-container');
            
            if (!container) return;

            if (!selectedMember) {
                container.innerHTML = '<p style="color: var(--muted); text-align: center; padding: 40px;">ËØ∑ÈÄâÊã©ÊàêÂëòÊü•ÁúãÂÖ∂‰ªªÂä°</p>';
                return;
            }

            if (!ganttData || !ganttData.tasks) {
                container.innerHTML = '<p style="color: var(--muted); text-align: center; padding: 40px;">‰ªªÂä°Êï∞ÊçÆÂä†ËΩΩ‰∏≠...</p>';
                return;
            }

            const tasks = ganttData.tasks.filter(task => {
                if (!task.assignee) return false;
                const assignees = task.assignee.split('+').map(a => a.trim());
                return assignees.includes(selectedMember) || 
                       (assignees.includes('ÂÖ®‰ΩìÂ≠¶Âëò') && ['ËµµÂ§©Êúó', 'ËíãÁöìËΩ©', 'Âº†ÁªçÂçø', 'ÈÇìÂ≠êÁøî', 'ÊûóÂºòÊØÖ', 'Â§èÊ¢ìÁöì'].includes(selectedMember)) ||
                       (assignees.includes('Á°¨‰ª∂ÁªÑ') && ['ËµµÂ§©Êúó', 'ËíãÁöìËΩ©', 'ÊûóÂºòÊØÖ', 'Â§èÊ¢ìÁöì'].includes(selectedMember)) ||
                       (assignees.includes('ËΩØ‰ª∂ÁªÑ') && ['Âº†ÁªçÂçø', 'ÈÇìÂ≠êÁøî'].includes(selectedMember));
            });

            if (tasks.length === 0) {
                container.innerHTML = `<p style="color: var(--muted); text-align: center; padding: 40px;">${selectedMember} ÊöÇÊó†ÂàÜÈÖçÁöÑ‰ªªÂä°</p>`;
                return;
            }

            container.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px;">
                    ${tasks.map(task => createMyTaskCard(task)).join('')}
                </div>
            `;
        }

        function createMyTaskCard(task) {
            const progressColor = task.progress === 100 ? '#27ae60' : task.progress > 0 ? '#3498db' : '#95a5a6';
            const statusIcon = task.progress === 100 ? '‚úÖ' : task.progress > 0 ? 'üîÑ' : '‚è≥';
            const statusText = task.progress === 100 ? 'Â∑≤ÂÆåÊàê' : task.progress > 0 ? 'ËøõË°å‰∏≠' : 'ÂæÖÂºÄÂßã';

            return `
                <div style="background: var(--card-bg); border: 1px solid var(--border-light); padding: 20px; border-radius: 12px; box-shadow: var(--shadow-sm);">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 12px;">
                        <h3 style="margin: 0; color: var(--text); font-size: 1.1em;">${task.name}</h3>
                        <span style="background: ${progressColor}; color: white; padding: 4px 10px; border-radius: 12px; font-size: 0.85em;">
                            ${statusIcon} ${statusText}
                        </span>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <div style="background: var(--surface); border-radius: 4px; height: 8px; overflow: hidden;">
                            <div style="background: ${progressColor}; height: 100%; width: ${task.progress}%; transition: width 0.3s;"></div>
                        </div>
                        <div style="font-size: 0.9em; color: var(--text-secondary); margin-top: 6px;">ËøõÂ∫¶: ${task.progress}%</div>
                    </div>
                    <div style="font-size: 0.9em; color: var(--text-secondary); margin-bottom: 8px;">
                        üìÖ <strong>Êó∂Èó¥:</strong> ${task.start} Ëá≥ ${task.end}
                    </div>
                    <div style="font-size: 0.9em; color: var(--text-secondary);">
                        üë• <strong>Ë¥üË¥£‰∫∫:</strong> ${task.assignee}
                    </div>
                    ${task.dependencies ? `
                        <div style="font-size: 0.85em; color: var(--text-secondary); margin-top: 8px; padding-top: 8px; border-top: 1px solid var(--border-light);">
                            üîó ‰æùËµñ: ${task.dependencies}
                        </div>
                    ` : ''}
                </div>
            `;
        }


        // ============================================
        // Áî®Êà∑ËÆ§ËØÅ‰∏éËßíËâ≤ÊùÉÈôêÁ≥ªÁªü
        // ============================================

        let currentUser = null;
        let teamsData = null;

        // Ëé∑ÂèñËßíËâ≤ÂæΩÁ´†Á±ªÂêç
        function getRoleBadgeClass(role) {
            if (!role) return 'role-badge member';
            const lowerRole = role.toLowerCase();
            if (lowerRole.includes('ÈòüÈïø') || lowerRole.includes('ÁªÑÈïø') || lowerRole.includes('teamleader')) {
                return 'role-badge leader';
            } else if (lowerRole.includes('ÂØºÂ∏à') || lowerRole.includes('mentor')) {
                return 'role-badge mentor';
            } else if (lowerRole.includes('È¢ÜËà™Âëò') || lowerRole.includes('navigator')) {
                return 'role-badge navigator';
            } else if (lowerRole.includes('ÂçèË∞ÉÂëò') || lowerRole.includes('coordinator')) {
                return 'role-badge coordinator';
            } else if (lowerRole.includes('Ê°à‰∏ª') || lowerRole.includes('owner') || lowerRole.includes('ÊÄªË¥üË¥£‰∫∫')) {
                return 'role-badge owner';
            } else if (lowerRole.includes('ËÆ∞ÂΩï') || lowerRole.includes('recorder')) {
                return 'role-badge recorder';
            }
            return 'role-badge member';
        }

        // Ëé∑ÂèñËßíËâ≤Á±ªÂûã
        function getUserRoleType(role) {
            if (!role) return 'member';
            const lowerRole = role.toLowerCase();
            if (lowerRole.includes('ÂØºÂ∏à') || lowerRole.includes('È¢ÜËà™Âëò') || lowerRole.includes('Ê°à‰∏ª') ||
                lowerRole.includes('ÂçèË∞ÉÂëò') || lowerRole.includes('ÊÄªË¥üË¥£‰∫∫')) {
                return 'mentor';
            } else if (lowerRole.includes('ÈòüÈïø') || lowerRole.includes('ÁªÑÈïø')) {
                return 'leader';
            }
            return 'member';
        }

        // Âä†ËΩΩÂõ¢ÈòüÊï∞ÊçÆ
        async function loadTeamsData() {
            try {
                const response = await fetch('data/teams.json');
                teamsData = await response.json();
                populateUserSelect();
            } catch (error) {
                console.error('Âä†ËΩΩÂõ¢ÈòüÊï∞ÊçÆÂ§±Ë¥•:', error);
                // Â¶ÇÊûúÂä†ËΩΩÂ§±Ë¥•Ôºå‰ΩøÁî®ÂÜÖÂµåÊï∞ÊçÆ
                populateUserSelect();
            }
        }

        // Â°´ÂÖÖÁî®Êà∑ÈÄâÊã©‰∏ãÊãâÊ°Ü
        function populateUserSelect() {
            const select = document.getElementById('username');
            if (!select || !teamsData) return;

            const users = [];
            teamsData.teams.forEach(team => {
                team.members.forEach(member => {
                    users.push({
                        id: member.id,
                        name: member.name,
                        role: member.role,
                        team: team.name
                    });
                });
            });

            // Ê∑ªÂä†Ê∏∏ÂÆ¢Ê®°ÂºèÈÄâÈ°π
            users.unshift({ id: 'guest', name: 'üë§ Ê∏∏ÂÆ¢Ê®°ÂºèÔºà‰ªÖÊµèËßàÔºâ', role: 'guest', team: 'Ê∏∏ÂÆ¢' });

            // ÊåâËßíËâ≤ÊéíÂ∫èÔºöÊ°à‰∏ª/ÂØºÂ∏à/È¢ÜËà™Âëò -> ÈòüÈïø -> ÊàêÂëò
            users.sort((a, b) => {
                const roleOrder = {
                    'guest': 0,
                    'member': 3,
                    'leader': 2,
                    'mentor': 1
                };
                return roleOrder[getUserRoleType(b.role)] - roleOrder[getUserRoleType(a.role)];
            });

            select.innerHTML = '<option value="">ËØ∑ÈÄâÊã©...</option>';
            users.forEach(user => {
                const option = document.createElement('option');
                option.value = user.id;
                option.textContent = `${user.name} (${user.role})`;
                option.dataset.role = user.role;
                select.appendChild(option);
            });
        }

        // Â§ÑÁêÜÁôªÂΩï
        function handleLogin(event) {
            event.preventDefault();

            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (!username) {
                alert('ËØ∑ÈÄâÊã©Áî®Êà∑Âêç');
                return;
            }

            // Ê∏∏ÂÆ¢Ê®°Âºè
            if (username === 'guest') {
                currentUser = {
                    id: 'guest',
                    name: 'Ê∏∏ÂÆ¢',
                    role: 'guest',
                    team: 'Ê∏∏ÂÆ¢',
                    avatar: 'üë§'
                };
            } else if (teamsData) {
                // Êü•ÊâæÁî®Êà∑
                let foundUser = null;
                teamsData.teams.forEach(team => {
                    team.members.forEach(member => {
                        if (member.id === username) {
                            foundUser = {
                                id: member.id,
                                name: member.name,
                                role: member.role,
                                team: team.name,
                                avatar: member.avatar || member.name.charAt(0)
                            };
                        }
                    });
                });

                if (foundUser) {
                    currentUser = foundUser;
                } else {
                    alert('Áî®Êà∑‰∏çÂ≠òÂú®');
                    return;
                }
            } else {
                alert('Á≥ªÁªüÊï∞ÊçÆÂä†ËΩΩÂ§±Ë¥•ÔºåËØ∑Âà∑Êñ∞È°µÈù¢ÈáçËØï');
                return;
            }

            // ‰øùÂ≠òÁôªÂΩïÁä∂ÊÄÅ
            localStorage.setItem('currentUser', JSON.stringify(currentUser));

            // ÈöêËóèÁôªÂΩïÊ®°ÊÄÅÊ°ÜÔºåÊòæÁ§∫‰∏ªÂÜÖÂÆπ
            document.getElementById('loginModal').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';

            // ÊòæÁ§∫Áî®Êà∑‰ø°ÊÅØ
            showUserInfo();

            // Ê†πÊçÆËßíËâ≤ÊòæÁ§∫‰∏çÂêåÂÜÖÂÆπ
            updateUIByRole();

            // ÊòæÁ§∫Êñá‰ª∂Êèê‰∫§Ê†áÁ≠æÔºàÊâÄÊúâÁôªÂΩïÁî®Êà∑ÂèØËßÅÔºâ
            document.getElementById('submissionTab').style.display = 'block';

            // ÊòæÁ§∫Ê¨¢ËøéÊ∂àÊÅØ
            if (currentUser.role !== 'guest') {
                setTimeout(() => {
                    alert(`Ê¨¢ËøéÔºå${currentUser.name}ÔºÅÊÇ®ÁöÑËßíËâ≤Ôºö${currentUser.role}`);
                }, 300);
            }

            // Âä†ËΩΩÁî®Êà∑ÁöÑÊèê‰∫§ËÆ∞ÂΩï
            loadUserSubmissions();
        }

        // ÊòæÁ§∫Áî®Êà∑‰ø°ÊÅØ
        function showUserInfo() {
            const header = document.querySelector('.header');

            // Ê£ÄÊü•ÊòØÂê¶Â∑≤Â≠òÂú®Áî®Êà∑‰ø°ÊÅØÊ†è
            let userInfo = document.getElementById('userInfoBar');
            if (!userInfo) {
                userInfo = document.createElement('div');
                userInfo.id = 'userInfoBar';
                userInfo.className = 'user-info';
                header.parentNode.insertBefore(userInfo, header.nextSibling);
            }

            const roleBadgeClass = currentUser.role === 'guest' ? 'role-badge member' : getRoleBadgeClass(currentUser.role);

            userInfo.innerHTML = `
                <div class="user-details">
                    <div class="user-avatar">${currentUser.avatar}</div>
                    <div class="user-text">
                        <h3>${currentUser.name} <span class="${roleBadgeClass}">${currentUser.role}</span></h3>
                        <p>ÊâÄÂ±ûÂõ¢ÈòüÔºö${currentUser.team}</p>
                    </div>
                </div>
                <button class="logout-btn" onclick="handleLogout()">ÈÄÄÂá∫ÁôªÂΩï</button>
            `;
        }

        // ÈÄÄÂá∫ÁôªÂΩï
        function handleLogout() {
            if (confirm('Á°ÆÂÆöË¶ÅÈÄÄÂá∫ÁôªÂΩïÂêóÔºü')) {
                currentUser = null;
                localStorage.removeItem('currentUser');
                document.getElementById('loginModal').style.display = 'flex';
                document.getElementById('mainContent').style.display = 'none';
                document.getElementById('userInfoBar')?.remove();
                document.getElementById('submissionTab').style.display = 'none';
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
            }
        }

        // Ê†πÊçÆËßíËâ≤Êõ¥Êñ∞UI
        function updateUIByRole() {
            if (!currentUser) return;

            const roleType = getUserRoleType(currentUser.role);

            // Ê∏∏ÂÆ¢Ê®°ÂºèÁöÑÁâπÊÆäÂ§ÑÁêÜ
            if (currentUser.role === 'guest') {
                // Ê∏∏ÂÆ¢Âè™ËÉΩÊü•ÁúãÔºå‰∏çËÉΩÊìç‰Ωú
                alert('Ê∏∏ÂÆ¢Ê®°Âºè‰∏ãÔºåÊÇ®ÂèØ‰ª•ÊµèËßàÊâÄÊúâÂÖ¨ÂºÄÂÜÖÂÆπ„ÄÇÂ¶ÇÈúÄÊèê‰∫§Êñá‰ª∂Êàñ‰ΩøÁî®ÂÆåÊï¥ÂäüËÉΩÔºåËØ∑ÈÄâÊã©ÂÖ∑‰ΩìÁî®Êà∑ÁôªÂΩï„ÄÇ');
            }
        }

        // Ê£ÄÊü•Áî®Êà∑ÊùÉÈôê
        function checkPermission(requiredRole) {
            if (!currentUser) return false;
            if (currentUser.role === 'guest') return false;

            const userRoleType = getUserRoleType(currentUser.role);
            const roleHierarchy = {
                'guest': 0,
                'member': 1,
                'leader': 2,
                'mentor': 3
            };

            return roleHierarchy[userRoleType] >= roleHierarchy[requiredRole];
        }

        // È°µÈù¢Âä†ËΩΩÊó∂Ê£ÄÊü•ÁôªÂΩïÁä∂ÊÄÅ
        function checkLoginStatus() {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                document.getElementById('loginModal').style.display = 'none';
                document.getElementById('mainContent').style.display = 'block';
                showUserInfo();
                updateUIByRole();
                document.getElementById('submissionTab').style.display = 'block';
                loadUserSubmissions();
            } else {
                // ÈªòËÆ§ÊòæÁ§∫ÁôªÂΩïÊ®°ÊÄÅÊ°Ü
                document.getElementById('loginModal').style.display = 'flex';
                document.getElementById('mainContent').style.display = 'none';
            }
        }

        // ============================================
        // Êñá‰ª∂‰∏ä‰º†‰∏éÊèê‰∫§Á≥ªÁªü
        // ============================================

        let uploadedFiles = [];

        // ÂàùÂßãÂåñÊñá‰ª∂‰∏ä‰º†
        function initFileUpload() {
            const uploadArea = document.getElementById('uploadArea');
            if (!uploadArea) return;

            // ÁÇπÂáª‰∏ä‰º†
            uploadArea.addEventListener('click', () => {
                if (currentUser && currentUser.role !== 'guest') {
                    document.getElementById('fileInput').click();
                } else {
                    alert('ËØ∑ÂÖàÁôªÂΩïÂêéÂÜç‰∏ä‰º†Êñá‰ª∂');
                }
            });

            // ÊãñÊãΩ‰∏ä‰º†
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                if (currentUser && currentUser.role !== 'guest') {
                    uploadArea.classList.add('dragover');
                }
            });

            uploadArea.addEventListener('dragleave', () => {
                uploadArea.classList.remove('dragover');
            });

            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('dragover');
                if (currentUser && currentUser.role !== 'guest') {
                    handleFiles(e.dataTransfer.files);
                } else {
                    alert('ËØ∑ÂÖàÁôªÂΩïÂêéÂÜç‰∏ä‰º†Êñá‰ª∂');
                }
            });
        }

        // Â§ÑÁêÜÊñá‰ª∂ÈÄâÊã©
        function handleFileSelect(event) {
            handleFiles(event.target.files);
        }

        // Â§ÑÁêÜÊñá‰ª∂
        function handleFiles(files) {
            if (!currentUser || currentUser.role === 'guest') {
                alert('ËØ∑ÂÖàÁôªÂΩïÂêéÂÜç‰∏ä‰º†Êñá‰ª∂');
                return;
            }

            Array.from(files).forEach(file => {
                if (file.size > 10 * 1024 * 1024) {
                    alert(`Êñá‰ª∂ ${file.name} Ë∂ÖËøá 10MB ÈôêÂà∂`);
                    return;
                }

                const fileData = {
                    id: Date.now() + Math.random(),
                    name: file.name,
                    size: file.size,
                    type: file.type,
                    uploadDate: new Date(),
                    userId: currentUser.id,
                    userName: currentUser.name,
                    status: 'uploaded'
                };

                uploadedFiles.push(fileData);
                displayFile(fileData);
            });

            saveSubmissions();
        }

        // ÊòæÁ§∫Êñá‰ª∂
        function displayFile(fileData) {
            const fileList = document.getElementById('fileList');
            const fileItem = document.createElement('div');
            fileItem.className = 'file-item';
            fileItem.id = `file-${fileData.id}`;

            const icon = getFileIcon(fileData.name);
            const sizeText = formatFileSize(fileData.size);

            fileItem.innerHTML = `
                <div class="file-info">
                    <div class="file-icon">${icon}</div>
                    <div class="file-details">
                        <h4>${fileData.name}</h4>
                        <p>‰∏ä‰º†ËÄÖÔºö${fileData.userName} | Â§ßÂ∞èÔºö${sizeText} | Êó∂Èó¥Ôºö${fileData.uploadDate.toLocaleString()}</p>
                    </div>
                </div>
                <div class="file-status uploaded">Â∑≤‰∏ä‰º†</div>
            `;

            fileList.appendChild(fileItem);
        }

        // Ëé∑ÂèñÊñá‰ª∂ÂõæÊ†á
        function getFileIcon(filename) {
            const ext = filename.split('.').pop().toLowerCase();
            const iconMap = {
                'jpg': 'üñºÔ∏è', 'jpeg': 'üñºÔ∏è', 'png': 'üñºÔ∏è', 'gif': 'üñºÔ∏è',
                'pdf': 'üìÑ', 'doc': 'üìù', 'docx': 'üìù', 'txt': 'üìù',
                'zip': 'üì¶', 'rar': 'üì¶', '7z': 'üì¶',
                'js': 'üíª', 'html': 'üíª', 'css': 'üíª', 'py': 'üíª', 'java': 'üíª', 'cpp': 'üíª',
                'ppt': 'üìä', 'pptx': 'üìä', 'xls': 'üìä', 'xlsx': 'üìä'
            };
            return iconMap[ext] || 'üìÑ';
        }

        // Ê†ºÂºèÂåñÊñá‰ª∂Â§ßÂ∞è
        function formatFileSize(bytes) {
            if (bytes < 1024) return bytes + ' B';
            if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
            return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
        }

        // ‰øùÂ≠òÊèê‰∫§ËÆ∞ÂΩï
        function saveSubmissions() {
            if (!currentUser) return;
            const allSubmissions = JSON.parse(localStorage.getItem('fileSubmissions') || '{}');
            allSubmissions[currentUser.id] = uploadedFiles;
            localStorage.setItem('fileSubmissions', JSON.stringify(allSubmissions));
        }

        // Âä†ËΩΩÁî®Êà∑Êèê‰∫§ËÆ∞ÂΩï
        function loadUserSubmissions() {
            if (!currentUser) return;

            const allSubmissions = JSON.parse(localStorage.getItem('fileSubmissions') || '{}');
            const userFiles = allSubmissions[currentUser.id] || [];
            uploadedFiles = userFiles;

            const submittedFilesList = document.getElementById('submittedFilesList');
            if (!submittedFilesList) return;

            if (userFiles.length === 0) {
                submittedFilesList.innerHTML = '<p style="color: var(--text-secondary); text-align: center; padding: 40px;">ÊöÇÊó†Êèê‰∫§ËÆ∞ÂΩï</p>';
            } else {
                submittedFilesList.innerHTML = userFiles.map(file => `
                    <div class="file-item">
                        <div class="file-info">
                            <div class="file-icon">${getFileIcon(file.name)}</div>
                            <div class="file-details">
                                <h4>${file.name}</h4>
                                <p>Â§ßÂ∞èÔºö${formatFileSize(file.size)} | ‰∏ä‰º†Êó∂Èó¥Ôºö${new Date(file.uploadDate).toLocaleString()}</p>
                            </div>
                        </div>
                        <div class="file-status uploaded">Â∑≤‰∏ä‰º†</div>
                    </div>
                `).join('');
            }
        }

        // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÂàùÂßãÂåñ
        window.addEventListener('DOMContentLoaded', async () => {
            // È¶ñÂÖàÊ£ÄÊü•ÁôªÂΩïÁä∂ÊÄÅ
            checkLoginStatus();

            // Âä†ËΩΩÂõ¢ÈòüÊï∞ÊçÆ
            if (currentUser || document.getElementById('loginModal').style.display !== 'none') {
                await loadTeamsData();
            }

            // ÂàùÂßãÂåñÊñá‰ª∂‰∏ä‰º†
            initFileUpload();
        });

    </script>
</body>
</html>
